/*! For license information please see main.f8754ca3.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},213:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}))},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));function u(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var s=!1,c=null,l=!1,f=null,h={onError:function(e){s=!0,c=e}};function d(e,t,n,r,i,a,o,l,f){s=!1,c=null,u.apply(h,arguments)}var p=null,v=null,m=null;function y(e,t,n){var r=e.type||"unknown-event";e.currentTarget=m(n),function(e,t,n,r,i,a,u,h,p){if(d.apply(this,arguments),s){if(!s)throw Error(o(198));var v=c;s=!1,c=null,l||(l=!0,f=v)}}(r,t,void 0,e),e.currentTarget=null}var g=null,b={};function k(){if(g)for(var e in b){var t=b[e],n=g.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!x[n]){if(!t.extractEvents)throw Error(o(97,e));for(var r in x[n]=t,n=t.eventTypes){var i=void 0,a=n[r],u=t,s=r;if(_.hasOwnProperty(s))throw Error(o(99,s));_[s]=a;var c=a.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&w(c[i],u,s);i=!0}else a.registrationName?(w(a.registrationName,u,s),i=!0):i=!1;if(!i)throw Error(o(98,r,e))}}}}function w(e,t,n){if(E[e])throw Error(o(100,e));E[e]=t,T[e]=t.eventTypes[n].dependencies}var x=[],_={},E={},T={};function S(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(o(102,t));b[t]=r,n=!0}}n&&k()}var I=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),C=null,A=null,P=null;function N(e){if(e=v(e)){if("function"!==typeof C)throw Error(o(280));var t=e.stateNode;t&&(t=p(t),C(e.stateNode,e.type,t))}}function D(e){A?P?P.push(e):P=[e]:A=e}function O(){if(A){var e=A,t=P;if(P=A=null,N(e),t)for(e=0;e<t.length;e++)N(t[e])}}function R(e,t){return e(t)}function M(e,t,n,r,i){return e(t,n,r,i)}function L(){}var F=R,V=!1,j=!1;function U(){null===A&&null===P||(L(),O())}function B(e,t,n){if(j)return e(t,n);j=!0;try{return F(e,t,n)}finally{j=!1,U()}}var z=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q=Object.prototype.hasOwnProperty,G={},K={};function H(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var W={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){W[e]=new H(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];W[t]=new H(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){W[e]=new H(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){W[e]=new H(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){W[e]=new H(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){W[e]=new H(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){W[e]=new H(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){W[e]=new H(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){W[e]=new H(e,5,!1,e.toLowerCase(),null,!1)}));var Q=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Q,Y);W[t]=new H(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Q,Y);W[t]=new H(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Q,Y);W[t]=new H(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){W[e]=new H(e,1,!1,e.toLowerCase(),null,!1)})),W.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){W[e]=new H(e,1,!1,e.toLowerCase(),null,!0)}));var X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(e,t,n,r){var i=W.hasOwnProperty(t)?W[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!q.call(K,e)||!q.call(G,e)&&(z.test(e)?K[e]=!0:(G[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,ie=Z?Symbol.for("react.profiler"):60114,ae=Z?Symbol.for("react.provider"):60109,oe=Z?Symbol.for("react.context"):60110,ue=Z?Symbol.for("react.concurrent_mode"):60111,se=Z?Symbol.for("react.forward_ref"):60112,ce=Z?Symbol.for("react.suspense"):60113,le=Z?Symbol.for("react.suspense_list"):60120,fe=Z?Symbol.for("react.memo"):60115,he=Z?Symbol.for("react.lazy"):60116,de=Z?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function ve(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function me(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case le:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case ae:return"Context.Provider";case se:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return me(e.type);case de:return me(e.render);case he:if(e=1===e._status?e._result:null)return me(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=me(e.type);n=null,r&&(n=me(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}function ge(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ke(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function we(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function xe(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function _e(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ge(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ee(e,t){null!=(t=t.checked)&&$(e,"checked",t,!1)}function Te(e,t){Ee(e,t);var n=ge(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ie(e,t.type,ge(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Se(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ie(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ge(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Pe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ne(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ge(n)}}function De(e,t){var n=ge(t.value),r=ge(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Re="http://www.w3.org/1999/xhtml",Me="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ve,je,Ue=(je=function(e,t){if(e.namespaceURI!==Me||"innerHTML"in e)e.innerHTML=t;else{for((Ve=Ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return je(e,t)}))}:je);function Be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ze(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:ze("Animation","AnimationEnd"),animationiteration:ze("Animation","AnimationIteration"),animationstart:ze("Animation","AnimationStart"),transitionend:ze("Transition","TransitionEnd")},Ge={},Ke={};function He(e){if(Ge[e])return Ge[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ke)return Ge[e]=n[t];return e}I&&(Ke=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var We=He("animationend"),Qe=He("animationiteration"),Ye=He("animationstart"),Xe=He("transitionend"),$e="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function Ze(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(o(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return nt(i),e;if(a===r)return nt(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function at(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function ut(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)y(e,t[r],n[r]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(at(e,ut),ot)throw Error(o(95));if(l)throw e=f,l=!1,f=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!I)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ft=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ft.length&&ft.push(e)}function dt(e,t,n,r){if(ft.length){var i=ft.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Nn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ct(e.nativeEvent);r=e.topLevelType;var a=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var u=null,s=0;s<x.length;s++){var c=x[s];c&&(c=c.extractEvents(r,t,a,i,o))&&(u=it(u,c))}st(u)}}function vt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$e.indexOf(e)&&Qt(e,t)}n.set(e,null)}}var mt,yt,gt,bt=!1,kt=[],wt=null,xt=null,_t=null,Et=new Map,Tt=new Map,St=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ct="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function At(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Pt(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Nt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=At(t,n,r,i,a),null!==t&&(null!==(t=Dn(t))&&yt(t)),e):(e.eventSystemFlags|=r,e)}function Dt(e){var t=Nn(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void a.unstable_runWithPriority(e.priority,(function(){gt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Dn(t);return null!==n&&yt(n),e.blockedOn=t,!1}return!0}function Rt(e,t,n){Ot(e)&&n.delete(t)}function Mt(){for(bt=!1;0<kt.length;){var e=kt[0];if(null!==e.blockedOn){null!==(e=Dn(e.blockedOn))&&mt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:kt.shift()}null!==wt&&Ot(wt)&&(wt=null),null!==xt&&Ot(xt)&&(xt=null),null!==_t&&Ot(_t)&&(_t=null),Et.forEach(Rt),Tt.forEach(Rt)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,bt||(bt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Mt)))}function Ft(e){function t(t){return Lt(t,e)}if(0<kt.length){Lt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&Lt(wt,e),null!==xt&&Lt(xt,e),null!==_t&&Lt(_t,e),Et.forEach(t),Tt.forEach(t),n=0;n<St.length;n++)(r=St[n]).blockedOn===e&&(r.blockedOn=null);for(;0<St.length&&null===(n=St[0]).blockedOn;)Dt(n),null===n.blockedOn&&St.shift()}var Vt={},jt=new Map,Ut=new Map,Bt=["abort","abort",We,"animationEnd",Qe,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function zt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],a="on"+(i[0].toUpperCase()+i.slice(1));a={phasedRegistrationNames:{bubbled:a,captured:a+"Capture"},dependencies:[r],eventPriority:t},Ut.set(r,t),jt.set(r,a),Vt[i]=a}}zt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),zt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),zt(Bt,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Gt=0;Gt<qt.length;Gt++)Ut.set(qt[Gt],0);var Kt=a.unstable_UserBlockingPriority,Ht=a.unstable_runWithPriority,Wt=!0;function Qt(e,t){Yt(t,e,!1)}function Yt(e,t,n){var r=Ut.get(t);switch(void 0===r?2:r){case 0:r=Xt.bind(null,t,1,e);break;case 1:r=$t.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Xt(e,t,n,r){V||L();var i=Jt,a=V;V=!0;try{M(i,e,t,n,r)}finally{(V=a)||U()}}function $t(e,t,n,r){Ht(Kt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(Wt)if(0<kt.length&&-1<It.indexOf(e))e=At(null,e,t,n,r),kt.push(e);else{var i=Zt(e,t,n,r);if(null===i)Pt(e,r);else if(-1<It.indexOf(e))e=At(i,e,t,n,r),kt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return wt=Nt(wt,e,t,n,r,i),!0;case"dragenter":return xt=Nt(xt,e,t,n,r,i),!0;case"mouseover":return _t=Nt(_t,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Et.set(a,Nt(Et.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Tt.set(a,Nt(Tt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Pt(e,r),e=dt(e,r,null,t);try{B(pt,e)}finally{ht(e)}}}}function Zt(e,t,n,r){if(null!==(n=Nn(n=ct(r)))){var i=et(n);if(null===i)n=null;else{var a=i.tag;if(13===a){if(null!==(n=tt(i)))return n;n=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=dt(e,r,n,t);try{B(pt,e)}finally{ht(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var an=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(an[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62,""))}}function un(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Re;function cn(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=T[t];for(var r=0;r<t.length;r++)vt(t[r],e,n)}function ln(){}function fn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,r=hn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hn(r)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vn(){for(var e=window,t=fn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=fn((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yn="$?",gn="$!",bn=null,kn=null;function wn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function xn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _n="function"===typeof setTimeout?setTimeout:void 0,En="function"===typeof clearTimeout?clearTimeout:void 0;function Tn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Sn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||n===gn||n===yn){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var In=Math.random().toString(36).slice(2),Cn="__reactInternalInstance$"+In,An="__reactEventHandlers$"+In,Pn="__reactContainere$"+In;function Nn(e){var t=e[Cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pn]||n[Cn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Sn(e);null!==e;){if(n=e[Cn])return n;e=Sn(e)}return t}n=(e=n).parentNode}return null}function Dn(e){return!(e=e[Cn]||e[Pn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function On(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Rn(e){return e[An]||null}function Mn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Ln(e,t){var n=e.stateNode;if(!n)return null;var r=p(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}function Fn(e,t,n){(t=Ln(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Vn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Mn(t);for(t=n.length;0<t--;)Fn(n[t],"captured",e);for(t=0;t<n.length;t++)Fn(n[t],"bubbled",e)}}function jn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Ln(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Un(e){e&&e.dispatchConfig.registrationName&&jn(e._targetInst,null,e)}function Bn(e){at(e,Vn)}var zn=null,qn=null,Gn=null;function Kn(){if(Gn)return Gn;var e,t,n=qn,r=n.length,i="value"in zn?zn.value:zn.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Gn=i.slice(e,1<t?1-t:void 0)}function Hn(){return!0}function Wn(){return!1}function Qn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Hn:Wn,this.isPropagationStopped=Wn,this}function Yn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Xn(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $n(e){e.eventPool=[],e.getPooled=Yn,e.release=Xn}i(Qn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){this.isPersistent=Hn},isPersistent:Wn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Wn,this._dispatchInstances=this._dispatchListeners=null}}),Qn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Qn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,$n(n),n},$n(Qn);var Jn=Qn.extend({data:null}),Zn=Qn.extend({data:null}),er=[9,13,27,32],tr=I&&"CompositionEvent"in window,nr=null;I&&"documentMode"in document&&(nr=document.documentMode);var rr=I&&"TextEvent"in window&&!nr,ir=I&&(!tr||nr&&8<nr&&11>=nr),ar=String.fromCharCode(32),or={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ur=!1;function sr(e,t){switch(e){case"keyup":return-1!==er.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function cr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var lr=!1;var fr={eventTypes:or,extractEvents:function(e,t,n,r){var i;if(tr)e:{switch(e){case"compositionstart":var a=or.compositionStart;break e;case"compositionend":a=or.compositionEnd;break e;case"compositionupdate":a=or.compositionUpdate;break e}a=void 0}else lr?sr(e,n)&&(a=or.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=or.compositionStart);return a?(ir&&"ko"!==n.locale&&(lr||a!==or.compositionStart?a===or.compositionEnd&&lr&&(i=Kn()):(qn="value"in(zn=r)?zn.value:zn.textContent,lr=!0)),a=Jn.getPooled(a,t,n,r),i?a.data=i:null!==(i=cr(n))&&(a.data=i),Bn(a),i=a):i=null,(e=rr?function(e,t){switch(e){case"compositionend":return cr(t);case"keypress":return 32!==t.which?null:(ur=!0,ar);case"textInput":return(e=t.data)===ar&&ur?null:e;default:return null}}(e,n):function(e,t){if(lr)return"compositionend"===e||!tr&&sr(e,t)?(e=Kn(),Gn=qn=zn=null,lr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ir&&"ko"!==t.locale?null:t.data}}(e,n))?((t=Zn.getPooled(or.beforeInput,t,n,r)).data=e,Bn(t)):t=null,null===i?t:null===t?i:[i,t]}},hr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!hr[e.type]:"textarea"===t}var pr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function vr(e,t,n){return(e=Qn.getPooled(pr.change,e,t,n)).type="change",D(n),Bn(e),e}var mr=null,yr=null;function gr(e){st(e)}function br(e){if(we(On(e)))return e}function kr(e,t){if("change"===e)return t}var wr=!1;function xr(){mr&&(mr.detachEvent("onpropertychange",_r),yr=mr=null)}function _r(e){if("value"===e.propertyName&&br(yr))if(e=vr(yr,e,ct(e)),V)st(e);else{V=!0;try{R(gr,e)}finally{V=!1,U()}}}function Er(e,t,n){"focus"===e?(xr(),yr=n,(mr=t).attachEvent("onpropertychange",_r)):"blur"===e&&xr()}function Tr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return br(yr)}function Sr(e,t){if("click"===e)return br(t)}function Ir(e,t){if("input"===e||"change"===e)return br(t)}I&&(wr=lt("input")&&(!document.documentMode||9<document.documentMode));var Cr={eventTypes:pr,_isInputEventSupported:wr,extractEvents:function(e,t,n,r){var i=t?On(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=kr;else if(dr(i))if(wr)o=Ir;else{o=Tr;var u=Er}else(a=i.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Sr);if(o&&(o=o(e,t)))return vr(o,n,r);u&&u(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ie(i,"number",i.value)}},Ar=Qn.extend({view:null,detail:null}),Pr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Pr[e])&&!!t[e]}function Dr(){return Nr}var Or=0,Rr=0,Mr=!1,Lr=!1,Fr=Ar.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Dr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Or;return Or=e.screenX,Mr?"mousemove"===e.type?e.screenX-t:0:(Mr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Rr;return Rr=e.screenY,Lr?"mousemove"===e.type?e.screenY-t:0:(Lr=!0,0)}}),Vr=Fr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),jr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ur={eventTypes:jr,extractEvents:function(e,t,n,r,i){var a="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(a&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!o&&!a)return null;(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?Nn(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var u=Fr,s=jr.mouseLeave,c=jr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(u=Vr,s=jr.pointerLeave,c=jr.pointerEnter,l="pointer");if(e=null==o?a:On(o),a=null==t?a:On(t),(s=u.getPooled(s,o,n,r)).type=l+"leave",s.target=e,s.relatedTarget=a,(n=u.getPooled(c,t,n,r)).type=l+"enter",n.target=a,n.relatedTarget=e,l=t,(r=o)&&l)e:{for(c=l,o=0,e=u=r;e;e=Mn(e))o++;for(e=0,t=c;t;t=Mn(t))e++;for(;0<o-e;)u=Mn(u),o--;for(;0<e-o;)c=Mn(c),e--;for(;o--;){if(u===c||u===c.alternate)break e;u=Mn(u),c=Mn(c)}u=null}else u=null;for(c=u,u=[];r&&r!==c&&(null===(o=r.alternate)||o!==c);)u.push(r),r=Mn(r);for(r=[];l&&l!==c&&(null===(o=l.alternate)||o!==c);)r.push(l),l=Mn(l);for(l=0;l<u.length;l++)jn(u[l],"bubbled",s);for(l=r.length;0<l--;)jn(r[l],"captured",n);return 0===(64&i)?[s]:[s,n]}};var Br="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},zr=Object.prototype.hasOwnProperty;function qr(e,t){if(Br(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!zr.call(t,n[r])||!Br(e[n[r]],t[n[r]]))return!1;return!0}var Gr=I&&"documentMode"in document&&11>=document.documentMode,Kr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hr=null,Wr=null,Qr=null,Yr=!1;function Xr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Yr||null==Hr||Hr!==fn(n)?null:("selectionStart"in(n=Hr)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Qr&&qr(Qr,n)?null:(Qr=n,(e=Qn.getPooled(Kr.select,Wr,e,t)).type="select",e.target=Hr,Bn(e),e))}var $r={eventTypes:Kr,extractEvents:function(e,t,n,r,i,a){if(!(a=!(i=a||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ze(i),a=T.onSelect;for(var o=0;o<a.length;o++)if(!i.has(a[o])){i=!1;break e}i=!0}a=!i}if(a)return null;switch(i=t?On(t):window,e){case"focus":(dr(i)||"true"===i.contentEditable)&&(Hr=i,Wr=t,Qr=null);break;case"blur":Qr=Wr=Hr=null;break;case"mousedown":Yr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Yr=!1,Xr(n,r);case"selectionchange":if(Gr)break;case"keydown":case"keyup":return Xr(n,r)}return null}},Jr=Qn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Zr=Qn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ei=Ar.extend({relatedTarget:null});function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ii=Ar.extend({key:function(e){if(e.key){var t=ni[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ri[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Dr,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ai=Fr.extend({dataTransfer:null}),oi=Ar.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Dr}),ui=Qn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),si=Fr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ci={eventTypes:Vt,extractEvents:function(e,t,n,r){var i=jt.get(e);if(!i)return null;switch(e){case"keypress":if(0===ti(n))return null;case"keydown":case"keyup":e=ii;break;case"blur":case"focus":e=ei;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ai;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=oi;break;case We:case Qe:case Ye:e=Jr;break;case Xe:e=ui;break;case"scroll":e=Ar;break;case"wheel":e=si;break;case"copy":case"cut":case"paste":e=Zr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Vr;break;default:e=Qn}return Bn(t=e.getPooled(i,t,n,r)),t}};if(g)throw Error(o(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),k(),p=Rn,v=Dn,m=On,S({SimpleEventPlugin:ci,EnterLeaveEventPlugin:Ur,ChangeEventPlugin:Cr,SelectEventPlugin:$r,BeforeInputEventPlugin:fr});var li=[],fi=-1;function hi(e){0>fi||(e.current=li[fi],li[fi]=null,fi--)}function di(e,t){fi++,li[fi]=e.current,e.current=t}var pi={},vi={current:pi},mi={current:!1},yi=pi;function gi(e,t){var n=e.type.contextTypes;if(!n)return pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function bi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ki(){hi(mi),hi(vi)}function wi(e,t,n){if(vi.current!==pi)throw Error(o(168));di(vi,t),di(mi,n)}function xi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,me(t)||"Unknown",a));return i({},n,{},r)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pi,yi=vi.current,di(vi,e),di(mi,mi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=xi(e,t,yi),r.__reactInternalMemoizedMergedChildContext=e,hi(mi),hi(vi),di(vi,e)):hi(mi),di(mi,n)}var Ti=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ii=a.unstable_cancelCallback,Ci=a.unstable_requestPaint,Ai=a.unstable_now,Pi=a.unstable_getCurrentPriorityLevel,Ni=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Oi=a.unstable_NormalPriority,Ri=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Li={},Fi=a.unstable_shouldYield,Vi=void 0!==Ci?Ci:function(){},ji=null,Ui=null,Bi=!1,zi=Ai(),qi=1e4>zi?Ai:function(){return Ai()-zi};function Gi(){switch(Pi()){case Ni:return 99;case Di:return 98;case Oi:return 97;case Ri:return 96;case Mi:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Ni;case 98:return Di;case 97:return Oi;case 96:return Ri;case 95:return Mi;default:throw Error(o(332))}}function Hi(e,t){return e=Ki(e),Ti(e,t)}function Wi(e,t,n){return e=Ki(e),Si(e,t,n)}function Qi(e){return null===ji?(ji=[e],Ui=Si(Ni,Xi)):ji.push(e),Li}function Yi(){if(null!==Ui){var e=Ui;Ui=null,Ii(e)}Xi()}function Xi(){if(!Bi&&null!==ji){Bi=!0;var e=0;try{var t=ji;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Si(Ni,Yi),n}finally{Bi=!1}}}function $i(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Ji(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Zi={current:null},ea=null,ta=null,na=null;function ra(){na=ta=ea=null}function ia(e){var t=Zi.current;hi(Zi),e.type._context._currentValue=t}function aa(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function oa(e,t){ea=e,na=ta=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ro=!0),e.firstContext=null)}function ua(e,t){if(na!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(na=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ta){if(null===ea)throw Error(o(308));ta=t,ea.dependencies={expirationTime:0,firstContext:t,responders:null}}else ta=ta.next=t;return e._currentValue}var sa=!1;function ca(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function la(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function fa(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ha(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function da(e,t){var n=e.alternate;null!==n&&la(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function pa(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.baseQueue,u=a.shared.pending;if(null!==u){if(null!==o){var s=o.next;o.next=u.next,u.next=s}o=u,a.shared.pending=null,null!==(s=e.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=u))}if(null!==o){s=o.next;var c=a.baseState,l=0,f=null,h=null,d=null;if(null!==s)for(var p=s;;){if((u=p.expirationTime)<r){var v={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(h=d=v,f=c):d=d.next=v,u>l&&(l=u)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ds(u,p.suspenseConfig);e:{var m=e,y=p;switch(u=t,v=n,y.tag){case 1:if("function"===typeof(m=y.payload)){c=m.call(v,c,u);break e}c=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null===(u="function"===typeof(m=y.payload)?m.call(v,c,u):m)||void 0===u)break e;c=i({},c,u);break e;case 2:sa=!0}}null!==p.callback&&(e.effectTag|=32,null===(u=a.effects)?a.effects=[p]:u.push(p))}if(null===(p=p.next)||p===s){if(null===(u=a.shared.pending))break;p=o.next=u.next,u.next=s,a.baseQueue=o=u,a.shared.pending=null}}null===d?f=c:d.next=h,a.baseState=f,a.baseQueue=d,ps(l),e.expirationTime=l,e.memoizedState=c}}function va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var ma=X.ReactCurrentBatchConfig,ya=(new r.Component).refs;function ga(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var ba={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=es(),i=ma.suspense;(i=fa(r=ts(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),ha(e,i),ns(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=es(),i=ma.suspense;(i=fa(r=ts(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),ha(e,i),ns(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=es(),r=ma.suspense;(r=fa(n=ts(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),ha(e,r),ns(e,n)}};function ka(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!qr(n,r)||!qr(i,a))}function wa(e,t,n){var r=!1,i=pi,a=t.contextType;return"object"===typeof a&&null!==a?a=ua(a):(i=bi(t)?yi:vi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?gi(e,i):pi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ba,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function xa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ba.enqueueReplaceState(t,t.state,null)}function _a(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ya,ca(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ua(a):(a=bi(t)?yi:vi.current,i.context=gi(e,a)),pa(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ga(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ba.enqueueReplaceState(i,i.state,null),pa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Ea=Array.isArray;function Ta(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ya&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function u(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fs(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ta(e,t,n),r.return=e,r):((r=Ms(n.type,n.key,n.props,null,e.mode,r)).ref=Ta(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ls(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Fs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Ms(t.type,t.key,t.props,null,e.mode,n)).ref=Ta(e,null,t),n.return=e,n;case te:return(t=Vs(t,e.mode,n)).return=e,t}if(Ea(t)||ve(t))return(t=Ls(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?l(e,t,n,r):null}if(Ea(n)||ve(n))return null!==i?null:f(e,t,n,r,null);Sa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ea(r)||ve(r))return f(t,e=e.get(n)||null,r,i,null);Sa(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=ve(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=a(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===ne&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case ee:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===ne){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ta(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===ne?((r=Ls(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Ms(a.type,a.key,a.props,null,e.mode,s)).ref=Ta(e,r,a),s.return=e,e=s)}return u(e);case te:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Vs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Fs(a,e.mode,s)).return=e,e=r),u(e);if(Ea(a))return v(e,r,a,s);if(ve(a))return m(e,r,a,s);if(l&&Sa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ca=Ia(!0),Aa=Ia(!1),Pa={},Na={current:Pa},Da={current:Pa},Oa={current:Pa};function Ra(e){if(e===Pa)throw Error(o(174));return e}function Ma(e,t){switch(di(Oa,t),di(Da,e),di(Na,Pa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fe(null,"");break;default:t=Fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}hi(Na),di(Na,t)}function La(){hi(Na),hi(Da),hi(Oa)}function Fa(e){Ra(Oa.current);var t=Ra(Na.current),n=Fe(t,e.type);t!==n&&(di(Da,e),di(Na,n))}function Va(e){Da.current===e&&(hi(Na),hi(Da))}var ja={current:0};function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===yn||n.data===gn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ba(e,t){return{responder:e,props:t}}var za=X.ReactCurrentDispatcher,qa=X.ReactCurrentBatchConfig,Ga=0,Ka=null,Ha=null,Wa=null,Qa=!1;function Ya(){throw Error(o(321))}function Xa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Br(e[n],t[n]))return!1;return!0}function $a(e,t,n,r,i,a){if(Ga=a,Ka=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,za.current=null===e||null===e.memoizedState?wo:xo,e=n(r,i),t.expirationTime===Ga){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(o(301));a+=1,Wa=Ha=null,t.updateQueue=null,za.current=_o,e=n(r,i)}while(t.expirationTime===Ga)}if(za.current=ko,t=null!==Ha&&null!==Ha.next,Ga=0,Wa=Ha=Ka=null,Qa=!1,t)throw Error(o(300));return e}function Ja(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wa?Ka.memoizedState=Wa=e:Wa=Wa.next=e,Wa}function Za(){if(null===Ha){var e=Ka.alternate;e=null!==e?e.memoizedState:null}else e=Ha.next;var t=null===Wa?Ka.memoizedState:Wa.next;if(null!==t)Wa=t,Ha=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Ha=e).memoizedState,baseState:Ha.baseState,baseQueue:Ha.baseQueue,queue:Ha.queue,next:null},null===Wa?Ka.memoizedState=Wa=e:Wa=Wa.next=e}return Wa}function eo(e,t){return"function"===typeof t?t(e):t}function to(e){var t=Za(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Ha,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.expirationTime;if(l<Ga){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,l>Ka.expirationTime&&(Ka.expirationTime=l,ps(l))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),ds(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,Br(r,t.memoizedState)||(Ro=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function no(e){var t=Za(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);Br(a,t.memoizedState)||(Ro=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ro(e){var t=Ja();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e}).dispatch=bo.bind(null,Ka,e),[t.memoizedState,e]}function io(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ka.updateQueue)?(t={lastEffect:null},Ka.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ao(){return Za().memoizedState}function oo(e,t,n,r){var i=Ja();Ka.effectTag|=e,i.memoizedState=io(1|t,n,void 0,void 0===r?null:r)}function uo(e,t,n,r){var i=Za();r=void 0===r?null:r;var a=void 0;if(null!==Ha){var o=Ha.memoizedState;if(a=o.destroy,null!==r&&Xa(r,o.deps))return void io(t,n,a,r)}Ka.effectTag|=e,i.memoizedState=io(1|t,n,a,r)}function so(e,t){return oo(516,4,e,t)}function co(e,t){return uo(516,4,e,t)}function lo(e,t){return uo(4,2,e,t)}function fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ho(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,uo(4,2,fo.bind(null,t,e),n)}function po(){}function vo(e,t){return Ja().memoizedState=[e,void 0===t?null:t],e}function mo(e,t){var n=Za();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yo(e,t){var n=Za();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function go(e,t,n){var r=Gi();Hi(98>r?98:r,(function(){e(!0)})),Hi(97<r?97:r,(function(){var r=qa.suspense;qa.suspense=void 0===t?null:t;try{e(!1),n()}finally{qa.suspense=r}}))}function bo(e,t,n){var r=es(),i=ma.suspense;i={expirationTime:r=ts(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===Ka||null!==a&&a===Ka)Qa=!0,i.expirationTime=Ga,Ka.expirationTime=Ga;else{if(0===e.expirationTime&&(null===a||0===a.expirationTime)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.eagerReducer=a,i.eagerState=u,Br(u,o))return}catch(s){}ns(e,r)}}var ko={readContext:ua,useCallback:Ya,useContext:Ya,useEffect:Ya,useImperativeHandle:Ya,useLayoutEffect:Ya,useMemo:Ya,useReducer:Ya,useRef:Ya,useState:Ya,useDebugValue:Ya,useResponder:Ya,useDeferredValue:Ya,useTransition:Ya},wo={readContext:ua,useCallback:vo,useContext:ua,useEffect:so,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,oo(4,2,fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oo(4,2,e,t)},useMemo:function(e,t){var n=Ja();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ja();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=bo.bind(null,Ka,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ja().memoizedState=e},useState:ro,useDebugValue:po,useResponder:Ba,useDeferredValue:function(e,t){var n=ro(e),r=n[0],i=n[1];return so((function(){var n=qa.suspense;qa.suspense=void 0===t?null:t;try{i(e)}finally{qa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ro(!1),n=t[0];return t=t[1],[vo(go.bind(null,t,e),[t,e]),n]}},xo={readContext:ua,useCallback:mo,useContext:ua,useEffect:co,useImperativeHandle:ho,useLayoutEffect:lo,useMemo:yo,useReducer:to,useRef:ao,useState:function(){return to(eo)},useDebugValue:po,useResponder:Ba,useDeferredValue:function(e,t){var n=to(eo),r=n[0],i=n[1];return co((function(){var n=qa.suspense;qa.suspense=void 0===t?null:t;try{i(e)}finally{qa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=to(eo),n=t[0];return t=t[1],[mo(go.bind(null,t,e),[t,e]),n]}},_o={readContext:ua,useCallback:mo,useContext:ua,useEffect:co,useImperativeHandle:ho,useLayoutEffect:lo,useMemo:yo,useReducer:no,useRef:ao,useState:function(){return no(eo)},useDebugValue:po,useResponder:Ba,useDeferredValue:function(e,t){var n=no(eo),r=n[0],i=n[1];return co((function(){var n=qa.suspense;qa.suspense=void 0===t?null:t;try{i(e)}finally{qa.suspense=n}}),[e,t]),r},useTransition:function(e){var t=no(eo),n=t[0];return t=t[1],[mo(go.bind(null,t,e),[t,e]),n]}},Eo=null,To=null,So=!1;function Io(e,t){var n=Ds(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Co(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ao(e){if(So){var t=To;if(t){var n=t;if(!Co(e,t)){if(!(t=Tn(n.nextSibling))||!Co(e,t))return e.effectTag=-1025&e.effectTag|2,So=!1,void(Eo=e);Io(Eo,n)}Eo=e,To=Tn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,So=!1,Eo=e}}function Po(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Eo=e}function No(e){if(e!==Eo)return!1;if(!So)return Po(e),So=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!xn(t,e.memoizedProps))for(t=To;t;)Io(e,t),t=Tn(t.nextSibling);if(Po(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){To=Tn(e.nextSibling);break e}t--}else"$"!==n&&n!==gn&&n!==yn||t++}e=e.nextSibling}To=null}}else To=Eo?Tn(e.stateNode.nextSibling):null;return!0}function Do(){To=Eo=null,So=!1}var Oo=X.ReactCurrentOwner,Ro=!1;function Mo(e,t,n,r){t.child=null===e?Aa(t,null,n,r):Ca(t,e.child,n,r)}function Lo(e,t,n,r,i){n=n.render;var a=t.ref;return oa(t,i),r=$a(e,t,n,r,a,i),null===e||Ro?(t.effectTag|=1,Mo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Jo(e,t,i))}function Fo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Os(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ms(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Vo(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:qr)(i,r)&&e.ref===t.ref)?Jo(e,t,a):(t.effectTag|=1,(e=Rs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Vo(e,t,n,r,i,a){return null!==e&&qr(e.memoizedProps,r)&&e.ref===t.ref&&(Ro=!1,i<a)?(t.expirationTime=e.expirationTime,Jo(e,t,a)):Uo(e,t,n,r,a)}function jo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Uo(e,t,n,r,i){var a=bi(n)?yi:vi.current;return a=gi(t,a),oa(t,i),n=$a(e,t,n,r,a,i),null===e||Ro?(t.effectTag|=1,Mo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Jo(e,t,i))}function Bo(e,t,n,r,i){if(bi(n)){var a=!0;_i(t)}else a=!1;if(oa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),wa(t,n,r),_a(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ua(c):c=gi(t,c=bi(n)?yi:vi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&xa(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,pa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||mi.current||sa?("function"===typeof l&&(ga(t,n,l,r),s=t.memoizedState),(u=sa||ka(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.effectTag|=4)):("function"===typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,la(e,t),u=t.memoizedProps,o.props=t.type===t.elementType?u:Ji(t.type,u),s=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=ua(c):c=gi(t,c=bi(n)?yi:vi.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&xa(t,o,r,c),sa=!1,s=t.memoizedState,o.state=s,pa(t,r,o,i),h=t.memoizedState,u!==r||s!==h||mi.current||sa?("function"===typeof l&&(ga(t,n,l,r),h=t.memoizedState),(l=sa||ka(t,n,u,r,s,h,c))?(f||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof o.componentDidUpdate&&(t.effectTag|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),r=!1);return zo(e,t,n,r,a,i)}function zo(e,t,n,r,i,a){jo(e,t);var o=0!==(64&t.effectTag);if(!r&&!o)return i&&Ei(t,n,!1),Jo(e,t,a);r=t.stateNode,Oo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Ca(t,e.child,null,a),t.child=Ca(t,null,u,a)):Mo(e,t,u,a),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function qo(e){var t=e.stateNode;t.pendingContext?wi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&wi(0,t.context,!1),Ma(e,t.containerInfo)}var Go,Ko,Ho,Wo={dehydrated:null,retryTime:0};function Qo(e,t,n){var r,i=t.mode,a=t.pendingProps,o=ja.current,u=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&o)&&(null===e||null!==e.memoizedState)),r?(u=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),di(ja,1&o),null===e){if(void 0!==a.fallback&&Ao(t),u){if(u=a.fallback,(a=Ls(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Ls(u,i,n,null)).return=t,a.sibling=n,t.memoizedState=Wo,t.child=a,n}return i=a.children,t.memoizedState=null,t.child=Aa(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,u){if(a=a.fallback,(n=Rs(e,e.pendingProps)).return=t,0===(2&t.mode)&&(u=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;return(i=Rs(i,a)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Wo,t.child=n,i}return n=Ca(t,e.child,a.children,n),t.memoizedState=null,t.child=n}if(e=e.child,u){if(u=a.fallback,(a=Ls(null,i,0,null)).return=t,a.child=e,null!==e&&(e.return=a),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,a.child=e;null!==e;)e.return=a,e=e.sibling;return(n=Ls(u,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,a.childExpirationTime=0,t.memoizedState=Wo,t.child=a,n}return t.memoizedState=null,t.child=Ca(t,e,a.children,n)}function Yo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),aa(e.return,t)}function Xo(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailExpiration=0,o.tailMode=i,o.lastEffect=a)}function $o(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Mo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Yo(e,n);else if(19===e.tag)Yo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(di(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xo(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xo(t,!0,n,null,a,t.lastEffect);break;case"together":Xo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Jo(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&ps(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Rs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Zo(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function eu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return bi(t.type)&&ki(),null;case 3:return La(),hi(mi),hi(vi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!No(t)||(t.effectTag|=4),null;case 5:Va(t),n=Ra(Oa.current);var a=t.type;if(null!==e&&null!=t.stateNode)Ko(e,t,a,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ra(Na.current),No(t)){r=t.stateNode,a=t.type;var u=t.memoizedProps;switch(r[Cn]=t,r[An]=u,a){case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(e=0;e<$e.length;e++)Qt($e[e],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"form":Qt("reset",r),Qt("submit",r);break;case"details":Qt("toggle",r);break;case"input":_e(r,u),Qt("invalid",r),cn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Qt("invalid",r),cn(n,"onChange");break;case"textarea":Ne(r,u),Qt("invalid",r),cn(n,"onChange")}for(var s in on(a,u),e=null,u)if(u.hasOwnProperty(s)){var c=u[s];"children"===s?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):E.hasOwnProperty(s)&&null!=c&&cn(n,s)}switch(a){case"input":ke(r),Se(r,u,!0);break;case"textarea":ke(r),Oe(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Le(a)),e===sn?"script"===a?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(a,{is:r.is}):(e=s.createElement(a),"select"===a&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,a),e[Cn]=t,e[An]=r,Go(e,t),t.stateNode=e,s=un(a,r),a){case"iframe":case"object":case"embed":Qt("load",e),c=r;break;case"video":case"audio":for(c=0;c<$e.length;c++)Qt($e[c],e);c=r;break;case"source":Qt("error",e),c=r;break;case"img":case"image":case"link":Qt("error",e),Qt("load",e),c=r;break;case"form":Qt("reset",e),Qt("submit",e),c=r;break;case"details":Qt("toggle",e),c=r;break;case"input":_e(e,r),c=xe(e,r),Qt("invalid",e),cn(n,"onChange");break;case"option":c=Ce(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Qt("invalid",e),cn(n,"onChange");break;case"textarea":Ne(e,r),c=Pe(e,r),Qt("invalid",e),cn(n,"onChange");break;default:c=r}on(a,c);var l=c;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?rn(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&Ue(e,f):"children"===u?"string"===typeof f?("textarea"!==a||""!==f)&&Be(e,f):"number"===typeof f&&Be(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(E.hasOwnProperty(u)?null!=f&&cn(n,u):null!=f&&$(e,u,f,s))}switch(a){case"input":ke(e),Se(e,r,!1);break;case"textarea":ke(e),Oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ge(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=ln)}wn(a,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ho(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ra(Oa.current),Ra(Na.current),No(t)?(n=t.stateNode,r=t.memoizedProps,n[Cn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Cn]=t,t.stateNode=n)}return null;case 13:return hi(ja),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&No(t):(r=null!==(a=e.memoizedState),n||null===a||null!==(a=e.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=a,a.nextEffect=u):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?Mu===Cu&&(Mu=Au):(Mu!==Cu&&Mu!==Au||(Mu=Pu),0!==Uu&&null!==Du&&(Bs(Du,Ru),zs(Du,Uu)))),(n||r)&&(t.effectTag|=4),null);case 4:return La(),null;case 10:return ia(t),null;case 19:if(hi(ja),null===(r=t.memoizedState))return null;if(a=0!==(64&t.effectTag),null===(u=r.rendering)){if(a)Zo(r,!1);else if(Mu!==Cu||null!==e&&0!==(64&e.effectTag))for(u=t.child;null!==u;){if(null!==(e=Ua(u))){for(t.effectTag|=64,Zo(r,!1),null!==(a=e.updateQueue)&&(t.updateQueue=a,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)u=n,(a=r).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(e=a.alternate)?(a.childExpirationTime=0,a.expirationTime=u,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=e.childExpirationTime,a.expirationTime=e.expirationTime,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,u=e.dependencies,a.dependencies=null===u?null:{expirationTime:u.expirationTime,firstContext:u.firstContext,responders:u.responders}),r=r.sibling;return di(ja,1&ja.current|2),t.child}u=u.sibling}}else{if(!a)if(null!==(e=Ua(u))){if(t.effectTag|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Zo(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,a=!0,Zo(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=qi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=ja.current,di(ja,a?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function tu(e){switch(e.tag){case 1:bi(e.type)&&ki();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(La(),hi(mi),hi(vi),0!==(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Va(e),null;case 13:return hi(ja),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return hi(ja),null;case 4:return La(),null;case 10:return ia(e),null;default:return null}}function nu(e,t){return{value:e,source:t,stack:ye(t)}}Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ko=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var u,s,c=t.stateNode;switch(Ra(Na.current),e=null,n){case"input":o=xe(c,o),r=xe(c,r),e=[];break;case"option":o=Ce(c,o),r=Ce(c,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Pe(c,o),r=Pe(c,r),e=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(c.onclick=ln)}for(u in on(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u)for(s in c=o[u])c.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(E.hasOwnProperty(u)?e||(e=[]):(e=e||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(e||(e=[]),e.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(u,l)):"children"===u?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(E.hasOwnProperty(u)?(null!=l&&cn(a,u),e||c===l||(e=[])):(e=e||[]).push(u,l))}n&&(e=e||[]).push("style",n),a=e,(t.updateQueue=a)&&(t.effectTag|=4)}},Ho=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var ru="function"===typeof WeakSet?WeakSet:Set;function iu(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ye(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function au(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ss(e,n)}else t.current=null}function ou(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(o(163))}function uu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function su(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void su(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&va(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}va(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&wn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ft(n)))))}throw Error(o(163))}function lu(e,t,n){switch("function"===typeof Ps&&Ps(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Hi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(a){Ss(i,a)}}e=e.next}while(e!==r)}))}break;case 1:au(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Ss(e,n)}}(t,n);break;case 5:au(t);break;case 4:mu(e,t,n)}}function fu(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&fu(t)}function hu(e){return 5===e.tag||3===e.tag||4===e.tag}function du(e){e:{for(var t=e.return;null!==t;){if(hu(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Be(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||hu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?pu(e,n,t):vu(e,n,t)}function pu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ln));else if(4!==r&&null!==(e=e.child))for(pu(e,t,n),e=e.sibling;null!==e;)pu(e,t,n),e=e.sibling}function vu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(vu(e,t,n),e=e.sibling;null!==e;)vu(e,t,n),e=e.sibling}function mu(e,t,n){for(var r,i,a=t,u=!1;;){if(!u){u=a.return;e:for(;;){if(null===u)throw Error(o(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===a.tag||6===a.tag){e:for(var s=e,c=a,l=n,f=c;;)if(lu(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=a.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(lu(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(u=!1)}a.sibling.return=a.return,a=a.sibling}}function yu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void uu(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[An]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ee(n,r),un(e,i),t=un(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?rn(n,s):"dangerouslySetInnerHTML"===u?Ue(n,s):"children"===u?Be(n,s):$(n,u,s,t)}switch(e){case"input":Te(n,r);break;case"textarea":De(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ft(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,zu=qi()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"===typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,a.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void gu(t);case 19:return void gu(t)}throw Error(o(163))}function gu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ru),t.forEach((function(t){var r=Cs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var bu="function"===typeof WeakMap?WeakMap:Map;function ku(e,t,n){(n=fa(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gu||(Gu=!0,Ku=r),iu(e,t)},n}function wu(e,t,n){(n=fa(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return iu(e,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this),iu(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var xu,_u=Math.ceil,Eu=X.ReactCurrentDispatcher,Tu=X.ReactCurrentOwner,Su=16,Iu=32,Cu=0,Au=3,Pu=4,Nu=0,Du=null,Ou=null,Ru=0,Mu=Cu,Lu=null,Fu=1073741823,Vu=1073741823,ju=null,Uu=0,Bu=!1,zu=0,qu=null,Gu=!1,Ku=null,Hu=null,Wu=!1,Qu=null,Yu=90,Xu=null,$u=0,Ju=null,Zu=0;function es(){return 0!==(48&Nu)?1073741821-(qi()/10|0):0!==Zu?Zu:Zu=1073741821-(qi()/10|0)}function ts(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Gi();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(Nu&Su))return Ru;if(null!==n)e=$i(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=$i(e,150,100);break;case 97:case 96:e=$i(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Du&&e===Ru&&--e,e}function ns(e,t){if(50<$u)throw $u=0,Ju=null,Error(o(185));if(null!==(e=rs(e,t))){var n=Gi();1073741823===t?0!==(8&Nu)&&0===(48&Nu)?us(e):(as(e),0===Nu&&Yi()):as(e),0===(4&Nu)||98!==n&&99!==n||(null===Xu?Xu=new Map([[e,t]]):(void 0===(n=Xu.get(e))||n>t)&&Xu.set(e,t))}}function rs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Du===i&&(ps(t),Mu===Pu&&Bs(i,Ru)),zs(i,t)),i}function is(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Us(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function as(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Qi(us.bind(null,e));else{var t=is(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=es();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Li&&Ii(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Qi(us.bind(null,e)):Wi(r,os.bind(null,e),{timeout:10*(1073741821-t)-qi()}),e.callbackNode=t}}}function os(e,t){if(Zu=0,t)return qs(e,t=es()),as(e),null;var n=is(e);if(0!==n){if(t=e.callbackNode,0!==(48&Nu))throw Error(o(327));if(_s(),e===Du&&n===Ru||ls(e,n),null!==Ou){var r=Nu;Nu|=Su;for(var i=hs();;)try{ms();break}catch(s){fs(e,s)}if(ra(),Nu=r,Eu.current=i,1===Mu)throw t=Lu,ls(e,n),Bs(e,n),as(e),t;if(null===Ou)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Mu,Du=null,r){case Cu:case 1:throw Error(o(345));case 2:qs(e,2<n?2:n);break;case Au:if(Bs(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bs(i)),1073741823===Fu&&10<(i=zu+500-qi())){if(Bu){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,ls(e,n);break}}if(0!==(a=is(e))&&a!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=_n(ks.bind(null,e),i);break}ks(e);break;case Pu:if(Bs(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=bs(i)),Bu&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,ls(e,n);break}if(0!==(i=is(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Vu?r=10*(1073741821-Vu)-qi():1073741823===Fu?r=0:(r=10*(1073741821-Fu)-5e3,0>(r=(i=qi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_u(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=_n(ks.bind(null,e),r);break}ks(e);break;case 5:if(1073741823!==Fu&&null!==ju){a=Fu;var u=ju;if(0>=(r=0|u.busyMinDurationMs)?r=0:(i=0|u.busyDelayMs,r=(a=qi()-(10*(1073741821-a)-(0|u.timeoutMs||5e3)))<=i?0:i+r-a),10<r){Bs(e,n),e.timeoutHandle=_n(ks.bind(null,e),r);break}}ks(e);break;default:throw Error(o(329))}if(as(e),e.callbackNode===t)return os.bind(null,e)}}return null}function us(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Nu))throw Error(o(327));if(_s(),e===Du&&t===Ru||ls(e,t),null!==Ou){var n=Nu;Nu|=Su;for(var r=hs();;)try{vs();break}catch(i){fs(e,i)}if(ra(),Nu=n,Eu.current=r,1===Mu)throw n=Lu,ls(e,t),Bs(e,t),as(e),n;if(null!==Ou)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Du=null,ks(e),as(e)}return null}function ss(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&Yi()}}function cs(e,t){var n=Nu;Nu&=-2,Nu|=8;try{return e(t)}finally{0===(Nu=n)&&Yi()}}function ls(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,En(n)),null!==Ou)for(n=Ou.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ki();break;case 3:La(),hi(mi),hi(vi);break;case 5:Va(r);break;case 4:La();break;case 13:case 19:hi(ja);break;case 10:ia(r)}n=n.return}Du=e,Ou=Rs(e.current,null),Ru=t,Mu=Cu,Lu=null,Vu=Fu=1073741823,ju=null,Uu=0,Bu=!1}function fs(e,t){for(;;){try{if(ra(),za.current=ko,Qa)for(var n=Ka.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ga=0,Wa=Ha=Ka=null,Qa=!1,null===Ou||null===Ou.return)return Mu=1,Lu=t,Ou=null;e:{var i=e,a=Ou.return,o=Ou,u=t;if(t=Ru,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var s=u;if(0===(2&o.mode)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.expirationTime=c.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var l=0!==(1&ja.current),f=a;do{var h;if(h=13===f.tag){var d=f.memoizedState;if(null!==d)h=null!==d.dehydrated;else{var p=f.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!l)}}if(h){var v=f.updateQueue;if(null===v){var m=new Set;m.add(s),f.updateQueue=m}else v.add(s);if(0===(2&f.mode)){if(f.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var y=fa(1073741823,null);y.tag=2,ha(o,y)}o.expirationTime=1073741823;break e}u=void 0,o=t;var g=i.pingCache;if(null===g?(g=i.pingCache=new bu,u=new Set,g.set(s,u)):void 0===(u=g.get(s))&&(u=new Set,g.set(s,u)),!u.has(o)){u.add(o);var b=Is.bind(null,i,s,o);s.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);u=Error((me(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(o))}5!==Mu&&(Mu=2),u=nu(u,o),f=a;do{switch(f.tag){case 3:s=u,f.effectTag|=4096,f.expirationTime=t,da(f,ku(f,s,t));break e;case 1:s=u;var k=f.type,w=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof k.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Hu||!Hu.has(w)))){f.effectTag|=4096,f.expirationTime=t,da(f,wu(f,s,t));break e}}f=f.return}while(null!==f)}Ou=gs(Ou)}catch(x){t=x;continue}break}}function hs(){var e=Eu.current;return Eu.current=ko,null===e?ko:e}function ds(e,t){e<Fu&&2<e&&(Fu=e),null!==t&&e<Vu&&2<e&&(Vu=e,ju=t)}function ps(e){e>Uu&&(Uu=e)}function vs(){for(;null!==Ou;)Ou=ys(Ou)}function ms(){for(;null!==Ou&&!Fi();)Ou=ys(Ou)}function ys(e){var t=xu(e.alternate,e,Ru);return e.memoizedProps=e.pendingProps,null===t&&(t=gs(e)),Tu.current=null,t}function gs(e){Ou=e;do{var t=Ou.alternate;if(e=Ou.return,0===(2048&Ou.effectTag)){if(t=eu(t,Ou,Ru),1===Ru||1!==Ou.childExpirationTime){for(var n=0,r=Ou.child;null!==r;){var i=r.expirationTime,a=r.childExpirationTime;i>n&&(n=i),a>n&&(n=a),r=r.sibling}Ou.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ou.firstEffect),null!==Ou.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ou.firstEffect),e.lastEffect=Ou.lastEffect),1<Ou.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ou:e.firstEffect=Ou,e.lastEffect=Ou))}else{if(null!==(t=tu(Ou)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ou.sibling))return t;Ou=e}while(null!==Ou);return Mu===Cu&&(Mu=5),null}function bs(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function ks(e){var t=Gi();return Hi(99,ws.bind(null,e,t)),null}function ws(e,t){do{_s()}while(null!==Qu);if(0!==(48&Nu))throw Error(o(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=bs(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Du&&(Ou=Du=null,Ru=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=Nu;Nu|=Iu,Tu.current=null,bn=Wt;var u=vn();if(mn(u)){if("selectionStart"in u)var s={start:u.selectionStart,end:u.selectionEnd};else e:{var c=(s=(s=u.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(c&&0!==c.rangeCount){s=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{s.nodeType,f.nodeType}catch(S){s=null;break e}var h=0,d=-1,p=-1,v=0,m=0,y=u,g=null;t:for(;;){for(var b;y!==s||0!==l&&3!==y.nodeType||(d=h+l),y!==f||0!==c&&3!==y.nodeType||(p=h+c),3===y.nodeType&&(h+=y.nodeValue.length),null!==(b=y.firstChild);)g=y,y=b;for(;;){if(y===u)break t;if(g===s&&++v===l&&(d=h),g===f&&++m===c&&(p=h),null!==(b=y.nextSibling))break;g=(y=g).parentNode}y=b}s=-1===d||-1===p?null:{start:d,end:p}}else s=null}s=s||{start:0,end:0}}else s=null;kn={activeElementDetached:null,focusedElem:u,selectionRange:s},Wt=!1,qu=i;do{try{xs()}catch(S){if(null===qu)throw Error(o(330));Ss(qu,S),qu=qu.nextEffect}}while(null!==qu);qu=i;do{try{for(u=e,s=t;null!==qu;){var k=qu.effectTag;if(16&k&&Be(qu.stateNode,""),128&k){var w=qu.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&k){case 2:du(qu),qu.effectTag&=-3;break;case 6:du(qu),qu.effectTag&=-3,yu(qu.alternate,qu);break;case 1024:qu.effectTag&=-1025;break;case 1028:qu.effectTag&=-1025,yu(qu.alternate,qu);break;case 4:yu(qu.alternate,qu);break;case 8:mu(u,l=qu,s),fu(l)}qu=qu.nextEffect}}catch(S){if(null===qu)throw Error(o(330));Ss(qu,S),qu=qu.nextEffect}}while(null!==qu);if(x=kn,w=vn(),k=x.focusedElem,s=x.selectionRange,w!==k&&k&&k.ownerDocument&&pn(k.ownerDocument.documentElement,k)){null!==s&&mn(k)&&(w=s.start,void 0===(x=s.end)&&(x=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(x,k.value.length)):(x=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),l=k.textContent.length,u=Math.min(s.start,l),s=void 0===s.end?u:Math.min(s.end,l),!x.extend&&u>s&&(l=s,s=u,u=l),l=dn(k,u),f=dn(k,s),l&&f&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==f.node||x.focusOffset!==f.offset)&&((w=w.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),u>s?(x.addRange(w),x.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),x.addRange(w))))),w=[];for(x=k;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(x=w[k]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Wt=!!bn,kn=bn=null,e.current=n,qu=i;do{try{for(k=e;null!==qu;){var _=qu.effectTag;if(36&_&&cu(k,qu.alternate,qu),128&_){w=void 0;var E=qu.ref;if(null!==E){var T=qu.stateNode;qu.tag,w=T,"function"===typeof E?E(w):E.current=w}}qu=qu.nextEffect}}catch(S){if(null===qu)throw Error(o(330));Ss(qu,S),qu=qu.nextEffect}}while(null!==qu);qu=null,Vi(),Nu=a}else e.current=n;if(Wu)Wu=!1,Qu=e,Yu=t;else for(qu=i;null!==qu;)t=qu.nextEffect,qu.nextEffect=null,qu=t;if(0===(t=e.firstPendingTime)&&(Hu=null),1073741823===t?e===Ju?$u++:($u=0,Ju=e):$u=0,"function"===typeof As&&As(n.stateNode,r),as(e),Gu)throw Gu=!1,e=Ku,Ku=null,e;return 0!==(8&Nu)||Yi(),null}function xs(){for(;null!==qu;){var e=qu.effectTag;0!==(256&e)&&ou(qu.alternate,qu),0===(512&e)||Wu||(Wu=!0,Wi(97,(function(){return _s(),null}))),qu=qu.nextEffect}}function _s(){if(90!==Yu){var e=97<Yu?97:Yu;return Yu=90,Hi(e,Es)}}function Es(){if(null===Qu)return!1;var e=Qu;if(Qu=null,0!==(48&Nu))throw Error(o(331));var t=Nu;for(Nu|=Iu,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:uu(5,n),su(5,n)}}catch(r){if(null===e)throw Error(o(330));Ss(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Nu=t,Yi(),!0}function Ts(e,t,n){ha(e,t=ku(e,t=nu(n,t),1073741823)),null!==(e=rs(e,1073741823))&&as(e)}function Ss(e,t){if(3===e.tag)Ts(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ts(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){ha(n,e=wu(n,e=nu(t,e),1073741823)),null!==(n=rs(n,1073741823))&&as(n);break}}n=n.return}}function Is(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Du===e&&Ru===n?Mu===Pu||Mu===Au&&1073741823===Fu&&qi()-zu<500?ls(e,Ru):Bu=!0:Us(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,as(e)))}function Cs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=ts(t=es(),e,null)),null!==(e=rs(e,t))&&as(e)}xu=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||mi.current)Ro=!0;else{if(r<n){switch(Ro=!1,t.tag){case 3:qo(t),Do();break;case 5:if(Fa(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:bi(t.type)&&_i(t);break;case 4:Ma(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,di(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Qo(e,t,n):(di(ja,1&ja.current),null!==(t=Jo(e,t,n))?t.sibling:null);di(ja,1&ja.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return $o(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),di(ja,ja.current),!r)return null}return Jo(e,t,n)}Ro=!1}}else Ro=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=gi(t,vi.current),oa(t,n),i=$a(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,bi(r)){var a=!0;_i(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ca(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ga(t,r,u,e),i.updater=ba,t.stateNode=i,i._reactInternalFiber=t,_a(t,r,e,n),t=zo(null,t,r,!0,a,n)}else t.tag=0,Mo(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,a=t.tag=function(e){if("function"===typeof e)return Os(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===se)return 11;if(e===fe)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Uo(null,t,i,e,n);break e;case 1:t=Bo(null,t,i,e,n);break e;case 11:t=Lo(null,t,i,e,n);break e;case 14:t=Fo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Bo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(qo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,la(e,t),pa(t,r,null,n),(r=t.memoizedState.element)===i)Do(),t=Jo(e,t,n);else{if((i=t.stateNode.hydrate)&&(To=Tn(t.stateNode.containerInfo.firstChild),Eo=t,i=So=!0),i)for(n=Aa(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Mo(e,t,r,n),Do();t=t.child}return t;case 5:return Fa(t),null===e&&Ao(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,xn(r,i)?u=null:null!==a&&xn(r,a)&&(t.effectTag|=16),jo(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Mo(e,t,u,n),t=t.child),t;case 6:return null===e&&Ao(t),null;case 13:return Qo(e,t,n);case 4:return Ma(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ca(t,null,r,n):Mo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Lo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Mo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Mo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(di(Zi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=Br(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!mi.current){t=Jo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=fa(n,null)).tag=2,ha(s,l)),s.expirationTime<n&&(s.expirationTime=n),null!==(l=s.alternate)&&l.expirationTime<n&&(l.expirationTime=n),aa(s.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Mo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,oa(t,n),r=r(i=ua(i,a.unstable_observedBits)),t.effectTag|=1,Mo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Fo(e,t,i,a=Ji(i.type,a),r,n);case 15:return Vo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,bi(r)?(e=!0,_i(t)):e=!1,oa(t,n),wa(t,r,i),_a(t,r,i,n),zo(null,t,r,!0,e,n);case 19:return $o(e,t,n)}throw Error(o(156,t.tag))};var As=null,Ps=null;function Ns(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ds(e,t,n,r){return new Ns(e,t,n,r)}function Os(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rs(e,t){var n=e.alternate;return null===n?((n=Ds(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ms(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Os(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case ne:return Ls(n.children,i,a,t);case ue:u=8,i|=7;break;case re:u=8,i|=1;break;case ie:return(e=Ds(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=a,e;case ce:return(e=Ds(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=a,e;case le:return(e=Ds(19,n,t,i)).elementType=le,e.expirationTime=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case ae:u=10;break e;case oe:u=9;break e;case se:u=11;break e;case fe:u=14;break e;case he:u=16,r=null;break e;case de:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ds(u,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Ls(e,t,n,r){return(e=Ds(7,e,r,t)).expirationTime=n,e}function Fs(e,t,n){return(e=Ds(6,e,null,t)).expirationTime=n,e}function Vs(e,t,n){return(t=Ds(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function js(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Us(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Bs(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function zs(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function qs(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Gs(e,t,n,r){var i=t.current,a=es(),u=ma.suspense;a=ts(a,i,u);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(bi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(bi(c)){n=xi(n,c,s);break e}}n=s}else n=pi;return null===t.context?t.context=n:t.pendingContext=n,(t=fa(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ha(i,t),ns(i,a),a}function Ks(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hs(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Ws(e,t){Hs(e,t),(e=e.alternate)&&Hs(e,t)}function Qs(e,t,n){var r=new js(e,t,n=null!=n&&!0===n.hydrate),i=Ds(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,ca(i),e[Pn]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);It.forEach((function(e){vt(e,t,n)})),Ct.forEach((function(e){vt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Ys(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xs(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=Ks(o);u.call(e)}}Gs(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Qs(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=Ks(o);s.call(e)}}cs((function(){Gs(t,o,e,i)}))}return Ks(o)}function $s(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Js(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ys(t))throw Error(o(200));return $s(e,t,null,n)}Qs.prototype.render=function(e){Gs(e,this._internalRoot,null,null)},Qs.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Gs(null,e,null,(function(){t[Pn]=null}))},mt=function(e){if(13===e.tag){var t=$i(es(),150,100);ns(e,t),Ws(e,t)}},yt=function(e){13===e.tag&&(ns(e,3),Ws(e,3))},gt=function(e){if(13===e.tag){var t=es();ns(e,t=ts(t,e,null)),Ws(e,t)}},C=function(e,t,n){switch(t){case"input":if(Te(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Rn(r);if(!i)throw Error(o(90));we(r),Te(r,i)}}}break;case"textarea":De(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},R=ss,M=function(e,t,n,r,i){var a=Nu;Nu|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Nu=a)&&Yi()}},L=function(){0===(49&Nu)&&(function(){if(null!==Xu){var e=Xu;Xu=null,e.forEach((function(e,t){qs(t,e),as(t)})),Yi()}}(),_s())},F=function(e,t){var n=Nu;Nu|=2;try{return e(t)}finally{0===(Nu=n)&&Yi()}};var Zs={Events:[Dn,On,Rn,S,_,Bn,function(e){at(e,Un)},D,O,Jt,st,_s,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);As=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Ps=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Nn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zs,t.createPortal=Js,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Nu))throw Error(o(187));var n=Nu;Nu|=1;try{return Hi(99,e.bind(null,t))}finally{Nu=n,Yi()}},t.hydrate=function(e,t,n){if(!Ys(t))throw Error(o(200));return Xs(null,e,t,!0,n)},t.render=function(e,t,n){if(!Ys(t))throw Error(o(200));return Xs(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ys(e))throw Error(o(40));return!!e._reactRootContainer&&(cs((function(){Xs(null,null,e,!1,(function(){e._reactRootContainer=null,e[Pn]=null}))})),!0)},t.unstable_batchedUpdates=ss,t.unstable_createPortal=function(e,t){return Js(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ys(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return Xs(e,t,n,!1,r)},t.version="16.14.0"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i="function"===typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,u=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,m="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function k(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}function w(){}function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}k.prototype.isReactComponent={},k.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},k.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=k.prototype;var _=x.prototype=new w;_.constructor=x,r(_,k.prototype),_.isPureReactComponent=!0;var E={current:null},T=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,i={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)T.call(t,r)&&!S.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:a,type:e,key:o,ref:u,props:i,_owner:E.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var A=/\/+/g,P=[];function N(e,t,n,r){if(P.length){var i=P.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function D(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function O(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var u=!1;if(null===e)u=!0;else switch(i){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case a:case o:u=!0}}if(u)return n(r,e,""===t?"."+M(e,0):t),1;if(u=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){var c=t+M(i=e[s],s);u+=O(i,c,n,r)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=m&&e[m]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),s=0;!(i=e.next()).done;)u+=O(i=i.value,c=t+M(i,s++),n,r);else if("object"===i)throw n=""+e,Error(y(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return u}function R(e,t,n){return null==e?0:O(e,"",t,n)}function M(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?V(e,r,n,(function(e){return e})):null!=e&&(C(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function V(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(A,"$&/")+"/"),R(e,F,t=N(t,a,r,i)),D(t)}var j={current:null};function U(){var e=j.current;if(null===e)throw Error(y(321));return e}var B={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return V(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;R(e,L,t=N(null,null,t,n)),D(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return V(e,t,null,(function(e){return e})),t},only:function(e){if(!C(e))throw Error(y(143));return e}},t.Component=k,t.Fragment=u,t.Profiler=c,t.PureComponent=x,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(y(267,e));var i=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)T.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:a,type:e.type,key:o,ref:u,props:i,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return U().useCallback(e,t)},t.useContext=function(e,t){return U().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return U().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return U().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return U().useLayoutEffect(e,t)},t.useMemo=function(e,t){return U().useMemo(e,t)},t.useReducer=function(e,t,n){return U().useReducer(e,t,n)},t.useRef=function(e){return U().useRef(e)},t.useState=function(e){return U().useState(e)},t.version="16.14.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return P()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=T(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var b={};s(b,a,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(A([])));w&&w!==n&&r.call(w,a)&&(b=w);var x=g.prototype=m.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:P}}function P(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),s(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a,o;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,s=null,c=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}},l=Date.now();t.unstable_now=function(){return Date.now()-l},n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(c,0))},r=function(e,t){s=setTimeout(e,t)},i=function(){clearTimeout(s)},a=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,h=window.Date,d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var m=h.now();t.unstable_now=function(){return h.now()-m}}var y=!1,g=null,b=-1,k=5,w=0;a=function(){return t.unstable_now()>=w},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):k=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,_=x.port2;x.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+k;try{g(!0,e)?_.postMessage(null):(y=!1,g=null)}catch(n){throw _.postMessage(null),n}}else y=!1},n=function(e){g=e,y||(y=!0,_.postMessage(null))},r=function(e,n){b=d((function(){e(t.unstable_now())}),n)},i=function(){p(b),b=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>I(o,n))void 0!==s&&0>I(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>I(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],A=[],P=1,N=null,D=3,O=!1,R=!1,M=!1;function L(e){for(var t=T(A);null!==t;){if(null===t.callback)S(A);else{if(!(t.startTime<=e))break;S(A),t.sortIndex=t.expirationTime,E(C,t)}t=T(A)}}function F(e){if(M=!1,L(e),!R)if(null!==T(C))R=!0,n(V);else{var t=T(A);null!==t&&r(F,t.startTime-e)}}function V(e,n){R=!1,M&&(M=!1,i()),O=!0;var o=D;try{for(L(n),N=T(C);null!==N&&(!(N.expirationTime>n)||e&&!a());){var u=N.callback;if(null!==u){N.callback=null,D=N.priorityLevel;var s=u(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===T(C)&&S(C),L(n)}else S(C);N=T(C)}if(null!==N)var c=!0;else{var l=T(A);null!==l&&r(F,l.startTime-n),c=!1}return c}finally{N=null,D=o,O=!1}}function j(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||O||(R=!0,n(V))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return T(C)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();if("object"===typeof o&&null!==o){var s=o.delay;s="number"===typeof s&&0<s?u+s:u,o="number"===typeof o.timeout?o.timeout:j(e)}else o=j(e),s=u;return e={id:P++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>u?(e.sortIndex=s,E(A,e),null===T(C)&&e===T(A)&&(M?i():M=!0,r(F,s-u))):(e.sortIndex=o,E(C,e),R||O||(R=!0,n(V))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var n=T(C);return n!==N&&null!==N&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<N.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return F},SDK_VERSION:function(){return Ne},_DEFAULT_ENTRY_NAME:function(){return ge},_addComponent:function(){return xe},_addOrOverwriteComponent:function(){return _e},_apps:function(){return ke},_clearComponents:function(){return Ie},_components:function(){return we},_getProvider:function(){return Te},_registerComponent:function(){return Ee},_removeServiceInstance:function(){return Se},deleteApp:function(){return Me},getApp:function(){return Oe},getApps:function(){return Re},initializeApp:function(){return De},onLog:function(){return Ve},registerVersion:function(){return Fe},setLogLevel:function(){return je}});var t=n(791),r=n(164);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=n(184),s=function(){return(0,u.jsxs)("div",{className:"title",children:[(0,u.jsx)("h2",{children:"Your Pictures"}),(0,u.jsx)("p",{children:"Click to upload pictures"})]})};function c(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){c(a,r,i,o,u,"next",e)}function u(e){c(a,r,i,o,u,"throw",e)}o(void 0)}))}}var f=n(757),h=n.n(f);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function E(e,t){if(t&&("object"===_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function T(e){var t=x();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E(this,n)}}function S(e,t,n){return S=x()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&b(i,n.prototype),i},S.apply(null,arguments)}function I(e){var t="function"===typeof Map?new Map:void 0;return I=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return S(e,arguments,w(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),b(n,e)},I(e)}var C=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},A={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(C(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},P=function(e){return function(e){var t=C(e);return A.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function N(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=N(e[n],t[n]));return e}var D=function(){function e(){var t=this;p(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return m(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function O(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[P(JSON.stringify({alg:"none",type:"JWT"})),P(JSON.stringify(a)),""].join(".")}function R(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function M(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L(){return"object"===typeof indexedDB}var F=function(e){k(n,e);var t=T(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(g(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(g(a),V.prototype.create),a}return m(n)}(I(Error)),V=function(){function e(t,n,r){p(this,e),this.service=t,this.serviceName=n,this.errors=r}return m(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?j(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new F(n,a,t);return o}}]),e}();function j(e,t){return e.replace(U,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var U=/\{\$([^}]+)}/g;function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(q(u)&&q(s)){if(!z(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function q(e){return null!==e&&"object"===typeof e}function G(e,t){var n=new K(e,t);return n.subscribe.bind(n)}var K=function(){function e(t,n){var r=this;p(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return m(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=y(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=H),void 0===r.error&&(r.error=H),void 0===r.complete&&(r.complete=H);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function H(){}function W(e){return e&&e._delegate?e._delegate:e}function Q(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var Y=function(){function e(t){p(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return m(e,[{key:"transaction",value:function(e,t){return new X(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new $(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),X=function(){function e(t){var n=this;p(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return m(e,[{key:"objectStore",value:function(e){return new $(this._transaction.objectStore(e))}}]),e}(),$=function(){function e(t){p(this,e),this._store=t}return m(e,[{key:"index",value:function(e){return new J(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new J(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return Q(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return Q(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return Q(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return Q(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),J=function(){function e(t){p(this,e),this._index=t}return m(e,[{key:"get",value:function(e){return Q(this._index.get(e),"Error reading from IndexedDB")}}]),e}();function Z(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ee=function(){function e(t,n,r){p(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return m(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),te="[DEFAULT]",ne=function(){function e(t,n){p(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return m(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new D;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:te})}catch(c){}var t,n=y(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=o(t.value,2),i=r[0],a=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=l(f.mark((function e(){var t;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Z(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Z(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=y(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=o(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){u.e(h)}finally{u.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=y(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(dm){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===te?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(dm){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te;return this.component?this.component.multipleInstances?e:te:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var re,ie,ae=function(){function e(t){p(this,e),this.name=t,this.providers=new Map}return m(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ne(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),oe=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ie||(ie={}));var ue,se,ce={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},le=ie.INFO,fe=(d(re={},ie.DEBUG,"log"),d(re,ie.VERBOSE,"log"),d(re,ie.INFO,"info"),d(re,ie.WARN,"warn"),d(re,ie.ERROR,"error"),re),he=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=fe[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},de=function(){function e(t){p(this,e),this.name=t,this._logLevel=le,this._logHandler=he,this._userLogHandler=null,oe.push(this)}return m(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ie))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ce[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ie.DEBUG].concat(t)),this._logHandler.apply(this,[this,ie.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ie.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ie.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ie.INFO].concat(t)),this._logHandler.apply(this,[this,ie.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ie.WARN].concat(t)),this._logHandler.apply(this,[this,ie.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ie.ERROR].concat(t)),this._logHandler.apply(this,[this,ie.ERROR].concat(t))}}]),e}();var pe=function(){function e(t){p(this,e),this.container=t}return m(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ve="@firebase/app",me="0.7.20",ye=new de("@firebase/app"),ge="[DEFAULT]",be=(d(ue={},ve,"fire-core"),d(ue,"@firebase/app-compat","fire-core-compat"),d(ue,"@firebase/analytics","fire-analytics"),d(ue,"@firebase/analytics-compat","fire-analytics-compat"),d(ue,"@firebase/app-check","fire-app-check"),d(ue,"@firebase/app-check-compat","fire-app-check-compat"),d(ue,"@firebase/auth","fire-auth"),d(ue,"@firebase/auth-compat","fire-auth-compat"),d(ue,"@firebase/database","fire-rtdb"),d(ue,"@firebase/database-compat","fire-rtdb-compat"),d(ue,"@firebase/functions","fire-fn"),d(ue,"@firebase/functions-compat","fire-fn-compat"),d(ue,"@firebase/installations","fire-iid"),d(ue,"@firebase/installations-compat","fire-iid-compat"),d(ue,"@firebase/messaging","fire-fcm"),d(ue,"@firebase/messaging-compat","fire-fcm-compat"),d(ue,"@firebase/performance","fire-perf"),d(ue,"@firebase/performance-compat","fire-perf-compat"),d(ue,"@firebase/remote-config","fire-rc"),d(ue,"@firebase/remote-config-compat","fire-rc-compat"),d(ue,"@firebase/storage","fire-gcs"),d(ue,"@firebase/storage-compat","fire-gcs-compat"),d(ue,"@firebase/firestore","fire-fst"),d(ue,"@firebase/firestore-compat","fire-fst-compat"),d(ue,"fire-js","fire-js"),d(ue,"firebase","fire-js-all"),ue),ke=new Map,we=new Map;function xe(e,t){try{e.container.addComponent(t)}catch(n){ye.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function _e(e,t){e.container.addOrOverwriteComponent(t)}function Ee(e){var t=e.name;if(we.has(t))return ye.debug("There were multiple attempts to register component ".concat(t,".")),!1;we.set(t,e);var n,r=y(ke.values());try{for(r.s();!(n=r.n()).done;){xe(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Te(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ge;Te(e,t).clearInstance(n)}function Ie(){we.clear()}var Ce=(d(se={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),d(se,"bad-app-name","Illegal App name: '{$appName}"),d(se,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),d(se,"app-deleted","Firebase App named '{$appName}' already deleted"),d(se,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),d(se,"invalid-log-argument","First argument to `onLog` must be null or a function."),d(se,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),d(se,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),d(se,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),d(se,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),se),Ae=new V("app","Firebase",Ce),Pe=function(){function e(t,n,r){var i=this;p(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ee("app",(function(){return i}),"PUBLIC"))}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ae.create("app-deleted",{appName:this._name})}}]),e}(),Ne="9.6.10";function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ge,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ae.create("bad-app-name",{appName:String(i)});var a=ke.get(i);if(a){if(z(e,a.options)&&z(r,a.config))return a;throw Ae.create("duplicate-app",{appName:i})}var o,u=new ae(i),s=y(we.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Pe(e,r,u);return ke.set(i,l),l}function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=ke.get(e);if(!t)throw Ae.create("no-app",{appName:e});return t}function Re(){return Array.from(ke.values())}function Me(e){return Le.apply(this,arguments)}function Le(){return(Le=l(f.mark((function e(t){var n;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ke.has(n)){e.next=6;break}return ke.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e,t,n){var r,i=null!==(r=be[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ye.warn(u.join(" "))}Ee(new ee("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ve(e,t){if(null!==e&&"function"!==typeof e)throw Ae.create("invalid-log-argument");!function(e,t){var n,r=y(oe);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ce[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ie[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function je(e){var t;t=e,oe.forEach((function(e){e.setLogLevel(t)}))}var Ue="firebase-heartbeat-store",Be=null;function ze(){var e,t,n;return Be||(Be=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Ue)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new Y(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new Y(a.result),e.oldVersion,e.newVersion,new X(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw Ae.create("storage-open",{originalErrorMessage:e.message})}))),Be}function qe(e){return Ge.apply(this,arguments)}function Ge(){return Ge=l(f.mark((function e(t){var n;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ze();case 3:return n=e.sent,e.abrupt("return",n.transaction(Ue).objectStore(Ue).get(We(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Ae.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ge.apply(this,arguments)}function Ke(e,t){return He.apply(this,arguments)}function He(){return He=l(f.mark((function e(t,n){var r,i,a;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ze();case 3:return r=e.sent,i=r.transaction(Ue,"readwrite"),a=i.objectStore(Ue),e.next=8,a.put(n,We(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),Ae.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),He.apply(this,arguments)}function We(e){return"".concat(e.name,"!").concat(e.options.appId)}var Qe=function(){function e(t){var n=this;p(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ze(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return m(e,[{key:"triggerHeartbeat",value:function(){var e=l(f.mark((function e(){var t,n,r;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ye(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=l(f.mark((function e(){var t,n,r,i,a;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ye(),n=Xe(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=P(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ye(){return(new Date).toISOString().substring(0,10)}function Xe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=y(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),et(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),et(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var $e,Je,Ze=function(){function e(t){p(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return m(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=l(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=l(f.mark((function e(){var t;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,qe(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=l(f.mark((function e(t){var n,r;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ke(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=l(f.mark((function e(t){var n,r;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ke(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Z(r.heartbeats),Z(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function et(e){return P(JSON.stringify({version:2,heartbeats:e})).length}$e="",Ee(new ee("platform-logger",(function(e){return new pe(e)}),"PRIVATE")),Ee(new ee("heartbeat",(function(e){return new Qe(e)}),"PRIVATE")),Fe(ve,me,$e),Fe(ve,me,"esm2017"),Fe("fire-js","");var tt=function(){function e(t,n){var r=this;p(this,e),this._delegate=t,this.firebase=n,xe(t,new ee("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Me(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){xe(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){_e(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),nt=(d(Je={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),d(Je,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Je),rt=new V("app-compat","Firebase",nt);var it=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=De(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(B(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Fe,setLogLevel:je,onLog:Ve,apps:null,SDK_VERSION:Ne,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ee(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw rt.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&N(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!B(n,e=e||ge))throw rt.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(tt);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){N(n,e)},createSubscribe:G,ErrorFactory:V,deepExtend:N}),n}(),at=new de("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){at.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&at.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ut=it;!function(e){Fe("@firebase/app-compat","0.1.21",e)}();ut.registerVersion("firebase","9.6.10","app-compat");var st="firebasestorage.googleapis.com",ct=function(e){k(n,e);var t=T(n);function n(e,r){var i;return p(this,n),(i=t.call(this,lt(e),"Firebase Storage: ".concat(r," (").concat(lt(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(g(i),n.prototype),i}return m(n,[{key:"_codeEquals",value:function(e){return lt(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(F);function lt(e){return"storage/"+e}function ft(){return new ct("unknown","An unknown error occurred, please check the error payload for server response.")}function ht(){return new ct("canceled","User canceled the upload/download.")}function dt(){return new ct("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function pt(e){return new ct("invalid-argument",e)}function vt(){return new ct("app-deleted","The Firebase app was deleted.")}function mt(e){return new ct("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yt(e,t){return new ct("invalid-format","String does not match format '"+e+"': "+t)}function gt(e){throw new ct("internal-error","Internal error: "+e)}var bt,kt=function(){function e(t,n){p(this,e),this.bucket=t,this.path_=n}return m(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new ct("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===st?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new ct("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),wt=function(){function e(t){p(this,e),this.promise_=Promise.reject(t)}return m(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function xt(e){return"string"===typeof e||e instanceof String}function _t(e){return Et()&&e instanceof Blob}function Et(){return"undefined"!==typeof Blob}function Tt(e,t,n,r){if(r<t)throw pt("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw pt("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function St(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function It(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(bt||(bt={}));var Ct=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this;p(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return m(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=ft();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?vt():ht());else i(new ct("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new At(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new At(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===bt.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new At(o,r))}else{var u=r.getErrorCode()===bt.ABORT;t(!1,new At(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),At=m((function e(t,n,r){p(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function Pt(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Nt(){for(var e=Pt(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Et())return new Blob(n);throw new ct("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Dt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Ot=m((function e(t,n){p(this,e),this.data=t,this.contentType=n||null}));function Rt(e,t){switch(e){case Dt.RAW:return new Ot(Mt(t));case Dt.BASE64:case Dt.BASE64URL:return new Ot(Lt(e,t));case Dt.DATA_URL:return new Ot(function(e){var t=new Ft(e);return t.base64?Lt(Dt.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw yt(Dt.DATA_URL,"Malformed data URL.")}return Mt(t)}(t.rest)}(t),new Ft(t).contentType)}throw ft()}function Mt(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Lt(e,t){switch(e){case Dt.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw yt(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Dt.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw yt(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw yt(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var Ft=m((function e(t){p(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw yt(Dt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var Vt=function(){function e(t,n){p(this,e);var r=0,i="";_t(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return m(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(_t(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Et()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(Nt.apply(null,i))}var a=n.map((function(e){return xt(e)?Rt(Dt.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function jt(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Ut(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Bt(e,t){return t}var zt=m((function e(t,n,r,i){p(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Bt})),qt=null;function Gt(){if(qt)return qt;var e=[];e.push(new zt("bucket")),e.push(new zt("generation")),e.push(new zt("metageneration")),e.push(new zt("name","fullPath",!0));var t=new zt("name");t.xform=function(e,t){return function(e){return!xt(e)||e.length<2?e:Ut(e)}(t)},e.push(t);var n=new zt("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new zt("timeCreated")),e.push(new zt("updated")),e.push(new zt("md5Hash",null,!0)),e.push(new zt("cacheControl",null,!0)),e.push(new zt("contentDisposition",null,!0)),e.push(new zt("contentEncoding",null,!0)),e.push(new zt("contentLanguage",null,!0)),e.push(new zt("contentType",null,!0)),e.push(new zt("metadata","customMetadata",!0)),qt=e}function Kt(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new kt(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Ht(e,t,n){var r=jt(t);return null===r?null:Kt(e,r,n)}function Wt(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function Qt(e,t,n){var r=jt(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=y(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new kt(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=y(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new kt(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var Yt=m((function e(t,n,r,i){p(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function Xt(e){if(!e)throw ft()}function $t(e,t){return function(n,r){var i=Ht(e,r,t);return Xt(null!==i),i}}function Jt(e,t){return function(n,r){var i=Ht(e,r,t);return Xt(null!==i),function(e,t,n,r){var i=jt(t);if(null===i)return null;if(!xt(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return St("/b/"+o(i)+"/o/"+o(a),n,r)+It({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Zt(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new ct("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new ct("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new ct("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new ct("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function en(e){var t=Zt(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new ct("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function tn(e,t,n){var r=St(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Yt(r,"GET",$t(e,n),i);return a.errorHandler=en(t),a}function nn(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=St(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new Yt(o,"GET",function(e,t){return function(n,r){var i=Qt(e,t,r);return Xt(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=Zt(t),s}function rn(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function an(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=rn(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Wt(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=Vt.getBlob(c,r,l);if(null===f)throw dt();var h={name:s.fullPath},d=St(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new Yt(d,"POST",$t(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=Zt(t),v}var on=m((function e(t,n,r,i){p(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function un(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Xt(!1)}return Xt(!!n&&-1!==(t||["active"]).indexOf(n)),n}var sn=262144;function cn(e,t,n,r,i,a,o,u){var s=new on(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new ct("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw dt();var v=t.maxUploadRetryTime,m=new Yt(n,"POST",(function(e,n){var i,o=un(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?$t(t,a)(e,n):null,new on(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=Zt(e),m}var ln={STATE_CHANGED:"state_changed"},fn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hn(e){switch(e){case"running":case"pausing":case"canceling":return fn.RUNNING;case"paused":return fn.PAUSED;case"success":return fn.SUCCESS;case"canceled":return fn.CANCELED;default:return fn.ERROR}}var dn=m((function e(t,n,r){p(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function pn(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var vn=function(){function e(){var t=this;p(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=bt.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=bt.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=bt.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return m(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw gt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw gt("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw gt("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw gt("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw gt("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),mn=function(e){k(n,e);var t=T(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(vn);function yn(){return new mn}var gn=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;p(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Gt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return m(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=o(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=rn(t,r,i),u={name:o.fullPath},s=St(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=Wt(o,n),f=e.maxUploadRetryTime,h=new Yt(s,"POST",(function(e){var t;un(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Xt(!1)}return Xt(xt(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=Zt(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,yn,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new Yt(n,"POST",(function(e){var t=un(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){Xt(!1)}n||Xt(!1);var i=Number(n);return Xt(!isNaN(i)),new on(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=Zt(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,yn,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=sn*this._chunkMultiplier,n=new on(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=cn(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,yn,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){sn*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=tn(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,yn,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=an(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,yn,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=ht(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=hn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new dn(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(hn(this._state)){case fn.SUCCESS:pn(this._resolve.bind(null,this.snapshot))();break;case fn.CANCELED:case fn.ERROR:pn(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(hn(this._state)){case fn.RUNNING:case fn.PAUSED:e.next&&pn(e.next.bind(e,this.snapshot))();break;case fn.SUCCESS:e.complete&&pn(e.complete.bind(e))();break;default:e.error&&pn(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),bn=function(){function e(t,n){p(this,e),this._service=t,this._location=n instanceof kt?n:kt.makeFromUrl(n,t.host)}return m(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new kt(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Ut(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new kt(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw mt(e)}}]),e}();function kn(e,t,n){return wn.apply(this,arguments)}function wn(){return(wn=l(h().mark((function e(t,n,r){var i,a,o,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,xn(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,Z(u.prefixes)),(a=n.items).push.apply(a,Z(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,kn(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xn(e,t){null!=t&&"number"===typeof t.maxResults&&Tt("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=nn(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,yn)}function _n(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=St(t.fullServerUrl(),e.host,e._protocol),a=Wt(n,r),o=e.maxOperationRetryTime,u=new Yt(i,"PATCH",$t(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=en(t),u}(e.storage,e._location,t,Gt());return e.storage.makeRequestWithTokens(n,yn)}function En(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=St(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Yt(r,"GET",Jt(e,n),i);return a.errorHandler=en(t),a}(e.storage,e._location,Gt());return e.storage.makeRequestWithTokens(t,yn).then((function(e){if(null===e)throw new ct("no-download-url","The given file does not have any download URLs.");return e}))}function Tn(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=St(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Yt(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=en(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,yn)}function Sn(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new kt(e._location.bucket,n);return new bn(e.storage,r)}function In(e,t){if(e instanceof Nn){var n=e;if(null==n._bucket)throw new ct("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new bn(n,n._bucket);return null!=t?In(r,t):r}return void 0!==t?Sn(e,t):e}function Cn(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Nn)return new bn(e,t);throw pt("To use ref(service, url), the first argument must be a Storage instance.")}return In(e,t)}function An(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:kt.makeFromBucketSpec(n,e)}function Pn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:O(i,e.app.options.projectId))}var Nn=function(){function e(t,n,r,i,a){p(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=st,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?kt.makeFromBucketSpec(i,this._host):An(this._host,this.app.options)}return m(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=kt.makeFromBucketSpec(this._url,e):this._bucket=An(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Tt("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Tt("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=l(h().mark((function e(){var t,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=l(h().mark((function e(){var t,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new bn(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new wt(vt());var a=function(e,t,n,r,i,a){var o=It(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new Ct(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=l(h().mark((function e(t,n){var r,i,a,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=o(r,2),a=i[0],u=i[1],e.abrupt("return",this._makeRequest(t,n,a,u).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Dn="@firebase/storage",On="0.9.4",Rn="storage";function Mn(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new gn(e,new Vt(t),n)}(e=W(e),t,n)}function Ln(e){return function(e){e._throwIfRoot("getMetadata");var t=tn(e.storage,e._location,Gt());return e.storage.makeRequestWithTokens(t,yn)}(e=W(e))}function Fn(e){return function(e){var t={prefixes:[],items:[]};return kn(e,t).then((function(){return t}))}(e=W(e))}function Vn(e,t){return Cn(e=W(e),t)}function jn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Pn(e,t,n,r)}function Un(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Nn(r,i,a,n,Ne)}Ee(new ee(Rn,Un,"PUBLIC").setMultipleInstances(!0)),Fe(Dn,On,""),Fe(Dn,On,"esm2017");var Bn=function(){function e(t,n,r){p(this,e),this._delegate=t,this.task=n,this.ref=r}return m(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),zn=function(){function e(t,n){p(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return m(e,[{key:"snapshot",get:function(){return new Bn(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Bn(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new Bn(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Bn(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),qn=function(){function e(t,n){p(this,e),this._delegate=t,this._service=n}return m(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Gn(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new Gn(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),Gn=function(){function e(t,n){p(this,e),this._delegate=t,this.storage=n}return m(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return Sn(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new zn(Mn(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=Rt(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new zn(new gn(this._delegate,new Vt(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return Fn(this._delegate).then((function(t){return new qn(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return xn(e=W(e),t)}(this._delegate,e||void 0).then((function(e){return new qn(e,t.storage)}))}},{key:"getMetadata",value:function(){return Ln(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return _n(e=W(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return En(W(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),Tn(W(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw mt(e)}}]),e}(),Kn=function(){function e(t,n){p(this,e),this.app=t,this._delegate=n}return m(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(Hn(e))throw pt("ref() expected a child path but got a URL, use refFromURL instead.");return new Gn(Vn(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!Hn(e))throw pt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{kt.makeFromUrl(e,this._delegate.host)}catch(t){throw pt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Gn(Vn(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};jn(this._delegate,e,t,n)}}]),e}();function Hn(e){return/^[A-Za-z]+:\/\//.test(e)}function Wn(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new Kn(r,i)}function Qn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}function Yn(){return Yn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Qn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Yn.apply(this,arguments)}!function(e){var t={TaskState:fn,TaskEvent:ln,StringFormat:Dt,Storage:Kn,Reference:Gn};e.INTERNAL.registerComponent(new ee("storage-compat",Wn,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.12")}(ut);var Xn,$n="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Jn={},Zn=Zn||{},er=$n||self;function tr(){}function nr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function rr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ir="closure_uid_"+(1e9*Math.random()>>>0),ar=0;function or(e,t,n){return e.call.apply(e.bind,arguments)}function ur(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function sr(e,t,n){return(sr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?or:ur).apply(null,arguments)}function cr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function lr(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function fr(){this.s=this.s,this.o=this.o}var hr={};fr.prototype.s=!1,fr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ir)&&e[ir]||(e[ir]=++ar)}(this);delete hr[e]}},fr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var dr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},pr=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function vr(e){return Array.prototype.concat.apply([],arguments)}function mr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function yr(e){return/^[\s\xa0]*$/.test(e)}var gr,br=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function kr(e,t){return-1!=e.indexOf(t)}function wr(e,t){return e<t?-1:e>t?1:0}e:{var xr=er.navigator;if(xr){var _r=xr.userAgent;if(_r){gr=_r;break e}}gr=""}function Er(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Tr(e){var t={};for(var n in e)t[n]=e[n];return t}var Sr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ir(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Sr.length;a++)n=Sr[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Cr(e){return Cr[" "](e),e}Cr[" "]=tr;var Ar,Pr=kr(gr,"Opera"),Nr=kr(gr,"Trident")||kr(gr,"MSIE"),Dr=kr(gr,"Edge"),Or=Dr||Nr,Rr=kr(gr,"Gecko")&&!(kr(gr.toLowerCase(),"webkit")&&!kr(gr,"Edge"))&&!(kr(gr,"Trident")||kr(gr,"MSIE"))&&!kr(gr,"Edge"),Mr=kr(gr.toLowerCase(),"webkit")&&!kr(gr,"Edge");function Lr(){var e=er.document;return e?e.documentMode:void 0}e:{var Fr="",Vr=function(){var e=gr;return Rr?/rv:([^\);]+)(\)|;)/.exec(e):Dr?/Edge\/([\d\.]+)/.exec(e):Nr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Mr?/WebKit\/(\S+)/.exec(e):Pr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Vr&&(Fr=Vr?Vr[1]:""),Nr){var jr=Lr();if(null!=jr&&jr>parseFloat(Fr)){Ar=String(jr);break e}}Ar=Fr}var Ur,Br={};function zr(){return function(e){var t=Br;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=br(String(Ar)).split("."),n=br("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=wr(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||wr(0==a[2].length,0==o[2].length)||wr(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(er.document&&Nr){var qr=Lr();Ur=qr||(parseInt(Ar,10)||void 0)}else Ur=void 0;var Gr=Ur,Kr=function(){if(!er.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{er.addEventListener("test",tr,t),er.removeEventListener("test",tr,t)}catch(S_){}return e}();function Hr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Wr(e,t){if(Hr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Rr){e:{try{Cr(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Qr[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Wr.Z.h.call(this)}}Hr.prototype.h=function(){this.defaultPrevented=!0},lr(Wr,Hr);var Qr={2:"touch",3:"pen",4:"mouse"};Wr.prototype.h=function(){Wr.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Yr="closure_listenable_"+(1e6*Math.random()|0),Xr=0;function $r(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Xr,this.ca=this.fa=!1}function Jr(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Zr(e){this.src=e,this.g={},this.h=0}function ei(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=dr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Jr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ti(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Zr.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ti(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new $r(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ni="closure_lm_"+(1e6*Math.random()|0),ri={};function ii(e,t,n,r,i){if(r&&r.once)return oi(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ii(e,t[a],n,r,i);return null}return n=di(n),e&&e[Yr]?e.N(t,n,rr(r)?!!r.capture:!!r,i):ai(e,t,n,!1,r,i)}function ai(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=rr(i)?!!i.capture:!!i,u=fi(e);if(u||(e[ni]=u=new Zr(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=li;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Kr||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ci(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function oi(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)oi(e,t[a],n,r,i);return null}return n=di(n),e&&e[Yr]?e.O(t,n,rr(r)?!!r.capture:!!r,i):ai(e,t,n,!0,r,i)}function ui(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ui(e,t[a],n,r,i);else r=rr(r)?!!r.capture:!!r,n=di(n),e&&e[Yr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ti(a=e.g[t],n,r,i))&&(Jr(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=fi(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ti(t,n,r,i)),(n=-1<e?t[e]:null)&&si(n))}function si(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Yr])ei(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ci(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=fi(t))?(ei(n,e),0==n.h&&(n.src=null,t[ni]=null)):Jr(e)}}}function ci(e){return e in ri?ri[e]:ri[e]="on"+e}function li(e,t){if(e.ca)e=!0;else{t=new Wr(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&si(e),e=n.call(r,t)}return e}function fi(e){return(e=e[ni])instanceof Zr?e:null}var hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function di(e){return"function"===typeof e?e:(e[hi]||(e[hi]=function(t){return e.handleEvent(t)}),e[hi])}function pi(){fr.call(this),this.i=new Zr(this),this.P=this,this.I=null}function vi(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Hr(t,e);else if(t instanceof Hr)t.target=t.target||e;else{var i=t;Ir(t=new Hr(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=mi(o,r,!0,t)&&i}if(i=mi(o=t.g=e,r,!0,t)&&i,i=mi(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=mi(o=t.g=n[a],r,!1,t)&&i}function mi(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&ei(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}lr(pi,fr),pi.prototype[Yr]=!0,pi.prototype.removeEventListener=function(e,t,n,r){ui(this,e,t,n,r)},pi.prototype.M=function(){if(pi.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Jr(n[r]);delete t.g[e],t.h--}}this.I=null},pi.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},pi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var yi=er.JSON.stringify;function gi(){var e=Si,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var bi,ki=function(){function e(){p(this,e),this.h=this.g=null}return m(e,[{key:"add",value:function(e,t){var n=wi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),wi=new(function(){function e(t,n){p(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return m(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new xi}),(function(e){return e.reset()})),xi=function(){function e(){p(this,e),this.next=this.g=this.h=null}return m(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function _i(e){er.setTimeout((function(){throw e}),0)}function Ei(e,t){bi||function(){var e=er.Promise.resolve(void 0);bi=function(){e.then(Ii)}}(),Ti||(bi(),Ti=!0),Si.add(e,t)}var Ti=!1,Si=new ki;function Ii(){for(var e;e=gi();){try{e.h.call(e.g)}catch(S_){_i(S_)}var t=wi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ti=!1}function Ci(e,t){pi.call(this),this.h=e||1,this.g=t||er,this.j=sr(this.kb,this),this.l=Date.now()}function Ai(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Pi(e,t,n){if("function"===typeof e)n&&(e=sr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=sr(e.handleEvent,e)}return 2147483647<Number(t)?-1:er.setTimeout(e,t||0)}function Ni(e){e.g=Pi((function(){e.g=null,e.i&&(e.i=!1,Ni(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}lr(Ci,pi),(Xn=Ci.prototype).da=!1,Xn.S=null,Xn.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),vi(this,"tick"),this.da&&(Ai(this),this.start()))}},Xn.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xn.M=function(){Ci.Z.M.call(this),Ai(this),delete this.g};var Di=function(e){k(n,e);var t=T(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return m(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ni(this)}},{key:"M",value:function(){Yn(w(n.prototype),"M",this).call(this),this.g&&(er.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(fr);function Oi(e){fr.call(this),this.h=e,this.g={}}lr(Oi,fr);var Ri=[];function Mi(e,t,n,r){Array.isArray(n)||(n&&(Ri[0]=n.toString()),n=Ri);for(var i=0;i<n.length;i++){var a=ii(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Li(e){Er(e.g,(function(e,t){this.g.hasOwnProperty(t)&&si(e)}),e),e.g={}}function Fi(){this.g=!0}function Vi(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return yi(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Oi.prototype.M=function(){Oi.Z.M.call(this),Li(this)},Oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fi.prototype.Aa=function(){this.g=!1},Fi.prototype.info=function(){};var ji={},Ui=null;function Bi(){return Ui=Ui||new pi}function zi(e){Hr.call(this,ji.Ma,e)}function qi(e){var t=Bi();vi(t,new zi(t,e))}function Gi(e,t){Hr.call(this,ji.STAT_EVENT,e),this.stat=t}function Ki(e){var t=Bi();vi(t,new Gi(t,e))}function Hi(e,t){Hr.call(this,ji.Na,e),this.size=t}function Wi(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return er.setTimeout((function(){e()}),t)}ji.Ma="serverreachability",lr(zi,Hr),ji.STAT_EVENT="statevent",lr(Gi,Hr),ji.Na="timingevent",lr(Hi,Hr);var Qi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Yi={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Xi(){}function $i(e){return e.h||(e.h=e.i())}function Ji(){}Xi.prototype.h=null;var Zi,ea={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ta(){Hr.call(this,"d")}function na(){Hr.call(this,"c")}function ra(){}function ia(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Oi(this),this.P=oa,e=Or?125:void 0,this.W=new Ci(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new aa}function aa(){this.i=null,this.g="",this.h=!1}lr(ta,Hr),lr(na,Hr),lr(ra,Xi),ra.prototype.g=function(){return new XMLHttpRequest},ra.prototype.i=function(){return{}},Zi=new ra;var oa=45e3,ua={},sa={};function ca(e,t,n){e.K=1,e.v=Da(Sa(t)),e.s=n,e.U=!0,la(e,null)}function la(e,t){e.F=Date.now(),pa(e),e.A=Sa(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Ka(n.h,"t",r),e.C=0,n=e.l.H,e.h=new aa,e.g=Wo(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Di(sr(e.Ia,e,e.g),e.O)),Mi(e.V,e.g,"readystatechange",e.gb),t=e.H?Tr(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),qi(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function fa(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ha(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=da(e,n))==sa){4==t&&(e.o=4,Ki(14),i=!1),Vi(e.j,e.m,null,"[Incomplete Response]");break}if(r==ua){e.o=4,Ki(15),Vi(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Vi(e.j,e.m,r,null),ba(e,r)}fa(e)&&r!=sa&&r!=ua&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ki(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),jo(t),t.L=!0,Ki(11))):(Vi(e.j,e.m,n,"[Invalid Chunked Response]"),ga(e),ya(e))}function da(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?sa:(n=Number(t.substring(n,r)),isNaN(n)?ua:(r+=1)+n>t.length?sa:(t=t.substr(r,n),e.C=r+n,t))}function pa(e){e.Y=Date.now()+e.P,va(e,e.P)}function va(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Wi(sr(e.eb,e),t)}function ma(e){e.B&&(er.clearTimeout(e.B),e.B=null)}function ya(e){0==e.l.G||e.I||zo(e.l,e)}function ga(e){ma(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ai(e.W),Li(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ba(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ja(n.i,e)))if(n.I=e.N,!e.J&&Ja(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Bo(n),Po(n)}Vo(n),Ki(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Wi(sr(n.ab,n),6e3));if(1>=$a(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Go(n,11)}else if((e.J||n.g==e)&&Bo(n),!yr(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(kr(l,"spdy")||kr(l,"quic")||kr(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Za(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Na(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Ho(r,r.H?r.la:null,r.W),d.J){eo(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(ma(p),pa(p)),r.g=d}else Fo(r);0<n.l.length&&Oo(n)}else"stop"!=a[0]&&"close"!=a[0]||Go(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Go(n,7):Ao(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}qi(4)}catch(a){}}function ka(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(nr(e)||"string"===typeof e)pr(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(nr(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(nr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function wa(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof wa)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function xa(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];_a(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)_a(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function _a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Xn=ia.prototype).setTimeout=function(e){this.P=e},Xn.gb=function(e){e=e.target;var t=this.L;t&&3==Eo(e)?t.l():this.Ia(e)},Xn.Ia=function(e){try{if(e==this.g)e:{var t=Eo(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Or||this.g&&(this.h.h||this.g.ga()||To(this.g)))){this.I||4!=t||7==n||qi(8==n||0>=r?3:2),ma(this);var i=this.g.ba();this.N=i;t:if(fa(this)){var a=To(this.g);e="";var o=a.length,u=4==Eo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ga(this),ya(this);var s="";break t}this.h.i=new er.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yr(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Ki(12),ga(this),ya(this);break e}Vi(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ba(this,i)}this.U?(ha(this,t,s),Or&&this.i&&3==t&&(Mi(this.V,this.W,"tick",this.fb),this.W.start())):(Vi(this.j,this.m,s,null),ba(this,s)),4==t&&ga(this),this.i&&!this.I&&(4==t?zo(this.l,this):(this.i=!1,pa(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Ki(12)):(this.o=0,Ki(13)),ga(this),ya(this)}}}catch(t){}},Xn.fb=function(){if(this.g){var e=Eo(this.g),t=this.g.ga();this.C<t.length&&(ma(this),ha(this,e,t),this.i&&4!=e&&pa(this))}},Xn.cancel=function(){this.I=!0,ga(this)},Xn.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(qi(3),Ki(17)),ga(this),this.o=2,ya(this)):va(this,this.Y-e)},(Xn=wa.prototype).R=function(){xa(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Xn.T=function(){return xa(this),this.g.concat()},Xn.get=function(e,t){return _a(this.h,e)?this.h[e]:t},Xn.set=function(e,t){_a(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Xn.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ea=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ta(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ta){this.g=void 0!==t?t:e.g,Ia(this,e.j),this.s=e.s,Ca(this,e.i),Aa(this,e.m),this.l=e.l,t=e.h;var n=new Ba;n.i=t.i,t.g&&(n.g=new wa(t.g),n.h=t.h),Pa(this,n),this.o=e.o}else e&&(n=String(e).match(Ea))?(this.g=!!t,Ia(this,n[1]||"",!0),this.s=Oa(n[2]||""),Ca(this,n[3]||"",!0),Aa(this,n[4]),this.l=Oa(n[5]||"",!0),Pa(this,n[6]||"",!0),this.o=Oa(n[7]||"")):(this.g=!!t,this.h=new Ba(null,this.g))}function Sa(e){return new Ta(e)}function Ia(e,t,n){e.j=n?Oa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ca(e,t,n){e.i=n?Oa(t,!0):t}function Aa(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Pa(e,t,n){t instanceof Ba?(e.h=t,function(e,t){t&&!e.j&&(za(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(qa(this,t),Ka(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ra(t,ja)),e.h=new Ba(t,e.g))}function Na(e,t,n){e.h.set(t,n)}function Da(e){return Na(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Oa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ra(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ma),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ma(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ta.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ra(t,La,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ra(t,La,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ra(n,"/"==n.charAt(0)?Va:Fa,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ra(n,Ua)),e.join("")};var La=/[#\/\?@]/g,Fa=/[#\?:]/g,Va=/[#\?]/g,ja=/[#\?@]/g,Ua=/#/g;function Ba(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function za(e){e.g||(e.g=new wa,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function qa(e,t){za(e),t=Ha(e,t),_a(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,_a((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&xa(e)))}function Ga(e,t){return za(e),t=Ha(e,t),_a(e.g.h,t)}function Ka(e,t,n){qa(e,t),0<n.length&&(e.i=null,e.g.set(Ha(e,t),mr(n)),e.h+=n.length)}function Ha(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Xn=Ba.prototype).add=function(e,t){za(this),this.i=null,e=Ha(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Xn.forEach=function(e,t){za(this),this.g.forEach((function(n,r){pr(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Xn.T=function(){za(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Xn.R=function(e){za(this);var t=[];if("string"===typeof e)Ga(this,e)&&(t=vr(t,this.g.get(Ha(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=vr(t,e[n])}return t},Xn.set=function(e,t){return za(this),this.i=null,Ga(this,e=Ha(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Xn.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Xn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Wa=m((function e(t,n){p(this,e),this.h=t,this.g=n}));function Qa(e){this.l=e||Ya,er.PerformanceNavigationTiming?e=0<(e=er.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(er.g&&er.g.Ea&&er.g.Ea()&&er.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ya=10;function Xa(e){return!!e.h||!!e.g&&e.g.size>=e.j}function $a(e){return e.h?1:e.g?e.g.size:0}function Ja(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Za(e,t){e.g?e.g.add(t):e.h=t}function eo(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function to(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=y(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return mr(e.i)}function no(){}function ro(){this.g=new no}function io(e,t,n){var r=n||"";try{ka(e,(function(e,n){var i=e;rr(e)&&(i=yi(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ao(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function oo(e){this.l=e.$b||null,this.j=e.ib||!1}function uo(e,t){pi.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=so,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qa.prototype.cancel=function(){if(this.i=to(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=y(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},no.prototype.stringify=function(e){return er.JSON.stringify(e,void 0)},no.prototype.parse=function(e){return er.JSON.parse(e,void 0)},lr(oo,Xi),oo.prototype.g=function(){return new uo(this.l,this.j)},oo.prototype.i=function(e){return function(){return e}}({}),lr(uo,pi);var so=0;function co(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function lo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,fo(e)}function fo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Xn=uo.prototype).open=function(e,t){if(this.readyState!=so)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,fo(this)},Xn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||er).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Xn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lo(this)),this.readyState=so},Xn.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,fo(this)),this.g&&(this.readyState=3,fo(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof er.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;co(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Xn.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?lo(this):fo(this),3==this.readyState&&co(this)}},Xn.Ua=function(e){this.g&&(this.response=this.responseText=e,lo(this))},Xn.Ta=function(e){this.g&&(this.response=e,lo(this))},Xn.ha=function(){this.g&&lo(this)},Xn.setRequestHeader=function(e,t){this.v.append(e,t)},Xn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Xn.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(uo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ho=er.JSON.parse;function po(e){pi.call(this),this.headers=new wa,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vo,this.K=this.L=!1}lr(po,pi);var vo="",mo=/^https?$/i,yo=["POST","PUT"];function go(e){return"content-type"==e.toLowerCase()}function bo(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ko(e),xo(e)}function ko(e){e.D||(e.D=!0,vi(e,"complete"),vi(e,"error"))}function wo(e){if(e.h&&"undefined"!=typeof Zn&&(!e.C[1]||4!=Eo(e)||2!=e.ba()))if(e.v&&4==Eo(e))Pi(e.Fa,0,e);else if(vi(e,"readystatechange"),4==Eo(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ea)[1]||null;if(!a&&er.self&&er.self.location){var o=er.self.location.protocol;a=o.substr(0,o.length-1)}i=!mo.test(a?a.toLowerCase():"")}t=i}if(t)vi(e,"complete"),vi(e,"success");else{e.m=6;try{var u=2<Eo(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",ko(e)}}finally{xo(e)}}}function xo(e,t){if(e.g){_o(e);var n=e.g,r=e.C[0]?tr:null;e.g=null,e.C=null,t||vi(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function _o(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(er.clearTimeout(e.A),e.A=null)}function Eo(e){return e.g?e.g.readyState:0}function To(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case vo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(T_){return null}}function So(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Er(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Na(e,t,n))}function Io(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Co(e){this.za=0,this.l=[],this.h=new Fi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Io("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Io("baseRetryDelayMs",5e3,e),this.$a=Io("retryDelaySeedMs",1e4,e),this.Ya=Io("forwardChannelMaxRetries",2,e),this.ra=Io("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Qa(e&&e.concurrentRequestLimit),this.Ca=new ro,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ao(e){if(No(e),3==e.G){var t=e.V++,n=Sa(e.F);Na(n,"SID",e.J),Na(n,"RID",t),Na(n,"TYPE","terminate"),Mo(e,n),(t=new ia(e,e.h,t,void 0)).K=2,t.v=Da(Sa(n)),n=!1,er.navigator&&er.navigator.sendBeacon&&(n=er.navigator.sendBeacon(t.v.toString(),"")),!n&&er.Image&&((new Image).src=t.v,n=!0),n||(t.g=Wo(t.l,null),t.g.ea(t.v)),t.F=Date.now(),pa(t)}Ko(e)}function Po(e){e.g&&(jo(e),e.g.cancel(),e.g=null)}function No(e){Po(e),e.u&&(er.clearTimeout(e.u),e.u=null),Bo(e),e.i.cancel(),e.m&&("number"===typeof e.m&&er.clearTimeout(e.m),e.m=null)}function Do(e,t){e.l.push(new Wa(e.Za++,t)),3==e.G&&Oo(e)}function Oo(e){Xa(e.i)||e.m||(e.m=!0,Ei(e.Ha,e),e.C=0)}function Ro(e,t){var n;n=t?t.m:e.V++;var r=Sa(e.F);Na(r,"SID",e.J),Na(r,"RID",n),Na(r,"AID",e.U),Mo(e,r),e.o&&e.s&&So(r,e.o,e.s),n=new ia(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Lo(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Za(e.i,n),ca(n,r,t)}function Mo(e,t){e.j&&ka({},(function(e,n){Na(t,n,e)}))}function Lo(e,t,n){n=Math.min(e.l.length,n);var r=e.j?sr(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{io(l,o,"req"+c+"_")}catch(ku){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Fo(e){e.g||e.u||(e.Y=1,Ei(e.Ga,e),e.A=0)}function Vo(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Wi(sr(e.Ga,e),qo(e,e.A)),e.A++,!0)}function jo(e){null!=e.B&&(er.clearTimeout(e.B),e.B=null)}function Uo(e){e.g=new ia(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Sa(e.oa);Na(t,"RID","rpc"),Na(t,"SID",e.J),Na(t,"CI",e.N?"0":"1"),Na(t,"AID",e.U),Mo(e,t),Na(t,"TYPE","xmlhttp"),e.o&&e.s&&So(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Da(Sa(t)),n.s=null,n.U=!0,la(n,e)}function Bo(e){null!=e.v&&(er.clearTimeout(e.v),e.v=null)}function zo(e,t){var n=null;if(e.g==t){Bo(e),jo(e),e.g=null;var r=2}else{if(!Ja(e.i,t))return;n=t.D,eo(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;vi(r=Bi(),new Hi(r,n,t,i)),Oo(e)}else Fo(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!($a(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Wi(sr(e.Ha,e,t),qo(e,e.C)),e.C++,!0))}(e,t)||2==r&&Vo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Go(e,5);break;case 4:Go(e,10);break;case 3:Go(e,6);break;default:Go(e,2)}}function qo(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Go(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=sr(e.jb,e);n||(n=new Ta("//www.google.com/images/cleardot.gif"),er.location&&"http"==er.location.protocol||Ia(n,"https"),Da(n)),function(e,t){var n=new Fi;if(er.Image){var r=new Image;r.onload=cr(ao,n,r,"TestLoadImage: loaded",!0,t),r.onerror=cr(ao,n,r,"TestLoadImage: error",!1,t),r.onabort=cr(ao,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=cr(ao,n,r,"TestLoadImage: timeout",!1,t),er.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ki(2);e.G=0,e.j&&e.j.va(t),Ko(e),No(e)}function Ko(e){e.G=0,e.I=-1,e.j&&(0==to(e.i).length&&0==e.l.length||(e.i.i.length=0,mr(e.l),e.l.length=0),e.j.ua())}function Ho(e,t,n){var r=function(e){return e instanceof Ta?Sa(e):new Ta(e,void 0)}(n);if(""!=r.i)t&&Ca(r,t+"."+r.i),Aa(r,r.m);else{var i=er.location;r=function(e,t,n,r){var i=new Ta(null,void 0);return e&&Ia(i,e),t&&Ca(i,t),n&&Aa(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Er(e.aa,(function(e,t){Na(r,t,e)})),t=e.D,n=e.sa,t&&n&&Na(r,t,n),Na(r,"VER",e.ma),Mo(e,r),r}function Wo(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new po(new oo({ib:!0})):new po(e.qa)).L=e.H,t}function Qo(){}function Yo(){if(Nr&&!(10<=Number(Gr)))throw Error("Environmental error: no available transport.")}function Xo(e,t){pi.call(this),this.g=new Co(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!yr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!yr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Zo(this)}function $o(e){ta.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Jo(){na.call(this),this.status=1}function Zo(e){this.g=e}(Xn=po.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Zi.g(),this.C=this.u?$i(this.u):$i(Zi),this.g.onreadystatechange=sr(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void bo(this,a)}e=n||"";var i=new wa(this.headers);r&&ka(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=go,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=er.FormData&&e instanceof er.FormData,!(0<=dr(yo,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_o(this),0<this.B&&((this.K=function(e){return Nr&&zr()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=sr(this.pa,this)):this.A=Pi(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){bo(this,a)}},Xn.pa=function(){"undefined"!=typeof Zn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vi(this,"timeout"),this.abort(8))},Xn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,vi(this,"complete"),vi(this,"abort"),xo(this))},Xn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xo(this,!0)),po.Z.M.call(this)},Xn.Fa=function(){this.s||(this.F||this.v||this.l?wo(this):this.cb())},Xn.cb=function(){wo(this)},Xn.ba=function(){try{return 2<Eo(this)?this.g.status:-1}catch(E_){return-1}},Xn.ga=function(){try{return this.g?this.g.responseText:""}catch(E_){return""}},Xn.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ho(t)}},Xn.Da=function(){return this.m},Xn.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Xn=Co.prototype).ma=8,Xn.G=1,Xn.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(T_){}},Xn.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ia(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Ir(n=Tr(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Lo(this,t,r),Na(i=Sa(this.F),"RID",e),Na(i,"CVER",22),this.D&&Na(i,"X-HTTP-Session-Id",this.D),Mo(this,i),this.o&&n&&So(i,this.o,n),Za(this.i,t),this.Ra&&Na(i,"TYPE","init"),this.ja?(Na(i,"$req",r),Na(i,"SID","null"),t.$=!0,ca(t,i,null)):ca(t,i,r),this.G=2}}else 3==this.G&&(e?Ro(this,e):0==this.l.length||Xa(this.i)||Ro(this))},Xn.Ga=function(){if(this.u=null,Uo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Wi(sr(this.bb,this),e)}},Xn.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ki(10),Po(this),Uo(this))},Xn.ab=function(){null!=this.v&&(this.v=null,Po(this),Vo(this),Ki(19))},Xn.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ki(2)):(this.h.info("Failed to ping google.com"),Ki(1))},(Xn=Qo.prototype).xa=function(){},Xn.wa=function(){},Xn.va=function(){},Xn.ua=function(){},Xn.Oa=function(){},Yo.prototype.g=function(e,t){return new Xo(e,t)},lr(Xo,pi),Xo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ei(sr(e.hb,e,t))),Ki(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ho(e,null,e.W),Oo(e)},Xo.prototype.close=function(){Ao(this.g)},Xo.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Do(this.g,t)}else this.v?((t={}).__data__=yi(e),Do(this.g,t)):Do(this.g,e)},Xo.prototype.M=function(){this.g.j=null,delete this.j,Ao(this.g),delete this.g,Xo.Z.M.call(this)},lr($o,ta),lr(Jo,na),lr(Zo,Qo),Zo.prototype.xa=function(){vi(this.g,"a")},Zo.prototype.wa=function(e){vi(this.g,new $o(e))},Zo.prototype.va=function(e){vi(this.g,new Jo(e))},Zo.prototype.ua=function(){vi(this.g,"b")},Yo.prototype.createWebChannel=Yo.prototype.g,Xo.prototype.send=Xo.prototype.u,Xo.prototype.open=Xo.prototype.m,Xo.prototype.close=Xo.prototype.close,Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,Yi.COMPLETE="complete",Ji.EventType=ea,ea.OPEN="a",ea.CLOSE="b",ea.ERROR="c",ea.MESSAGE="d",pi.prototype.listen=pi.prototype.N,po.prototype.listenOnce=po.prototype.O,po.prototype.getLastError=po.prototype.La,po.prototype.getLastErrorCode=po.prototype.Da,po.prototype.getStatus=po.prototype.ba,po.prototype.getResponseJson=po.prototype.Qa,po.prototype.getResponseText=po.prototype.ga,po.prototype.send=po.prototype.ea;var eu=Jn.createWebChannelTransport=function(){return new Yo},tu=Jn.getStatEventTarget=function(){return Bi()},nu=Jn.ErrorCode=Qi,ru=Jn.EventType=Yi,iu=Jn.Event=ji,au=Jn.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ou=Jn.FetchXmlHttpFactory=oo,uu=Jn.WebChannel=Ji,su=Jn.XhrIo=po,cu="@firebase/firestore",lu=function(){function e(t){p(this,e),this.uid=t}return m(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();lu.UNAUTHENTICATED=new lu(null),lu.GOOGLE_CREDENTIALS=new lu("google-credentials-uid"),lu.FIRST_PARTY=new lu("first-party-uid"),lu.MOCK_USER=new lu("mock-user");var fu="9.6.10",hu=new de("@firebase/firestore");function du(){return hu.logLevel}function pu(e){if(hu.logLevel<=ie.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(yu);hu.debug.apply(hu,["Firestore (".concat(fu,"): ").concat(e)].concat(Z(i)))}}function vu(e){if(hu.logLevel<=ie.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(yu);hu.error.apply(hu,["Firestore (".concat(fu,"): ").concat(e)].concat(Z(i)))}}function mu(e){if(hu.logLevel<=ie.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(yu);hu.warn.apply(hu,["Firestore (".concat(fu,"): ").concat(e)].concat(Z(i)))}}function yu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function gu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(fu,") INTERNAL ASSERTION FAILED: ")+e;throw vu(t),new Error(t)}function bu(e,t){e||gu()}function ku(e,t){return e}var wu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xu=function(e){k(n,e);var t=T(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return m(n)}(F),_u=m((function e(){var t=this;p(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Eu=m((function e(t,n){p(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Tu=function(){function e(){p(this,e)}return m(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(lu.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Su=function(){function e(t){p(this,e),this.token=t,this.changeListener=null}return m(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Iu=function(){function e(t){p(this,e),this.t=t,this.currentUser=lu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new _u;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new _u,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(l(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){pu("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(pu("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _u)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(pu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(bu("string"==typeof n.accessToken),new Eu(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return bu(null===e||"string"==typeof e),new lu(e)}}]),e}(),Cu=m((function e(t,n,r){p(this,e),this.type="FirstParty",this.user=lu.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Au=function(){function e(t,n,r){p(this,e),this.h=t,this.l=n,this.m=r}return m(e,[{key:"getToken",value:function(){return Promise.resolve(new Cu(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(lu.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Pu=m((function e(t){p(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Nu=function(){function e(t){p(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&pu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,pu("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){pu("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):pu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(bu("string"==typeof t.token),e.p=t.token,new Pu(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Du=function(){function e(t,n){var r=this;p(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return m(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Ou(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Du.A=-1;var Ru=function(){function e(){p(this,e)}return m(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ou(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Mu(e,t){return e<t?-1:e>t?1:0}function Lu(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Fu(e){return e+"\0"}var Vu=function(){function e(t,n){if(p(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new xu(wu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xu(wu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new xu(wu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xu(wu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return m(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Mu(this.nanoseconds,e.nanoseconds):Mu(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),ju=function(){function e(t){p(this,e),this.timestamp=t}return m(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Vu(0,0))}},{key:"max",value:function(){return new e(new Vu(253402300799,999999999))}}]),e}();function Uu(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bu(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function zu(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var qu=function(){function e(t,n,r){p(this,e),void 0===n?n=0:n>t.length&&gu(),void 0===r?r=t.length-n:r>t.length-n&&gu(),this.segments=t,this.offset=n,this.len=r}return m(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Gu=function(e){k(n,e);var t=T(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new xu(wu.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Z(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(qu),Ku=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Hu=function(e){k(n,e);var t=T(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ku.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new xu(wu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new xu(wu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new xu(wu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new xu(wu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(qu),Wu=function(){function e(t){p(this,e),this.fields=t,t.sort(Hu.comparator)}return m(e,[{key:"covers",value:function(e){var t,n=y(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Lu(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Qu=function(e){function t(e){p(this,t),this.binaryString=e}return m(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Mu(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Qu.EMPTY_BYTE_STRING=new Qu("");var Yu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xu(e){if(bu(!!e),"string"==typeof e){var t=0,n=Yu.exec(e);if(bu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:$u(e.seconds),nanos:$u(e.nanos)}}function $u(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ju(e){return"string"==typeof e?Qu.fromBase64String(e):Qu.fromUint8Array(e)}function Zu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function es(e){var t=e.mapValue.fields.__previous_value__;return Zu(t)?es(t):t}function ts(e){var t=Xu(e.mapValue.fields.__local_write_time__.timestampValue);return new Vu(t.seconds,t.nanos)}var ns=m((function e(t,n,r,i,a,o,u,s){p(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),rs=function(){function e(t,n){p(this,e),this.projectId=t,this.database=n||"(default)"}return m(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function is(e){return null==e}function as(e){return 0===e&&1/e==-1/0}function os(e){return"number"==typeof e&&Number.isInteger(e)&&!as(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var us=function(){function e(t){p(this,e),this.path=t}return m(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Gu.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Gu.fromString(t))}},{key:"fromName",value:function(t){return new e(Gu.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Gu.emptyPath())}},{key:"comparator",value:function(e,t){return Gu.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Gu(t.slice()))}}]),e}(),ss={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cs={nullValue:"NULL_VALUE"};function ls(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Zu(e)?4:Es(e)?9:10:gu()}function fs(e,t){if(e===t)return!0;var n=ls(e);if(n!==ls(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ts(e).isEqual(ts(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Xu(e.timestampValue),r=Xu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ju(e.bytesValue).isEqual(Ju(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return $u(e.geoPointValue.latitude)===$u(t.geoPointValue.latitude)&&$u(e.geoPointValue.longitude)===$u(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return $u(e.integerValue)===$u(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=$u(e.doubleValue),r=$u(t.doubleValue);return n===r?as(n)===as(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Lu(e.arrayValue.values||[],t.arrayValue.values||[],fs);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Uu(n)!==Uu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fs(n[i],r[i])))return!1;return!0}(e,t);default:return gu()}}function hs(e,t){return void 0!==(e.values||[]).find((function(e){return fs(e,t)}))}function ds(e,t){if(e===t)return 0;var n=ls(e),r=ls(t);if(n!==r)return Mu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=$u(e.integerValue||e.doubleValue),r=$u(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ps(e.timestampValue,t.timestampValue);case 4:return ps(ts(e),ts(t));case 5:return Mu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ju(e),r=Ju(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Mu(n[i],r[i]);if(0!==a)return a}return Mu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Mu($u(e.latitude),$u(t.latitude));return 0!==n?n:Mu($u(e.longitude),$u(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=ds(n[i],r[i]);if(a)return a}return Mu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Mu(r[o],a[o]);if(0!==u)return u;var s=ds(n[r[o]],i[a[o]]);if(0!==s)return s}return Mu(r.length,a.length)}(e.mapValue,t.mapValue);default:throw gu()}}function ps(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Mu(e,t);var n=Xu(e),r=Xu(t),i=Mu(n.seconds,r.seconds);return 0!==i?i:Mu(n.nanos,r.nanos)}function vs(e){return ms(e)}function ms(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Xu(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ju(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,us.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=y(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ms(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=y(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ms(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):gu();var t,n}function ys(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function gs(e){return!!e&&"integerValue"in e}function bs(e){return!!e&&"arrayValue"in e}function ks(e){return!!e&&"nullValue"in e}function ws(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xs(e){return!!e&&"mapValue"in e}function _s(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Bu(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=_s(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=_s(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Es(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ts(e,t){return void 0===e?t:void 0===t||ds(e,t)>0?e:t}function Ss(e,t){return void 0===e?t:void 0===t||ds(e,t)<0?e:t}var Is=function(){function e(t){p(this,e),this.value=t}return m(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!xs(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_s(t)}},{key:"setAll",value:function(e){var t=this,n=Hu.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=_s(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());xs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return fs(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];xs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Bu(t,(function(t,n){return e[t]=n}));var r,i=y(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(_s(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Cs(e){var t=[];return Bu(e.fields,(function(e,n){var r=new Hu([e]);if(xs(n)){var i=Cs(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=y(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Wu(t)}var As=function(){function e(t,n,r,i,a,o){p(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return m(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Is.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Is.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,ju.min(),ju.min(),Is.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,ju.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,ju.min(),Is.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,ju.min(),Is.empty(),2)}}]),e}(),Ps=m((function e(t,n,r,i){p(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Ns(e){return e.fields.find((function(e){return 2===e.kind}))}function Ds(e){return e.fields.filter((function(e){return 2!==e.kind}))}Ps.UNKNOWN_ID=-1;var Os=m((function e(t,n){p(this,e),this.fieldPath=t,this.kind=n})),Rs=function(){function e(t,n){p(this,e),this.sequenceNumber=t,this.offset=n}return m(e,null,[{key:"empty",value:function(){return new e(0,Fs.min())}}]),e}();function Ms(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ju.fromTimestamp(1e9===r?new Vu(n+1,0):new Vu(n,r));return new Fs(i,us.empty(),t)}function Ls(e){return new Fs(e.readTime,e.key,-1)}var Fs=function(){function e(t,n,r){p(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return m(e,null,[{key:"min",value:function(){return new e(ju.min(),us.empty(),-1)}},{key:"max",value:function(){return new e(ju.max(),us.empty(),-1)}}]),e}();function Vs(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=us.comparator(e.documentKey,t.documentKey))?n:Mu(e.largestBatchId,t.largestBatchId)}var js=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;p(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function Us(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new js(e,t,n,r,i,a,o)}function Bs(e){var t=ku(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+vs(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),is(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return vs(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return vs(e)})).join(",")),t.P=n}return t.P}function zs(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!nc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!fs(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ic(e.startAt,t.startAt)&&ic(e.endAt,t.endAt)}function qs(e){return us.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Gs(e,t){return e.filters.filter((function(e){return e instanceof Ks&&e.field.isEqual(t)}))}var Ks=function(e){k(n,e);var t=T(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ds(t,this.value)):null!==t&&ls(this.value)===ls(t)&&this.v(ds(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gu()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Hs(e,t,r):"array-contains"===t?new Xs(e,r):"in"===t?new $s(e,r):"not-in"===t?new Js(e,r):"array-contains-any"===t?new Zs(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Ws(e,n):new Qs(e,n)}}]),n}(function(){return m((function e(){p(this,e)}))}()),Hs=function(e){k(n,e);var t=T(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,i)).key=us.fromName(i.referenceValue),a}return m(n,[{key:"matches",value:function(e){var t=us.comparator(e.key,this.key);return this.v(t)}}]),n}(Ks),Ws=function(e){k(n,e);var t=T(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"in",r)).keys=Ys("in",r),i}return m(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ks),Qs=function(e){k(n,e);var t=T(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,"not-in",r)).keys=Ys("not-in",r),i}return m(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ks);function Ys(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return us.fromName(e.referenceValue)}))}var Xs=function(e){k(n,e);var t=T(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return bs(t)&&hs(t.arrayValue,this.value)}}]),n}(Ks),$s=function(e){k(n,e);var t=T(n);function n(e,r){return p(this,n),t.call(this,e,"in",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&hs(this.value.arrayValue,t)}}]),n}(Ks),Js=function(e){k(n,e);var t=T(n);function n(e,r){return p(this,n),t.call(this,e,"not-in",r)}return m(n,[{key:"matches",value:function(e){if(hs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!hs(this.value.arrayValue,t)}}]),n}(Ks),Zs=function(e){k(n,e);var t=T(n);function n(e,r){return p(this,n),t.call(this,e,"array-contains-any",r)}return m(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!bs(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return hs(t.value.arrayValue,e)}))}}]),n}(Ks),ec=m((function e(t,n){p(this,e),this.position=t,this.inclusive=n})),tc=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";p(this,e),this.field=t,this.dir=n}));function nc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function rc(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?us.comparator(us.fromName(o.referenceValue),n.key):ds(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ic(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!fs(e.position[n],t.position[n]))return!1;return!0}var ac=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;p(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function oc(e,t,n,r,i,a,o,u){return new ac(e,t,n,r,i,a,o,u)}function uc(e){return new ac(e)}function sc(e){return!is(e.limit)&&"F"===e.limitType}function cc(e){return!is(e.limit)&&"L"===e.limitType}function lc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function fc(e){var t,n=y(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function hc(e){return null!==e.collectionGroup}function dc(e){var t=ku(e);if(null===t.D){t.D=[];var n=fc(t),r=lc(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new tc(n)),t.D.push(new tc(Hu.keyField(),"asc"));else{var i,a=!1,o=y(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new tc(Hu.keyField(),s))}}}return t.D}function pc(e){var t=ku(e);if(!t.C)if("F"===t.limitType)t.C=Us(t.path,t.collectionGroup,dc(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=y(dc(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new tc(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new ec(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new ec(t.startAt.position,!t.startAt.inclusive):null;t.C=Us(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function vc(e,t,n){return new ac(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mc(e,t){return zs(pc(e),pc(t))&&e.limitType===t.limitType}function yc(e){return"".concat(Bs(pc(e)),"|lt:").concat(e.limitType)}function gc(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(vs(t.value));var t})).join(", "),"]")),is(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return vs(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return vs(e)})).join(",")),"Target(".concat(t,")")}(pc(e)),"; limitType=").concat(e.limitType,")")}function bc(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):us.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=y(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=y(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=rc(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,dc(e),t))&&!(e.endAt&&!function(e,t,n){var r=rc(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,dc(e),t))}(e,t)}function kc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function wc(e){return function(t,n){var r,i=!1,a=y(dc(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=xc(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function xc(e,t,n){var r=e.field.isKeyField()?us.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ds(r,i):gu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return gu()}}function _c(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:as(t)?"-0":t}}function Ec(e){return{integerValue:""+e}}function Tc(e,t){return os(t)?Ec(t):_c(e,t)}var Sc=m((function e(){p(this,e),this._=void 0}));function Ic(e,t,n){return e instanceof Pc?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Nc?Dc(e,t):e instanceof Oc?Rc(e,t):function(e,t){var n=Ac(e,t),r=Lc(n)+Lc(e.k);return gs(n)&&gs(e.k)?Ec(r):_c(e.M,r)}(e,t)}function Cc(e,t,n){return e instanceof Nc?Dc(e,t):e instanceof Oc?Rc(e,t):n}function Ac(e,t){return e instanceof Mc?gs(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Pc=function(e){k(n,e);var t=T(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n)}(Sc),Nc=function(e){k(n,e);var t=T(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return m(n)}(Sc);function Dc(e,t){var n,r=Fc(t),i=y(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return fs(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Oc=function(e){k(n,e);var t=T(n);function n(e){var r;return p(this,n),(r=t.call(this)).elements=e,r}return m(n)}(Sc);function Rc(e,t){var n,r=Fc(t),i=y(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!fs(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Mc=function(e){k(n,e);var t=T(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).M=e,i.k=r,i}return m(n)}(Sc);function Lc(e){return $u(e.integerValue||e.doubleValue)}function Fc(e){return bs(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Vc=m((function e(t,n){p(this,e),this.field=t,this.transform=n}));var jc=m((function e(t,n){p(this,e),this.version=t,this.transformResults=n})),Uc=function(){function e(t,n){p(this,e),this.updateTime=t,this.exists=n}return m(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Bc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var zc=m((function e(){p(this,e)}));function qc(e,t,n){e instanceof Qc?function(e,t,n){var r=e.value.clone(),i=$c(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Yc?function(e,t,n){if(Bc(e.precondition,t)){var r=$c(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Xc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Gc(e,t,n){e instanceof Qc?function(e,t,n){if(Bc(e.precondition,t)){var r=e.value.clone(),i=Jc(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Wc(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Yc?function(e,t,n){if(Bc(e.precondition,t)){var r=Jc(e.fieldTransforms,n,t),i=t.data;i.setAll(Xc(e)),i.setAll(r),t.convertToFoundDocument(Wc(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Bc(e.precondition,t)&&t.convertToNoDocument(ju.min())}(e,t)}function Kc(e,t){var n,r=null,i=y(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Ac(a.transform,o||null);null!=u&&(null==r&&(r=Is.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Hc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Lu(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Nc&&t instanceof Nc||e instanceof Oc&&t instanceof Oc?Lu(e.elements,t.elements,fs):e instanceof Mc&&t instanceof Mc?fs(e.k,t.k):e instanceof Pc&&t instanceof Pc}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Wc(e){return e.isFoundDocument()?e.version:ju.min()}var Qc=function(e){k(n,e);var t=T(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return p(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return m(n)}(zc),Yc=function(e){k(n,e);var t=T(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return p(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return m(n)}(zc);function Xc(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function $c(e,t,n){var r=new Map;bu(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Cc(o,u,n[i]))}return r}function Jc(e,t,n){var r,i=new Map,a=y(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Ic(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Zc,el,tl=function(e){k(n,e);var t=T(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return m(n)}(zc),nl=function(e){k(n,e);var t=T(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return m(n)}(zc),rl=m((function e(t){p(this,e),this.count=t}));function il(e){switch(e){default:return gu();case wu.CANCELLED:case wu.UNKNOWN:case wu.DEADLINE_EXCEEDED:case wu.RESOURCE_EXHAUSTED:case wu.INTERNAL:case wu.UNAVAILABLE:case wu.UNAUTHENTICATED:return!1;case wu.INVALID_ARGUMENT:case wu.NOT_FOUND:case wu.ALREADY_EXISTS:case wu.PERMISSION_DENIED:case wu.FAILED_PRECONDITION:case wu.ABORTED:case wu.OUT_OF_RANGE:case wu.UNIMPLEMENTED:case wu.DATA_LOSS:return!0}}function al(e){if(void 0===e)return vu("GRPC error has no .code"),wu.UNKNOWN;switch(e){case Zc.OK:return wu.OK;case Zc.CANCELLED:return wu.CANCELLED;case Zc.UNKNOWN:return wu.UNKNOWN;case Zc.DEADLINE_EXCEEDED:return wu.DEADLINE_EXCEEDED;case Zc.RESOURCE_EXHAUSTED:return wu.RESOURCE_EXHAUSTED;case Zc.INTERNAL:return wu.INTERNAL;case Zc.UNAVAILABLE:return wu.UNAVAILABLE;case Zc.UNAUTHENTICATED:return wu.UNAUTHENTICATED;case Zc.INVALID_ARGUMENT:return wu.INVALID_ARGUMENT;case Zc.NOT_FOUND:return wu.NOT_FOUND;case Zc.ALREADY_EXISTS:return wu.ALREADY_EXISTS;case Zc.PERMISSION_DENIED:return wu.PERMISSION_DENIED;case Zc.FAILED_PRECONDITION:return wu.FAILED_PRECONDITION;case Zc.ABORTED:return wu.ABORTED;case Zc.OUT_OF_RANGE:return wu.OUT_OF_RANGE;case Zc.UNIMPLEMENTED:return wu.UNIMPLEMENTED;case Zc.DATA_LOSS:return wu.DATA_LOSS;default:return gu()}}(el=Zc||(Zc={}))[el.OK=0]="OK",el[el.CANCELLED=1]="CANCELLED",el[el.UNKNOWN=2]="UNKNOWN",el[el.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",el[el.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",el[el.NOT_FOUND=5]="NOT_FOUND",el[el.ALREADY_EXISTS=6]="ALREADY_EXISTS",el[el.PERMISSION_DENIED=7]="PERMISSION_DENIED",el[el.UNAUTHENTICATED=16]="UNAUTHENTICATED",el[el.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",el[el.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",el[el.ABORTED=10]="ABORTED",el[el.OUT_OF_RANGE=11]="OUT_OF_RANGE",el[el.UNIMPLEMENTED=12]="UNIMPLEMENTED",el[el.INTERNAL=13]="INTERNAL",el[el.UNAVAILABLE=14]="UNAVAILABLE",el[el.DATA_LOSS=15]="DATA_LOSS";var ol=function(){function e(t,n){p(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return m(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=y(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),u=a[0],s=a[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Bu(this.inner,(function(t,n){var r,i=y(n);try{for(i.s();!(r=i.n()).done;){var a=o(r.value,2),u=a[0],s=a[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return zu(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),ul=function(){function e(t,n){p(this,e),this.comparator=t,this.root=n||cl.EMPTY}return m(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,cl.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cl.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new sl(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new sl(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new sl(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new sl(this.root,e,this.comparator,!0)}}]),e}(),sl=function(){function e(t,n,r,i){p(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return m(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),cl=function(){function e(t,n,r,i,a){p(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return m(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw gu();if(this.right.isRed())throw gu();var e=this.left.check();if(e!==this.right.check())throw gu();return e+(this.isRed()?0:1)}}]),e}();cl.EMPTY=null,cl.RED=!0,cl.BLACK=!1,cl.EMPTY=new(function(){function e(){p(this,e),this.size=0}return m(e,[{key:"key",get:function(){throw gu()}},{key:"value",get:function(){throw gu()}},{key:"color",get:function(){throw gu()}},{key:"left",get:function(){throw gu()}},{key:"right",get:function(){throw gu()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new cl(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ll=function(){function e(t){p(this,e),this.comparator=t,this.data=new ul(this.comparator)}return m(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new fl(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new fl(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),fl=function(){function e(t){p(this,e),this.iter=t}return m(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function hl(e){return e.hasNext()?e.getNext():void 0}var dl=new ul(us.comparator);function pl(){return dl}var vl=new ul(us.comparator);function ml(){return vl}function yl(){return new ol((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var gl=new ul(us.comparator),bl=new ll(us.comparator);function kl(){for(var e=bl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var wl=new ll(Mu);function xl(){return wl}var _l=function(){function e(t,n,r,i,a){p(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return m(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,El.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ju.min(),r,xl(),pl(),kl())}}]),e}(),El=function(){function e(t,n,r,i,a){p(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return m(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Qu.EMPTY_BYTE_STRING,n,kl(),kl(),kl())}}]),e}(),Tl=m((function e(t,n,r,i){p(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),Sl=m((function e(t,n){p(this,e),this.targetId=t,this.$=n})),Il=m((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qu.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;p(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Cl=function(){function e(){p(this,e),this.B=0,this.L=Nl(),this.U=Qu.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}return m(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"K",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.G}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}},{key:"H",value:function(){var e=kl(),t=kl(),n=kl();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:gu()}})),new El(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.G=!1,this.L=Nl()}},{key:"Y",value:function(e,t){this.G=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.G=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.G=!0,this.q=!0}}]),e}(),Al=function(){function e(t){p(this,e),this.nt=t,this.st=new Map,this.it=pl(),this.rt=Pl(),this.ot=new ll(Mu)}return m(e,[{key:"ut",value:function(e){var t,n=y(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=y(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:gu()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(qs(i))if(0===n){var a=new us(i.path);this.ct(t,a,As.newNoDocument(a,ju.min()))}else bu(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&qs(a.target)){var o=new us(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,As.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=kl();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new _l(e,n,this.ot,this.it,r);return this.it=pl(),this.rt=Pl(),this.ot=new ll(Mu),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Cl,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new ll(Mu),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||pu("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Cl),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Pl(){return new ul(us.comparator)}function Nl(){return new ul(us.comparator)}var Dl={asc:"ASCENDING",desc:"DESCENDING"},Ol={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rl=m((function e(t,n){p(this,e),this.databaseId=t,this.N=n}));function Ml(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ll(e,t){return e.N?t.toBase64():t.toUint8Array()}function Fl(e,t){return Ml(e,t.toTimestamp())}function Vl(e){return bu(!!e),ju.fromTimestamp(function(e){var t=Xu(e);return new Vu(t.seconds,t.nanos)}(e))}function jl(e,t){return function(e){return new Gu(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ul(e){var t=Gu.fromString(e);return bu(lf(t)),t}function Bl(e,t){return jl(e.databaseId,t.path)}function zl(e,t){var n=Ul(t);if(n.get(1)!==e.databaseId.projectId)throw new xu(wu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new xu(wu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new us(Hl(n))}function ql(e,t){return jl(e.databaseId,t)}function Gl(e){var t=Ul(e);return 4===t.length?Gu.emptyPath():Hl(t)}function Kl(e){return new Gu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Hl(e){return bu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Wl(e,t,n){return{name:Bl(e,t),fields:n.value.mapValue.fields}}function Ql(e,t,n){var r=zl(e,t.name),i=Vl(t.updateTime),a=new Is({mapValue:{fields:t.fields}}),o=As.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Yl(e,t){return"found"in t?function(e,t){bu(!!t.found),t.found.name,t.found.updateTime;var n=zl(e,t.found.name),r=Vl(t.found.updateTime),i=new Is({mapValue:{fields:t.found.fields}});return As.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){bu(!!t.missing),bu(!!t.readTime);var n=zl(e,t.missing),r=Vl(t.readTime);return As.newNoDocument(n,r)}(e,t):gu()}function Xl(e,t){var n;if(t instanceof Qc)n={update:Wl(e,t.key,t.value)};else if(t instanceof tl)n={delete:Bl(e,t.key)};else if(t instanceof Yc)n={update:Wl(e,t.key,t.data),updateMask:cf(t.fieldMask)};else{if(!(t instanceof nl))return gu();n={verify:Bl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Pc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Nc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Oc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Mc)return{fieldPath:t.field.canonicalString(),increment:n.k};throw gu()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Fl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:gu()}(e,t.precondition)),n}function $l(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Uc.updateTime(Vl(e.updateTime)):void 0!==e.exists?Uc.exists(e.exists):Uc.none()}(t.currentDocument):Uc.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)bu("REQUEST_TIME"===t.setToServerValue),n=new Pc;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Nc(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Oc(i)}else"increment"in t?n=new Mc(e,t.increment):gu();var a=Hu.fromServerFormat(t.fieldPath);return new Vc(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=zl(e,t.update.name),a=new Is({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Wu(t.map((function(e){return Hu.fromServerFormat(e)})))}(t.updateMask);return new Yc(i,a,o,n,r)}return new Qc(i,a,n,r)}if(t.delete){var u=zl(e,t.delete);return new tl(u,n)}if(t.verify){var s=zl(e,t.verify);return new nl(s,n)}return gu()}function Jl(e,t){return{documents:[ql(e,t.path)]}}function Zl(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ql(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ql(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ws(e.value))return{unaryFilter:{field:af(e.field),op:"IS_NAN"}};if(ks(e.value))return{unaryFilter:{field:af(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ws(e.value))return{unaryFilter:{field:af(e.field),op:"IS_NOT_NAN"}};if(ks(e.value))return{unaryFilter:{field:af(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:af(e.field),op:rf(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:af(e.field),direction:nf(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||is(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ef(e){var t=Gl(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){bu(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=tf(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new tc(of(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return is(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new ec(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new ec(n,t)}(n.endAt)),oc(t,i,u,o,s,"F",c,l)}function tf(e){return e?void 0!==e.unaryFilter?[sf(e)]:void 0!==e.fieldFilter?[uf(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return tf(e)})).reduce((function(e,t){return e.concat(t)})):gu():[]}function nf(e){return Dl[e]}function rf(e){return Ol[e]}function af(e){return{fieldPath:e.canonicalString()}}function of(e){return Hu.fromServerFormat(e.fieldPath)}function uf(e){return Ks.create(of(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gu()}}(e.fieldFilter.op),e.fieldFilter.value)}function sf(e){switch(e.unaryFilter.op){case"IS_NAN":var t=of(e.unaryFilter.field);return Ks.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=of(e.unaryFilter.field);return Ks.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=of(e.unaryFilter.field);return Ks.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=of(e.unaryFilter.field);return Ks.create(i,"!=",{nullValue:"NULL_VALUE"});default:return gu()}}function cf(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function lf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ff(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=df(t)),t=hf(e.get(n),t);return df(t)}function hf(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function df(e){return e+"\x01\x01"}function pf(e){var t=e.length;if(bu(t>=2),2===t)return bu("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Gu.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&gu(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:gu()}a=o+2}return new Gu(r)}var vf=["userId","batchId"];function mf(e,t){return[e,ff(t)]}function yf(e,t,n){return[e,ff(t),n]}var gf={},bf=["prefixPath","collectionGroup","readTime","documentId"],kf=["prefixPath","collectionGroup","documentId"],wf=["collectionGroup","readTime","prefixPath","documentId"],xf=["canonicalId","targetId"],_f=["targetId","path"],Ef=["path","targetId"],Tf=["collectionId","parent"],Sf=["indexId","uid"],If=["uid","sequenceNumber"],Cf=["indexId","uid","arrayValue","directionalValue","documentKey"],Af=["indexId","uid","documentKey"],Pf=["userId","collectionPath","documentId"],Nf=["userId","collectionPath","largestBatchId"],Df=["userId","collectionGroup","largestBatchId"],Of=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Rf=[].concat(Z(Of),["documentOverlays"]),Mf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Lf=[].concat(Mf,["indexConfiguration","indexState","indexEntries"]),Ff="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Vf=function(){function e(){p(this,e),this.onCommittedListeners=[]}return m(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),jf=function(){function e(t){var n=this;p(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return m(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&gu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=y(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Uf=function(){function e(t,n){var r=this;p(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new _u,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new qf(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=Qf(e.target.error);r.At.reject(new qf(t,n))}}return m(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(pu("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Kf(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new qf(n,t)}}}]),e}(),Bf=function(){function e(t,n,r){p(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(R())&&vu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return m(e,[{key:"Nt",value:function(){var e=l(h().mark((function e(t){var n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return pu("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new qf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new xu(wu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new xu(wu.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new qf(t,n))},i.onupgradeneeded=function(e){pu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){pu("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=l(h().mark((function e(t,n,r,i){var a,o,u,s,c=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(h().mark((function e(){var n,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=Uf.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),jf.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,pu("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return pu("SimpleDb","Removing database:",e),Hf(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!L())return!1;if(e.St())return!0;var t=R(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),zf=function(){function e(t){p(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return m(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return Hf(this.Ft.delete())}}]),e}(),qf=function(e){k(n,e);var t=T(n);function n(e,r){var i;return p(this,n),(i=t.call(this,wu.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return m(n)}(xu);function Gf(e){return"IndexedDbTransactionError"===e.name}var Kf=function(){function e(t){p(this,e),this.store=t}return m(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(pu("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(pu("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Hf(n)}},{key:"add",value:function(e){return pu("SimpleDb","ADD",this.store.name,e,e),Hf(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Hf(this.store.get(e)).next((function(n){return void 0===n&&(n=null),pu("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return pu("SimpleDb","DELETE",this.store.name,e),Hf(this.store.delete(e))}},{key:"count",value:function(){return pu("SimpleDb","COUNT",this.store.name),Hf(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Gt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new jf((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Kt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new jf((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){pu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Gt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Gt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new jf((function(n,r){t.onerror=function(e){var t=Qf(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Gt",value:function(e,t){var n=[];return new jf((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new zf(i),o=t(i.primaryKey,i.value,a);if(o instanceof jf){var u=o.catch((function(e){return a.done(),jf.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return jf.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Hf(e){return new jf((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Qf(e.target.error);n(t)}}))}var Wf=!1;function Qf(e){var t=Bf.Vt(R());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new xu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Wf||(Wf=!0,setTimeout((function(){throw r}),0)),r}}return e}var Yf=function(e){k(n,e);var t=T(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return m(n)}(Vf);function Xf(e,t){var n=ku(e);return Bf.xt(n.Ht,t)}var $f=function(){function e(t,n,r,i){p(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return m(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&qc(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=y(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Gc(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=y(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Gc(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ju.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),kl())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Lu(this.mutations,e.mutations,(function(e,t){return Hc(e,t)}))&&Lu(this.baseMutations,e.baseMutations,(function(e,t){return Hc(e,t)}))}}]),e}(),Jf=function(){function e(t,n,r,i){p(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return m(e,null,[{key:"from",value:function(t,n,r){bu(t.mutations.length===r.length);for(var i=gl,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Zf=function(){function e(t,n){p(this,e),this.largestBatchId=t,this.mutation=n}return m(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),eh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ju.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ju.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Qu.EMPTY_BYTE_STRING;p(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return m(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),th=m((function e(t){p(this,e),this.Jt=t}));function nh(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:rh(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Bl(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ml(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ih(t.version)};else{if(!t.isUnknownDocument())return gu();r.unknownDocument={path:n.path.toArray(),version:ih(t.version)}}return r}function rh(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ih(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ah(e){var t=new Vu(e.seconds,e.nanoseconds);return ju.fromTimestamp(t)}function oh(e,t){for(var n=(t.baseMutations||[]).map((function(t){return $l(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return $l(e.Jt,t)})),u=Vu.fromMillis(t.localWriteTimeMs);return new $f(t.batchId,u,n,o)}function uh(e){var t,n,r=ah(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ah(e.lastLimboFreeSnapshotVersion):ju.min();return void 0!==e.query.documents?(bu(1===(n=e.query).documents.length),t=pc(uc(Gl(n.documents[0])))):t=function(e){return pc(ef(e))}(e.query),new eh(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Qu.fromBase64String(e.resumeToken))}function sh(e,t){var n,r=ih(t.snapshotVersion),i=ih(t.lastLimboFreeSnapshotVersion);n=qs(t.target)?Jl(e.Jt,t.target):Zl(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Bs(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function ch(e){var t=ef({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vc(t,t.limit,"L"):t}function lh(e,t){return new Zf(t.largestBatchId,$l(e.Jt,t.overlayMutation))}function fh(e,t){var n=t.path.lastSegment();return[e,ff(t.path.popLast()),n]}var hh=function(){function e(){p(this,e)}return m(e,[{key:"getBundleMetadata",value:function(e,t){return dh(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ah(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return dh(e).put({bundleId:(n=t).id,createTime:ih(Vl(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return ph(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:ch(t.bundledQuery),readTime:ah(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return ph(e).put(function(e){return{name:e.name,readTime:ih(Vl(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function dh(e){return Xf(e,"bundles")}function ph(e){return Xf(e,"namedQueries")}var vh=function(){function e(t,n){p(this,e),this.M=t,this.userId=n}return m(e,[{key:"getOverlay",value:function(e,t){var n=this;return mh(e).get(fh(this.userId,t)).next((function(e){return e?lh(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Zf(t,a);i.push(r.Xt(e,o))})),jf.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(ff(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(mh(e).Qt("collectionPathOverlayIndex",i))})),jf.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=yl(),a=ff(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return mh(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=y(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=lh(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=yl(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return mh(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=lh(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return mh(e).put(function(e,t,n){var r=o(fh(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Xl(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function mh(e){return Xf(e,"documentOverlays")}var yh=function(){function e(){p(this,e)}return m(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se($u(e.integerValue));else if("doubleValue"in e){var n=$u(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),as(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Ju(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Es(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):gu()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=y(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),us.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function gh(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function bh(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=gh(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}yh.fe=new yh;var kh=function(){function e(){p(this,e),this.buffer=new Uint8Array(1024),this.position=0}return m(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=y(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=y(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=bh(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=bh(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),wh=function(){function e(t){p(this,e),this.De=t}return m(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),xh=function(){function e(t){p(this,e),this.De=t}return m(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),_h=function(){function e(){p(this,e),this.De=new kh,this.Ce=new wh(this.De),this.xe=new xh(this.De)}return m(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Eh=function(){function e(t,n,r,i){p(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return m(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Th(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Sh(e.arrayValue,t.arrayValue))?n:0!==(n=Sh(e.directionalValue,t.directionalValue))?n:us.comparator(e.documentKey,t.documentKey)}function Sh(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Ih=function(){function e(t){p(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=y(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return m(e,[{key:"$e",value:function(e){var t=Ns(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Ds(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=y(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Ch=function(){function e(){p(this,e),this.qe=new Ah}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),jf.resolve()}},{key:"getCollectionParents",value:function(e,t){return jf.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return jf.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return jf.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return jf.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return jf.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return jf.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return jf.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return jf.resolve()}},{key:"updateIndexEntries",value:function(e,t){return jf.resolve()}}]),e}(),Ah=function(){function e(){p(this,e),this.index={}}return m(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ll(Gu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ll(Gu.comparator)).toArray()}}]),e}(),Ph=new Uint8Array(0),Nh=function(){function e(t){p(this,e),this.user=t,this.Ge=new Ah,this.Ke=new ol((function(e){return Bs(e)}),(function(e,t){return zs(e,t)})),this.uid=t.uid||""}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ge.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ge.add(t)}));var a={collectionId:r,parent:ff(i)};return Dh(e).put(a)}return jf.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Fu(t),""],!1,!0);return Dh(e).qt(r).next((function(e){var r,i=y(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(pf(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Rh(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Rh(e),r=Mh(e),i=Oh(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Oh(e),i=!0,a=new Map;return jf.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=kl();return jf.forEach(a,(function(i,a){var o;pu("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Bs(t)));var u=function(e,t){var n=Ns(t);if(void 0===n)return null;var r,i=y(Gs(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),s=function(e,t){var n,r=new Map,i=y(Ds(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=y(Gs(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r,i=[],a=!0,o=y(Ds(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=y(Gs(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case"<":case"<=":d="nullValue"in(r=h.value)?cs:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?ys(rs.empty(),us.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:gu();break;case"==":case"in":case">=":d=h.value;break;case">":d=h.value,p=!1;break;case"!=":case"not-in":d=cs}Ts(c,d)===d&&(c=d,l=p)}}catch(g){f.e(g)}finally{f.f()}if(null!==e.startAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.startAt.position[v];Ts(c,m)===m&&(c=m,l=e.startAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(g){o.e(g)}finally{o.f()}return new ec(i,a)}(a,i),l=function(e,t){var n,r,i=[],a=!0,o=y(Ds(t));try{for(o.s();!(n=o.n()).done;){var u,s=n.value,c=void 0,l=!0,f=y(Gs(e,s.fieldPath));try{for(f.s();!(u=f.n()).done;){var h=u.value,d=void 0,p=!0;switch(h.op){case">=":case">":d="nullValue"in(r=h.value)?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?ys(rs.empty(),us.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?ss:gu(),p=!1;break;case"==":case"in":case"<=":d=h.value;break;case"<":d=h.value,p=!1;break;case"!=":case"not-in":d=ss}Ss(c,d)===d&&(c=d,l=p)}}catch(g){f.e(g)}finally{f.f()}if(null!==e.endAt)for(var v=0;v<e.orderBy.length;++v)if(e.orderBy[v].field.isEqual(s.fieldPath)){var m=e.endAt.position[v];Ss(c,m)===m&&(c=m,l=e.endAt.inclusive);break}if(void 0===c)return null;i.push(c),a&&(a=l)}}catch(g){o.e(g)}finally{o.f()}return new ec(i,a)}(a,i),f=n.je(i,a,c),h=n.je(i,a,l),d=n.We(i,a,s),p=n.ze(i.indexId,u,f,!!c&&c.inclusive,h,!!l&&l.inclusive,d);return jf.forEach(p,(function(n){return r.Kt(n,t.limit).next((function(t){t.forEach((function(t){e=e.add(new us(pf(t.documentKey)))}))}))}))})).next((function(){return e}))}return jf.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):Ph,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,Z(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new Eh(e,us.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Eh(e,us.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new Eh(e,us.empty(),Ph,Ph)}},{key:"getFieldIndex",value:function(e,t){var n=new Ih(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new _h,i=y(Ds(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);yh.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new _h;return yh.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new _h);var i,a=0,o=y(Ds(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=y(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.tn(t,s.fieldPath)&&bs(c))r=this.en(r,s,c);else{var h=f.Ne(s.kind);yh.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.nn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"nn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"en",value:function(e,t,n){var r,i=Z(e),a=[],o=y(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=y(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new _h;f.seed(l.Se()),yh.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"tn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Ks&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Rh(e),i=Mh(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return jf.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Rs(t.sequenceNumber,new Fs(ah(t.readTime),new us(pf(t.documentKey)),t.largestBatchId)):Rs.empty(),r=e.fields.map((function(e){var t=o(e,2),n=t[0],r=t[1];return new Os(Hu.fromServerFormat(n),r)}));return new Ps(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Mu(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Rh(e),a=Mh(e);return this.sn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return jf.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:ih(r.readTime),documentKey:ff(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return jf.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?jf.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),jf.forEach(a,(function(r){return n.rn(e,t,r).next((function(t){var a=n.on(i,r);return t.isEqual(a)?jf.resolve():n.un(e,i,t,a)}))}))}))}))}},{key:"an",value:function(e,t,n){return Oh(e).put({indexId:n.indexId,uid:this.uid,arrayValue:n.arrayValue,directionalValue:n.directionalValue,documentKey:ff(t.key.path)})}},{key:"cn",value:function(e,t,n){return Oh(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,ff(t.key.path)])}},{key:"rn",value:function(e,t,n){var r=Oh(e),i=new ll(Th);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,ff(t.path)])},(function(e,r){i=i.add(new Eh(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"on",value:function(e,t){var n=new ll(Th),r=this.Ze(t,e);if(null==r)return n;var i=Ns(t);if(null!=i){var a=e.data.field(i.fieldPath);if(bs(a)){var o,u=y(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Eh(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Eh(t.indexId,e.key,Ph,r));return n}},{key:"un",value:function(e,t,n,r){var i=this;pu("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=hl(a),s=hl(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=hl(o)):l?(i(u),u=hl(a)):(u=hl(a),s=hl(o))}}(n,r,Th,(function(n){a.push(i.an(e,t,n))}),(function(n){a.push(i.cn(e,t,n))})),jf.waitFor(a)}},{key:"sn",value:function(e){var t=1;return Mh(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Th(e,t)})).filter((function(e,t,n){return!t||0!==Th(e,n[t-1])}));var r=[];r.push(e);var i,a=y(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Th(o,e),s=Th(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,""],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,""]));return c}}]),e}();function Dh(e){return Xf(e,"collectionParents")}function Oh(e){return Xf(e,"indexEntries")}function Rh(e){return Xf(e,"indexConfiguration")}function Mh(e){return Xf(e,"indexState")}var Lh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fh=function(){function e(t,n,r){p(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return m(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Vh(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){bu(1===u)})));var c,l=[],f=y(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=yf(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return jf.waitFor(a).next((function(){return l}))}function jh(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw gu();t=e.noDocument}return JSON.stringify(t).length}Fh.DEFAULT_COLLECTION_PERCENTILE=10,Fh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fh.DEFAULT=new Fh(41943040,Fh.DEFAULT_COLLECTION_PERCENTILE,Fh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fh.DISABLED=new Fh(-1,0,0);var Uh=function(){function e(t,n,r,i){p(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.hn={}}return m(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zh(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=qh(e),o=zh(e);return o.add({}).next((function(u){bu("number"==typeof u);var s,c=new $f(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Xl(e.Jt,t)})),i=n.mutations.map((function(t){return Xl(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new ll((function(e,t){return Mu(e.canonicalString(),t.canonicalString())})),d=y(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=yf(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,gf))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.hn[u]=c.keys()})),jf.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return zh(e).get(t).next((function(e){return e?(bu(e.userId===n.userId),oh(n.M,e)):null}))}},{key:"ln",value:function(e,t){var n=this;return this.hn[t]?jf.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.hn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return zh(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(bu(t.batchId>=r),a=oh(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return zh(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zh(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return oh(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=mf(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return qh(e).Wt({range:i},(function(r,i,u){var s=o(r,3),c=s[0],l=s[1],f=s[2],h=pf(l);if(c===n.userId&&t.path.isEqual(h))return zh(e).get(f).next((function(e){if(!e)throw gu();bu(e.userId===n.userId),a.push(oh(n.M,e))}));u.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ll(Mu),i=[];return t.forEach((function(t){var a=mf(n.userId,t.path),u=IDBKeyRange.lowerBound(a),s=qh(e).Wt({range:u},(function(e,i,a){var u=o(e,3),s=u[0],c=u[1],l=u[2],f=pf(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),jf.waitFor(i).next((function(){return n.fn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=mf(this.userId,r),u=IDBKeyRange.lowerBound(a),s=new ll(Mu);return qh(e).Wt({range:u},(function(e,t,a){var u=o(e,3),c=u[0],l=u[1],f=u[2],h=pf(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.fn(e,s)}))}},{key:"fn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(zh(e).get(t).next((function(e){if(null===e)throw gu();bu(e.userId===n.userId),r.push(oh(n.M,e))})))})),jf.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Vh(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.dn(t.batchId)})),jf.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"dn",value:function(e){delete this.hn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return jf.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return qh(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=pf(e[1]);i.push(a)}else r.done()})).next((function(){bu(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Bh(e,this.userId,t)}},{key:"_n",value:function(e){var t=this;return Gh(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return bu(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Bh(e,t,n){var r=mf(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),u=!1;return qh(e).Wt({range:a,jt:!0},(function(e,n,r){var a=o(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(u=!0),r.done()})).next((function(){return u}))}function zh(e){return Xf(e,"mutations")}function qh(e){return Xf(e,"documentMutations")}function Gh(e){return Xf(e,"mutationQueues")}var Kh=function(){function e(t){p(this,e),this.wn=t}return m(e,[{key:"next",value:function(){return this.wn+=2,this.wn}}],[{key:"mn",value:function(){return new e(0)}},{key:"gn",value:function(){return new e(-1)}}]),e}(),Hh=function(){function e(t,n){p(this,e),this.referenceDelegate=t,this.M=n}return m(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.yn(e).next((function(n){var r=new Kh(n.highestTargetId);return n.highestTargetId=r.next(),t.pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.yn(e).next((function(e){return ju.fromTimestamp(new Vu(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.yn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.yn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.In(e,t).next((function(){return n.yn(e).next((function(r){return r.targetCount+=1,n.Tn(t,r),n.pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.In(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Wh(e).delete(t.targetId)})).next((function(){return n.yn(e)})).next((function(t){return bu(t.targetCount>0),t.targetCount-=1,n.pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Wh(e).Wt((function(o,u){var s=uh(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return jf.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Wh(e).Wt((function(e,n){var r=uh(n);t(r)}))}},{key:"yn",value:function(e){return Qh(e).get("targetGlobalKey").next((function(e){return bu(null!==e),e}))}},{key:"pn",value:function(e,t){return Qh(e).put("targetGlobalKey",t)}},{key:"In",value:function(e,t){return Wh(e).put(sh(this.M,t))}},{key:"Tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.yn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Bs(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Wh(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=uh(n);zs(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Yh(e);return t.forEach((function(t){var o=ff(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),jf.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Yh(e);return jf.forEach(t,(function(t){var a=ff(t.path);return jf.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Yh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Yh(e),i=kl();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=pf(e[1]),a=new us(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=ff(t.path),r=IDBKeyRange.bound([n],[Fu(n)],!1,!0),i=0;return Yh(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=o(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Wh(e).get(t).next((function(e){return e?uh(e):null}))}}]),e}();function Wh(e){return Xf(e,"targets")}function Qh(e){return Xf(e,"targetGlobal")}function Yh(e){return Xf(e,"targetDocuments")}function Xh(e){return $h.apply(this,arguments)}function $h(){return $h=l(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===wu.FAILED_PRECONDITION&&t.message===Ff){e.next=2;break}throw t;case 2:pu("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),$h.apply(this,arguments)}function Jh(e,t){var n=o(e,2),r=n[0],i=n[1],a=o(t,2),u=a[0],s=a[1],c=Mu(r,u);return 0===c?Mu(i,s):c}var Zh=function(){function e(t){p(this,e),this.En=t,this.buffer=new ll(Jh),this.An=0}return m(e,[{key:"Rn",value:function(){return++this.An}},{key:"bn",value:function(e){var t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Jh(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),ed=function(){function e(t,n){p(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Pn=!1,this.Vn=null}return m(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}},{key:"stop",value:function(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}},{key:"started",get:function(){return null!==this.Vn}},{key:"vn",value:function(e){var t=this,n=this.Pn?3e5:6e4;pu("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,l(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.Vn=null,t.Pn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Gf(n.t0)){n.next=12;break}pu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Xh(n.t0);case 14:return n.next=16,t.vn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),td=function(){function e(t,n){p(this,e),this.Sn=t,this.params=n}return m(e,[{key:"calculateTargetCount",value:function(e,t){return this.Sn.Dn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return jf.resolve(Du.A);var r=new Zh(t);return this.Sn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Sn.Cn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Sn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Sn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(pu("LruGarbageCollector","Garbage collection skipped; disabled"),jf.resolve(Lh)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(pu("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Lh):n.xn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Sn.getCacheSize(e)}},{key:"xn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(pu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),du()<=ie.DEBUG&&pu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),jf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),nd=function(){function e(t,n){p(this,e),this.db=t,this.garbageCollector=function(e,t){return new td(e,t)}(this,n)}return m(e,[{key:"Dn",value:function(e){var t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Nn",value:function(e){var t=0;return this.Cn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Cn",value:function(e,t){return this.kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return rd(e,n)}},{key:"removeReference",value:function(e,t,n){return rd(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return rd(e,t)}},{key:"Mn",value:function(e,t){return function(e,t){var n=!1;return Gh(e).zt((function(r){return Bh(e,r,t).next((function(e){return e&&(n=!0),jf.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.kn(e,(function(o,u){if(u<=t){var s=n.Mn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,ju.min()),Yh(e).delete([0,ff(o.path)])}))}));i.push(s)}})).next((function(){return jf.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return rd(e,t)}},{key:"kn",value:function(e,t){var n,r=Yh(e),i=Du.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=o(e,2),u=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===u?(i!==Du.A&&t(new us(pf(n)),i),i=c,n=s):i=Du.A})).next((function(){i!==Du.A&&t(new us(pf(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function rd(e,t){return Yh(e).put(function(e,t){return{targetId:0,path:ff(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var id=function(){function e(){p(this,e),this.changes=new ol((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return m(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,As.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?jf.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),ad=function(){function e(t){p(this,e),this.M=t}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return sd(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return sd(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],rh(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.On(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=As.newInvalidDocument(t);return sd(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(cd(t))},(function(e,i){r=n.Fn(t,i)})).next((function(){return r}))}},{key:"$n",value:function(e,t){var n=this,r={size:0,document:As.newInvalidDocument(t)};return sd(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(cd(t))},(function(e,i){r={document:n.Fn(t,i),size:jh(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=pl();return this.Bn(e,t,(function(e,t){var i=n.Fn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ln",value:function(e,t){var n=this,r=pl(),i=new ul(us.comparator);return this.Bn(e,t,(function(e,t){var a=n.Fn(e,t);r=r.insert(e,a),i=i.insert(e,jh(t))})).next((function(){return{documents:r,Un:i}}))}},{key:"Bn",value:function(e,t,n){if(t.isEmpty())return jf.resolve();var r=new ll(fd);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(cd(r.first()),cd(r.last())),a=r.getIterator(),o=a.getNext();return sd(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=us.fromSegments([].concat(Z(t.prefixPath),[t.collectionGroup,t.documentId]));o&&fd(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(cd(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),rh(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sd(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=pl(),i=y(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Fn(us.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=pl(),o=ld(t,n),u=ld(t,Fs.max());return sd(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Fn(us.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new od(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return ud(e).get("remoteDocumentGlobalKey").next((function(e){return bu(!!e),e}))}},{key:"On",value:function(e,t){return ud(e).put("remoteDocumentGlobalKey",t)}},{key:"Fn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Ql(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=us.fromSegments(t.noDocument.path),i=ah(t.noDocument.readTime);n=As.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return gu();var a=us.fromSegments(t.unknownDocument.path),o=ah(t.unknownDocument.version);n=As.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Vu(e[0],e[1]);return ju.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(ju.min()))return n}return As.newInvalidDocument(e)}}]),e}(),od=function(e){k(n,e);var t=T(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).qn=e,i.trackRemovals=r,i.Gn=new ol((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new ll((function(e,t){return Mu(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.qn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=nh(t.qn.M,o);i=i.add(a.path.popLast());var c=jh(s);r+=c-u.size,n.push(t.qn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=nh(t.qn.M,o.convertToNoDocument(ju.min()));n.push(t.qn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.qn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.qn.updateMetadata(e,r)),jf.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.qn.$n(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.qn.Ln(e,t).next((function(e){var t=e.documents;return e.Un.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(id);function ud(e){return Xf(e,"remoteDocumentGlobal")}function sd(e){return Xf(e,"remoteDocumentsV14")}function cd(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ld(e,t){var n=t.documentKey.path.toArray();return[e,rh(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function fd(e,t){var n=e.path.length-t.path.length;return 0!==n?n:us.comparator(e,t)}var hd=function(){function e(t){p(this,e),this.M=t}return m(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new Uf("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vf,{unique:!0}),e.createObjectStore("documentMutations")}(e),dd(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=jf.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),dd(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ju.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vf,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return jf.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Kn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Qn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.jn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Wn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.zn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Pf});t.createIndex("collectionPathOverlayIndex",Nf,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Df,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:bf});t.createIndex("documentKeyIndex",kf),t.createIndex("collectionGroupIndex",wf)}(e)})).next((function(){return i.Hn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Sf}).createIndex("sequenceNumberIndex",If,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Cf}).createIndex("documentKeyIndex",Af,{unique:!1})}(e)}))),o}},{key:"Qn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=jh(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Kn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return jf.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return jf.forEach(r,(function(r){bu(r.userId===n.userId);var i=oh(t.M,r);return Vh(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"jn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Gu(n),o=function(e){return[0,ff(e)]}(a);r.push(t.get(o).next((function(n){return n?jf.resolve():function(n){return t.put({targetId:0,path:ff(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return jf.waitFor(r)}))}))}},{key:"Wn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Tf});var n=t.store("collectionParents"),r=new Ah,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:ff(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Gu(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=o(e,3),r=(n[0],n[1]),a=(n[2],pf(r));return i(a.popLast())}))}))}},{key:"zn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=uh(r),a=sh(t.M,i);return n.put(a)}))}},{key:"Hn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new us(Gu.fromString(i.document.name).popFirst(5)):i.noDocument?us.fromSegments(i.noDocument.path):i.unknownDocument?us.fromSegments(i.unknownDocument.path):gu()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return jf.waitFor(r)}))}}]),e}();function dd(e){e.createObjectStore("targetDocuments",{keyPath:_f}).createIndex("documentTargetsIndex",Ef,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xf,{unique:!0}),e.createObjectStore("targetGlobal")}var pd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",vd=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(p(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Jn=a,this.window=o,this.document=u,this.Yn=c,this.Xn=l,this.Zn=f,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=function(e){return Promise.resolve()},!e.vt())throw new xu(wu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nd(this,i),this.cs=n+"main",this.M=new th(s),this.hs=new Bf(this.cs,this.Zn,new hd(this.M)),this.ls=new Hh(this.referenceDelegate,this.M),this.fs=function(e){return new ad(e)}(this.M),this.ds=new hh,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===l&&vu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return m(e,[{key:"start",value:function(){var e=this;return this.ws().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new xu(wu.FAILED_PRECONDITION,pd);return e.gs(),e.ys(),e.ps(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ls.getHighestSequenceNumber(t)}))})).then((function(t){e.ts=new Du(t,e.Yn)})).then((function(){e.es=!0})).catch((function(t){return e.hs&&e.hs.close(),Promise.reject(t)}))}},{key:"Is",value:function(e){var t=this;return this.us=function(){var n=l(h().mark((function n(r){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.hs.Ot(function(){var t=l(h().mark((function t(n){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget(l(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ws();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ws",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return yd(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ts(t).next((function(t){t||(e.isPrimary=!1,e.Jn.enqueueRetryable((function(){return e.us(!1)})))}))})).next((function(){return e.Es(t)})).next((function(n){return e.isPrimary&&!n?e.As(t).next((function(){return!1})):!!n&&e.Rs(t).next((function(){return!0}))}))})).catch((function(t){if(Gf(t))return pu("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return pu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Jn.enqueueRetryable((function(){return e.us(t)})),e.isPrimary=t}))}},{key:"Ts",value:function(e){var t=this;return md(e).get("owner").next((function(e){return jf.resolve(t.bs(e))}))}},{key:"Ps",value:function(e){return yd(e).delete(this.clientId)}},{key:"Vs",value:function(){var e=l(h().mark((function e(){var t,n,r,i,a=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.vs(this.os,18e5)){e.next=6;break}return this.os=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Xf(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ss(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return jf.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._s){n=y(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._s.removeItem(this.Ds(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ps",value:function(){var e=this;this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ws().then((function(){return e.Vs()})).then((function(){return e.ps()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Es",value:function(e){var t=this;return this.Xn?jf.resolve(!0):md(e).get("owner").next((function(n){if(null!==n&&t.vs(n.leaseTimestampMs,5e3)&&!t.Cs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new xu(wu.FAILED_PRECONDITION,pd);return!1}}return!(!t.networkEnabled||!t.inForeground)||yd(e).qt().next((function(e){return void 0===t.Ss(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&pu("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=l(h().mark((function e(){var t=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.es=!1,this.xs(),this.rs&&(this.rs.cancel(),this.rs=null),this.Ns(),this.ks(),e.next=7,this.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Yf(e,Du.A);return t.As(n).next((function(){return t.Ps(n)}))}));case 7:this.hs.close(),this.Ms();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ss",value:function(e,t){var n=this;return e.filter((function(e){return n.vs(e.updateTimeMs,t)&&!n.Cs(e.clientId)}))}},{key:"Os",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return yd(t).qt().next((function(t){return e.Ss(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.es}},{key:"getMutationQueue",value:function(e,t){return Uh.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getIndexManager",value:function(e){return new Nh(e)}},{key:"getDocumentOverlayCache",value:function(e){return vh.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;pu("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.Zn)?Lf:13===i?Mf:12===i?Rf:11===i?Of:void gu();return this.hs.runTransaction(e,o,u,(function(i){return a=new Yf(i,r.ts?r.ts.next():Du.A),"readwrite-primary"===t?r.Ts(a).next((function(e){return!!e||r.Es(a)})).next((function(t){if(!t)throw vu("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Jn.enqueueRetryable((function(){return r.us(!1)})),new xu(wu.FAILED_PRECONDITION,Ff);return n(a)})).next((function(e){return r.Rs(a).next((function(){return e}))})):r.Fs(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Fs",value:function(e){var t=this;return md(e).get("owner").next((function(e){if(null!==e&&t.vs(e.leaseTimestampMs,5e3)&&!t.Cs(e.ownerId)&&!t.bs(e)&&!(t.Xn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new xu(wu.FAILED_PRECONDITION,pd)}))}},{key:"Rs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return md(e).put("owner",t)}},{key:"As",value:function(e){var t=this,n=md(e);return n.get("owner").next((function(e){return t.bs(e)?(pu("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):jf.resolve()}))}},{key:"vs",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(vu("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gs",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=function(){e.Jn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ws()}))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ns",value:function(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}},{key:"ys",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=function(){t.xs(),M()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Jn.enterRestrictedMode(!0),t.Jn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ns))}},{key:"ks",value:function(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}},{key:"Cs",value:function(e){var t;try{var n=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return pu("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return vu("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xs",value:function(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(lr){vu("Failed to set zombie client id.",lr)}}},{key:"Ms",value:function(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(lr){}}},{key:"Ds",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return Bf.vt()}}]),e}();function md(e){return Xf(e,"owner")}function yd(e){return Xf(e,"clientMetadata")}function gd(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var bd=function(){function e(t,n,r){p(this,e),this.fs=t,this.$s=n,this.indexManager=r}return m(e,[{key:"Bs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Ls(e,t,r)}))}},{key:"Ls",value:function(e,t,n){return this.fs.getEntry(e,t).next((function(e){var t,r=y(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Us",value:function(e,t){e.forEach((function(e,n){var r,i=y(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"qs",value:function(e,t){var n=this;return this.fs.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Us(t,e)}))}},{key:"Ks",value:function(e,t,n){return function(e){return us.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Qs(e,t.path):hc(t)?this.js(e,t,n):this.Ws(e,t,n)}},{key:"Qs",value:function(e,t){return this.Bs(e,new us(t)).next((function(e){var t=ml();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"js",value:function(e,t,n){var r=this,i=t.collectionGroup,a=ml();return this.indexManager.getCollectionParents(e,i).next((function(o){return jf.forEach(o,(function(o){var u=function(e,t){return new ac(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Ws(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Ws",value:function(e,t,n){var r,i=this;return this.fs.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.$s.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=y(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=y(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=As.newInvalidDocument(s),r=r.insert(s,c)),Gc(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){bc(t,n)||(r=r.remove(e))})),r}))}}]),e}(),kd=function(){function e(t,n,r,i){p(this,e),this.targetId=t,this.fromCache=n,this.zs=r,this.Hs=i}return m(e,null,[{key:"Js",value:function(t,n){var r,i=kl(),a=kl(),o=y(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),wd=function(){function e(){p(this,e)}return m(e,[{key:"Ys",value:function(e){this.Xs=e}},{key:"Ks",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ju.min())?this.Zs(e,t):this.Xs.qs(e,r).next((function(a){var o=i.ti(t,a);return(sc(t)||cc(t))&&i.ei(t.limitType,o,r,n)?i.Zs(e,t):(du()<=ie.DEBUG&&pu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),gc(t)),i.Xs.Ks(e,t,Ms(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ti",value:function(e,t){var n=new ll(wc(e));return t.forEach((function(t,r){bc(e,r)&&(n=n.add(r))})),n}},{key:"ei",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Zs",value:function(e,t){return du()<=ie.DEBUG&&pu("QueryEngine","Using full collection scan to execute query:",gc(t)),this.Xs.Ks(e,t,Fs.min())}}]),e}(),xd=function(){function e(t,n,r,i){p(this,e),this.persistence=t,this.ni=n,this.M=i,this.si=new ul(Mu),this.ii=new ol((function(e){return Bs(e)}),zs),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(r)}return m(e,[{key:"ui",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new bd(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.si)}))}}]),e}();function _d(e,t,n,r){return new xd(e,t,n,r)}function Ed(e,t){return Td.apply(this,arguments)}function Td(){return Td=l(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ku(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.$s.getAllMutationBatches(e).next((function(i){return t=i,r.ui(n),r.$s.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=kl(),s=y(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=y(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=y(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=y(v.mutations);try{for(g.s();!(m=g.n()).done;){var b=m.value;u=u.add(b.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ai.qs(e,u).next((function(e){return{ci:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Td.apply(this,arguments)}function Sd(e,t){var n=ku(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.oi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=jf.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);bu(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.$s.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}function Id(e){var t=ku(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ls.getLastRemoteSnapshotVersion(e)}))}function Cd(e,t){var n=ku(e),r=t.snapshotVersion,i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.ls.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.ls.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Qu.EMPTY_BYTE_STRING,ju.min()).withLastLimboFreeSnapshotVersion(ju.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.ls.updateTargetData(e,c))}}));var u=pl();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Ad(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(ju.min())){var s=n.ls.getLastRemoteSnapshotVersion(e).next((function(t){return n.ls.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return jf.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ai.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.si=i,e}))}function Ad(e,t,n){var r=kl();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=pl();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(ju.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):pu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Pd(e,t){var n=ku(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.$s.getNextMutationBatchAfterBatchId(e,t)}))}function Nd(e,t){var n=ku(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ls.getTargetData(e,t).next((function(i){return i?(r=i,jf.resolve(r)):n.ls.allocateTargetId(e).next((function(i){return r=new eh(t,i,0,e.currentSequenceNumber),n.ls.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.si.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.si=n.si.insert(e.targetId,e),n.ii.set(t,e.targetId)),e}))}function Dd(e,t,n){return Od.apply(this,arguments)}function Od(){return Od=l(h().mark((function e(t,n,r){var i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ku(t),a=i.si.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Gf(e.t1)){e.next=12;break}throw e.t1;case 12:pu("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.si=i.si.remove(n),i.ii.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Od.apply(this,arguments)}function Rd(e,t,n){var r=ku(e),i=ju.min(),a=kl();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ku(e),i=r.ii.get(n);return void 0!==i?jf.resolve(r.si.get(i)):r.ls.getTargetData(t,n)}(r,e,pc(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ni.Ks(e,t,n?i:ju.min(),n?a:kl())})).next((function(e){return Fd(r,kc(t),e),{documents:e,hi:a}}))}))}function Md(e,t){var n=ku(e),r=ku(n.ls),i=n.si.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Ld(e,t){var n=ku(e),r=n.ri.get(t)||ju.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.oi.getAllFromCollectionGroup(e,t,Ms(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Fd(n,t,e),e}))}function Fd(e,t,n){var r=ju.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ri.set(t,r)}function Vd(e,t,n,r){return jd.apply(this,arguments)}function jd(){return jd=l(h().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,d,p,v;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=ku(t),o=kl(),u=pl(),s=y(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.li(l.metadata.name),l.document&&(o=o.add(f)),(d=n.fi(l)).setReadTime(n.di(l.metadata.readTime)),u=u.insert(f,d)}catch(h){s.e(h)}finally{s.f()}return p=a.oi.newChangeBuffer({trackRemovals:!0}),e.next=7,Nd(a,function(e){return pc(uc(Gu.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Ad(e,p,u).next((function(t){return p.apply(e),t})).next((function(t){return a.ls.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.ls.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.ai.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),jd.apply(this,arguments)}function Ud(e,t){return Bd.apply(this,arguments)}function Bd(){return Bd=l(h().mark((function e(t,n){var r,i,a,o=arguments;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:kl(),e.next=3,Nd(t,pc(ch(n.bundledQuery)));case 3:return i=e.sent,a=ku(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Vl(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.ds.saveNamedQuery(e,n);var o=i.withResumeToken(Qu.EMPTY_BYTE_STRING,t);return a.si=a.si.insert(o.targetId,o),a.ls.updateTargetData(e,o).next((function(){return a.ls.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.ls.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Bd.apply(this,arguments)}var zd=function(){function e(t){p(this,e),this.M=t,this._i=new Map,this.wi=new Map}return m(e,[{key:"getBundleMetadata",value:function(e,t){return jf.resolve(this._i.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this._i.set(t.id,{id:(n=t).id,version:n.version,createTime:Vl(n.createTime)}),jf.resolve()}},{key:"getNamedQuery",value:function(e,t){return jf.resolve(this.wi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.wi.set(t.name,function(e){return{name:e.name,query:ch(e.bundledQuery),readTime:Vl(e.readTime)}}(t)),jf.resolve()}}]),e}(),qd=function(){function e(){p(this,e),this.overlays=new ul(us.comparator),this.mi=new Map}return m(e,[{key:"getOverlay",value:function(e,t){return jf.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),jf.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.mi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.mi.delete(n)),jf.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=yl(),i=t.length+1,a=new us(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return jf.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ul((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=yl(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=yl(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return jf.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.mi.get(r.largestBatchId).delete(n.key);this.mi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Zf(t,n));var a=this.mi.get(t);void 0===a&&(a=kl(),this.mi.set(t,a)),this.mi.set(t,a.add(n.key))}}}]),e}(),Gd=function(){function e(){p(this,e),this.gi=new ll(Kd.yi),this.pi=new ll(Kd.Ii)}return m(e,[{key:"isEmpty",value:function(){return this.gi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Kd(e,t);this.gi=this.gi.add(n),this.pi=this.pi.add(n)}},{key:"Ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ei(new Kd(e,t))}},{key:"Ai",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ri",value:function(e){var t=this,n=new us(new Gu([])),r=new Kd(n,e),i=new Kd(n,e+1),a=[];return this.pi.forEachInRange([r,i],(function(e){t.Ei(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.gi.forEach((function(t){return e.Ei(t)}))}},{key:"Ei",value:function(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}},{key:"Pi",value:function(e){var t=new us(new Gu([])),n=new Kd(t,e),r=new Kd(t,e+1),i=kl();return this.pi.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Kd(e,0),n=this.gi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Kd=function(){function e(t,n){p(this,e),this.key=t,this.Vi=n}return m(e,null,[{key:"yi",value:function(e,t){return us.comparator(e.key,t.key)||Mu(e.Vi,t.Vi)}},{key:"Ii",value:function(e,t){return Mu(e.Vi,t.Vi)||us.comparator(e.key,t.key)}}]),e}(),Hd=function(){function e(t,n){p(this,e),this.indexManager=t,this.referenceDelegate=n,this.$s=[],this.vi=1,this.Si=new ll(Kd.yi)}return m(e,[{key:"checkEmpty",value:function(e){return jf.resolve(0===this.$s.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vi;this.vi++,this.$s.length>0&&this.$s[this.$s.length-1];var a=new $f(i,t,n,r);this.$s.push(a);var o,u=y(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Si=this.Si.add(new Kd(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return jf.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return jf.resolve(this.Di(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ci(n),i=r<0?0:r;return jf.resolve(this.$s.length>i?this.$s[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return jf.resolve(0===this.$s.length?-1:this.vi-1)}},{key:"getAllMutationBatches",value:function(e){return jf.resolve(this.$s.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Kd(t,0),i=new Kd(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],(function(e){var t=n.Di(e.Vi);a.push(t)})),jf.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ll(Mu);return t.forEach((function(e){var t=new Kd(e,0),i=new Kd(e,Number.POSITIVE_INFINITY);n.Si.forEachInRange([t,i],(function(e){r=r.add(e.Vi)}))})),jf.resolve(this.xi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;us.isDocumentKey(i)||(i=i.child(""));var a=new Kd(new us(i),0),o=new ll(Mu);return this.Si.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Vi)),!0)}),a),jf.resolve(this.xi(o))}},{key:"xi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Di(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;bu(0===this.Ni(t.batchId,"removed")),this.$s.shift();var r=this.Si;return jf.forEach(t.mutations,(function(i){var a=new Kd(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Si=r}))}},{key:"dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Kd(t,0),r=this.Si.firstAfterOrEqual(n);return jf.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.$s.length,jf.resolve()}},{key:"Ni",value:function(e,t){return this.Ci(e)}},{key:"Ci",value:function(e){return 0===this.$s.length?0:e-this.$s[0].batchId}},{key:"Di",value:function(e){var t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}]),e}(),Wd=function(){function e(t){p(this,e),this.ki=t,this.docs=new ul(us.comparator),this.size=0}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ki(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return jf.resolve(n?n.document.mutableCopy():As.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=pl();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():As.newInvalidDocument(e))})),jf.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=pl(),i=new us(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Vs(Ls(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return jf.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){gu()}},{key:"Mi",value:function(e,t){return jf.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Qd(this)}},{key:"getSize",value:function(e){return jf.resolve(this.size)}}]),e}(),Qd=function(e){k(n,e);var t=T(n);function n(e){var r;return p(this,n),(r=t.call(this)).qn=e,r}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.qn.addEntry(e,i)):t.qn.removeEntry(r)})),jf.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.qn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.qn.getEntries(e,t)}}]),n}(id),Yd=function(){function e(t){p(this,e),this.persistence=t,this.Oi=new ol((function(e){return Bs(e)}),zs),this.lastRemoteSnapshotVersion=ju.min(),this.highestTargetId=0,this.Fi=0,this.$i=new Gd,this.targetCount=0,this.Bi=Kh.mn()}return m(e,[{key:"forEachTarget",value:function(e,t){return this.Oi.forEach((function(e,n){return t(n)})),jf.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return jf.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return jf.resolve(this.Fi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Bi.next(),jf.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fi&&(this.Fi=t),jf.resolve()}},{key:"In",value:function(e){this.Oi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Bi=new Kh(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.In(t),this.targetCount+=1,jf.resolve()}},{key:"updateTargetData",value:function(e,t){return this.In(t),jf.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,jf.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Oi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Oi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),jf.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return jf.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Oi.get(t)||null;return jf.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.$i.Ti(t,n),jf.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.$i.Ai(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),jf.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.$i.Ri(t),jf.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.$i.Pi(t);return jf.resolve(n)}},{key:"containsKey",value:function(e,t){return jf.resolve(this.$i.containsKey(t))}}]),e}(),Xd=function(){function e(t,n){var r=this;p(this,e),this.Li={},this.overlays={},this.ts=new Du(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new Yd(this),this.indexManager=new Ch,this.fs=new Wd((function(e){return r.referenceDelegate.Ui(e)})),this.M=new th(n),this.ds=new zd(this.M)}return m(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.es=!1,Promise.resolve()}},{key:"started",get:function(){return this.es}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new qd,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Li[e.toKey()];return n||(n=new Hd(t,this.referenceDelegate),this.Li[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.ls}},{key:"getRemoteDocumentCache",value:function(){return this.fs}},{key:"getBundleCache",value:function(){return this.ds}},{key:"runTransaction",value:function(e,t,n){var r=this;pu("MemoryPersistence","Starting transaction:",e);var i=new $d(this.ts.next());return this.referenceDelegate.qi(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ki",value:function(e,t){return jf.or(Object.values(this.Li).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),$d=function(e){k(n,e);var t=T(n);function n(e){var r;return p(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return m(n)}(Vf),Jd=function(){function e(t){p(this,e),this.persistence=t,this.Qi=new Gd,this.ji=null}return m(e,[{key:"zi",get:function(){if(this.ji)return this.ji;throw gu()}},{key:"addReference",value:function(e,t,n){return this.Qi.addReference(n,t),this.zi.delete(n.toString()),jf.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qi.removeReference(n,t),this.zi.add(n.toString()),jf.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zi.add(t.toString()),jf.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qi.Ri(t.targetId).forEach((function(e){return n.zi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qi",value:function(){this.ji=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jf.forEach(this.zi,(function(r){var i=us.fromPath(r);return t.Hi(e,i).next((function(e){e||n.removeEntry(i,ju.min())}))})).next((function(){return t.ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hi(e,t).next((function(e){e?n.zi.delete(t.toString()):n.zi.add(t.toString())}))}},{key:"Ui",value:function(e){return 0}},{key:"Hi",value:function(e,t){var n=this;return jf.or([function(){return jf.resolve(n.Qi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ki(e,t)}])}}],[{key:"Wi",value:function(t){return new e(t)}}]),e}();function Zd(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function ep(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function tp(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var np=function(){function e(t,n,r,i){p(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return m(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new xu(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(vu("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),rp=function(){function e(t,n,r){p(this,e),this.targetId=t,this.state=n,this.error=r}return m(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new xu(i.error.code,i.error.message))),a?new e(t,i.state,r):(vu("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),ip=function(){function e(t,n){p(this,e),this.clientId=t,this.activeTargetIds=n}return m(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=xl(),o=0;i&&o<r.activeTargetIds.length;++o)i=os(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(vu("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),ap=function(){function e(t,n){p(this,e),this.clientId=t,this.onlineState=n}return m(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(vu("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),op=function(){function e(){p(this,e),this.activeTargetIds=xl()}return m(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),up=function(){function e(t,n,r,i,a){p(this,e),this.window=t,this.Jn=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new ul(Mu),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=Zd(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new op),this.ar=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.cr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return m(e,[{key:"start",value:function(){var e=l(h().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,d=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Os();case 2:t=e.sent,n=y(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Zd(this.persistenceKey,i)))&&(o=ip.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=y(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(h){c.e(h)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(tp(this.persistenceKey,e));if(n){var r=rp.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(tp(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return pu("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){pu("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){pu("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(pu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void vu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable(l(h().mark((function e(){var r,i,a,o,u,s,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.ar.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.cr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=Du.A;if(null!=e)try{var n=JSON.parse(e);bu("number"==typeof n),t=n}catch(e){vu("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Du.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new np(this.currentUser,e,t,n),i=ep(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=ep(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=tp(this.persistenceKey,e),i=new rp(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.ar.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return ip.Ji(n,t)}},{key:"Vr",value:function(e,t){var n=this.cr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return np.Ji(new lu(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return rp.Ji(r,t)}},{key:"wr",value:function(e){return ap.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"vr",value:function(){var e=l(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:pu("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Or(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=xl();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),sp=function(){function e(){p(this,e),this.Fr=new op,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return m(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new op,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),cp=function(){function e(){p(this,e)}return m(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),lp=function(){function e(){var t=this;p(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Gr()},this.Kr=[],this.Qr()}return m(e,[{key:"Br",value:function(e){this.Kr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){pu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=y(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){pu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=y(this.Kr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),fp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},hp=function(){function e(t){p(this,e),this.jr=t.jr,this.Wr=t.Wr}return m(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),dp=function(e){k(n,e);var t=T(n);function n(e){var r;return p(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return m(n,[{key:"ao",value:function(e,t,n,r){return new Promise((function(i,a){var o=new su;o.listenOnce(ru.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case nu.NO_ERROR:var t=o.getResponseJson();pu("Connection","XHR received:",JSON.stringify(t)),i(t);break;case nu.TIMEOUT:pu("Connection",'RPC "'+e+'" timed out'),a(new xu(wu.DEADLINE_EXCEEDED,"Request time out"));break;case nu.HTTP_ERROR:var n=o.getStatus();if(pu("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(wu).indexOf(t)>=0?t:wu.UNKNOWN}(r.status);a(new xu(u,r.message))}else a(new xu(wu.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new xu(wu.UNAVAILABLE,"Connection failed."));break;default:gu()}}finally{pu("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=eu(),a=tu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ou({})),this.uo(o.initMessageHeaders,t,n),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(R())||"object"===typeof navigator&&"ReactNative"===navigator.product||R().indexOf("Electron/")>=0||function(){var e=R();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||R().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");pu("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new hp({jr:function(e){l?pu("Connection","Not sending because WebChannel is closed:",e):(c||(pu("Connection","Opening WebChannel transport."),s.open(),c=!0),pu("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,uu.EventType.OPEN,(function(){l||pu("Connection","WebChannel transport opened.")})),h(s,uu.EventType.CLOSE,(function(){l||(l=!0,pu("Connection","WebChannel transport closed"),f.eo())})),h(s,uu.EventType.ERROR,(function(e){l||(l=!0,mu("Connection","WebChannel transport errored:",e),f.eo(new xu(wu.UNAVAILABLE,"The operation could not be completed")))})),h(s,uu.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];bu(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){pu("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Zc[e];if(void 0!==t)return al(t)}(a),u=i.message;void 0===o&&(o=wu.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new xu(o,u)),s.close()}else pu("Connection","WebChannel received:",n),f.no(n)}})),h(a,iu.STAT_EVENT,(function(e){e.stat===au.PROXY?pu("Connection","Detected buffering proxy"):e.stat===au.NOPROXY&&pu("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){p(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return m(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);pu("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.ao(e,a,o,n).then((function(e){return pu("RestConnection","Received: ",e),e}),(function(t){throw mu("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"co",value:function(e,t,n,r,i){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+fu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=fp[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function pp(){return"undefined"!=typeof window?window:null}function vp(){return"undefined"!=typeof document?document:null}function mp(e){return new Rl(e,!0)}var yp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;p(this,e),this.Jn=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return m(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&pu("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),gp=function(){function e(t,n,r,i,a,o,u,s){p(this,e),this.Jn=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new yp(t,n)}return m(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=l(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=l(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"close",value:function(){var e=l(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===wu.RESOURCE_EXHAUSTED?(vu(n.toString()),vu("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===wu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=o(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new xu(wu.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.vo=n.Jn.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(l(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return pu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.Jn.enqueueAndForget((function(){return t.Po===e?n():(pu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),bp=function(e){k(n,e);var t=T(n);function n(e,r,i,a,o,u){var s;return p(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return m(n,[{key:"Go",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:gu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(bu(void 0===t||"string"==typeof t),Qu.fromBase64String(t||"")):(bu(void 0===t||t instanceof Uint8Array),Qu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?wu.UNKNOWN:al(e.code);return new xu(t,e.message||"")}(o);n=new Il(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=zl(e,s.document.name),l=Vl(s.document.updateTime),f=new Is({mapValue:{fields:s.document.fields}}),h=As.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Tl(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=zl(e,v.document),y=v.readTime?Vl(v.readTime):ju.min(),g=As.newNoDocument(m,y),b=v.removedTargetIds||[];n=new Tl([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=zl(e,k.document),x=k.removedTargetIds||[];n=new Tl([],x,w,null)}else{if(!("filter"in t))return gu();t.filter;var _=t.filter;_.targetId;var E=_.count||0,T=new rl(E),S=_.targetId;n=new Sl(S,T)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return ju.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ju.min():t.readTime?Vl(t.readTime):ju.min()}(e);return this.listener.Ko(t,n)}},{key:"Qo",value:function(e){var t={};t.database=Kl(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=qs(r)?{documents:Jl(e,r)}:{query:Zl(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ll(e,t.resumeToken):t.snapshotVersion.compareTo(ju.min())>0&&(n.readTime=Ml(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gu()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=Kl(this.M),t.removeTarget=e,this.Oo(t)}}]),n}(gp),kp=function(e){k(n,e);var t=T(n);function n(e,r,i,a,o,u){var s;return p(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Wo=!1,s}return m(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Yn(w(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Go",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(bu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(bu(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Vl(e.updateTime):Vl(t);return n.isEqual(ju.min())&&(n=Vl(t)),new jc(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Vl(e.commitTime);return this.listener.Jo(n,t)}return bu(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=Kl(this.M),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Xl(t.M,e)}))};this.Oo(n)}}]),n}(gp),wp=function(e){k(n,e);var t=T(n);function n(e,r,i,a){var o;return p(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.Zo=!1,o}return m(n,[{key:"tu",value:function(){if(this.Zo)throw new xu(wu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),u=a[0],s=a[1];return r.bo.ro(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===wu.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new xu(wu.UNKNOWN,e.toString())}))}},{key:"co",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=o(i,2),u=a[0],s=a[1];return r.bo.co(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===wu.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new xu(wu.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return m((function e(){p(this,e)}))}()),xp=function(){function e(t,n){p(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return m(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(vu(t),this.su=!1):pu("OnlineStateTracker",t)}},{key:"au",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),_p=m((function e(t,n,r,i,a){var o=this;p(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(l(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Rp(o),!e.t0){e.next=5;break}return pu("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=l(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ku(t)).lu.add(4),e.next=4,Sp(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,Ep(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new xp(r,i)}));function Ep(e){return Tp.apply(this,arguments)}function Tp(){return Tp=l(h().mark((function e(t){var n,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Rp(t)){e.next=18;break}n=y(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Tp.apply(this,arguments)}function Sp(e){return Ip.apply(this,arguments)}function Ip(){return Ip=l(h().mark((function e(t){var n,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=y(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Ip.apply(this,arguments)}function Cp(e,t){var n=ku(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),Op(n)?Dp(n):cv(n).Co()&&Pp(n,t))}function Ap(e,t){var n=ku(e),r=cv(n);n.hu.delete(t),r.Co()&&Np(n,t),0===n.hu.size&&(r.Co()?r.ko():Rp(n)&&n._u.set("Unknown"))}function Pp(e,t){e.wu.Z(t.targetId),cv(e).Qo(t)}function Np(e,t){e.wu.Z(t),cv(e).jo(t)}function Dp(e){e.wu=new Al({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.hu.get(t)||null}}),cv(e).start(),e._u.iu()}function Op(e){return Rp(e)&&!cv(e).Do()&&e.hu.size>0}function Rp(e){return 0===ku(e).lu.size}function Mp(e){e.wu=void 0}function Lp(e){return Fp.apply(this,arguments)}function Fp(){return Fp=l(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){Pp(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Fp.apply(this,arguments)}function Vp(e,t){return jp.apply(this,arguments)}function jp(){return jp=l(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Mp(t),Op(t)?(t._u.uu(n),Dp(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),jp.apply(this,arguments)}function Up(e,t,n){return Bp.apply(this,arguments)}function Bp(){return Bp=l(h().mark((function e(t,n,r){var i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof Il&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=l(h().mark((function e(t,n){var r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=y(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),pu("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,zp(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Tl?t.wu.ut(n):n instanceof Sl?t.wu._t(n):t.wu.ht(n),r.isEqual(ju.min())){e.next=29;break}return e.prev=14,e.next=17,Id(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(Qu.EMPTY_BYTE_STRING,n.snapshotVersion)),Np(e,t);var r=new eh(n.target,t,1,n.sequenceNumber);Pp(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),pu("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,zp(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Bp.apply(this,arguments)}function zp(e,t,n){return qp.apply(this,arguments)}function qp(){return qp=l(h().mark((function e(t,n,r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gf(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,Sp(t);case 5:t._u.set("Offline"),r||(r=function(){return Id(t.localStore)}),t.asyncQueue.enqueueRetryable(l(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pu("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,Ep(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),qp.apply(this,arguments)}function Gp(e,t){return t().catch((function(n){return zp(e,n,t)}))}function Kp(e){return Hp.apply(this,arguments)}function Hp(){return Hp=l(h().mark((function e(t){var n,r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ku(t),r=lv(n),i=n.cu.length>0?n.cu[n.cu.length-1].batchId:-1;case 2:if(!Wp(n)){e.next=19;break}return e.prev=3,e.next=6,Pd(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.cu.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,Qp(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,zp(n,e.t0);case 17:e.next=2;break;case 19:Yp(n)&&Xp(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Hp.apply(this,arguments)}function Wp(e){return Rp(e)&&e.cu.length<10}function Qp(e,t){e.cu.push(t);var n=lv(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function Yp(e){return Rp(e)&&!lv(e).Do()&&e.cu.length>0}function Xp(e){lv(e).start()}function $p(e){return Jp.apply(this,arguments)}function Jp(){return Jp=l(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:lv(t).Xo();case 1:case"end":return e.stop()}}),e)}))),Jp.apply(this,arguments)}function Zp(e){return ev.apply(this,arguments)}function ev(){return ev=l(h().mark((function e(t){var n,r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=lv(t),r=y(t.cu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),ev.apply(this,arguments)}function tv(e,t,n){return nv.apply(this,arguments)}function nv(){return nv=l(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.cu.shift(),a=Jf.from(i,n,r),e.next=3,Gp(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Kp(t);case 5:case"end":return e.stop()}}),e)}))),nv.apply(this,arguments)}function rv(e,t){return iv.apply(this,arguments)}function iv(){return iv=l(h().mark((function e(t,n){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&lv(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=l(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!il(i=n.code)||i===wu.ABORTED){e.next=7;break}return r=t.cu.shift(),lv(t).No(),e.next=5,Gp(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Kp(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Yp(t)&&Xp(t);case 5:case"end":return e.stop()}}),e)}))),iv.apply(this,arguments)}function av(e,t){return ov.apply(this,arguments)}function ov(){return ov=l(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ku(t)).asyncQueue.verifyOperationInProgress(),pu("RemoteStore","RemoteStore received new credentials"),i=Rp(r),r.lu.add(3),e.next=6,Sp(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,Ep(r);case 12:case"end":return e.stop()}}),e)}))),ov.apply(this,arguments)}function uv(e,t){return sv.apply(this,arguments)}function sv(){return sv=l(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ku(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,Ep(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,Sp(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),sv.apply(this,arguments)}function cv(e){return e.mu||(e.mu=function(e,t,n){var r=ku(e);return r.tu(),new bp(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:Lp.bind(null,e),Jr:Vp.bind(null,e),Ko:Up.bind(null,e)}),e.fu.push(function(){var t=l(h().mark((function t(n){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),Op(e)?Dp(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:Mp(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function lv(e){return e.gu||(e.gu=function(e,t,n){var r=ku(e);return r.tu(),new kp(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{zr:$p.bind(null,e),Jr:rv.bind(null,e),Yo:Zp.bind(null,e),Jo:tv.bind(null,e)}),e.fu.push(function(){var t=l(h().mark((function t(n){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,Kp(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.cu.length>0&&(pu("RemoteStore","Stopping write stream with ".concat(e.cu.length," pending writes")),e.cu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var fv=function(){function e(t,n,r,i,a){p(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _u,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return m(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xu(wu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function hv(e,t){if(vu("AsyncQueue","".concat(t,": ").concat(e)),Gf(e))return new xu(wu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var dv=function(){function e(t){p(this,e),this.comparator=t?function(e,n){return t(e,n)||us.comparator(e.key,n.key)}:function(e,t){return us.comparator(e.key,t.key)},this.keyedMap=ml(),this.sortedSet=new ul(this.comparator)}return m(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),pv=function(){function e(){p(this,e),this.yu=new ul(us.comparator)}return m(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):gu():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),vv=function(){function e(t,n,r,i,a,o,u,s){p(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return m(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,dv.emptySet(n),a,r,i,!0,!1)}}]),e}(),mv=m((function e(){p(this,e),this.Iu=void 0,this.listeners=[]})),yv=m((function e(){p(this,e),this.queries=new ol((function(e){return yc(e)}),mc),this.onlineState="Unknown",this.Tu=new Set}));function gv(e,t){return bv.apply(this,arguments)}function bv(){return bv=l(h().mark((function e(t,n){var r,i,a,o,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ku(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new mv),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=hv(e.t0,"Initialization of query '".concat(gc(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&Ev(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),bv.apply(this,arguments)}function kv(e,t){return wv.apply(this,arguments)}function wv(){return wv=l(h().mark((function e(t,n){var r,i,a,o,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ku(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),wv.apply(this,arguments)}function xv(e,t){var n,r=ku(e),i=!1,a=y(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=y(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Ev(r)}function _v(e,t,n){var r=ku(e),i=r.queries.get(t);if(i){var a,o=y(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Ev(e){e.Tu.forEach((function(e){e.next()}))}var Tv=function(){function e(t,n,r){p(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return m(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=y(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new vv(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),a=!0):this.vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=vv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),Sv=function(){function e(t,n){p(this,e),this.payload=t,this.byteLength=n}return m(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),Iv=function(){function e(t){p(this,e),this.M=t}return m(e,[{key:"li",value:function(e){return zl(this.M,e)}},{key:"fi",value:function(e){return e.metadata.exists?Ql(this.M,e.document,!1):As.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}},{key:"di",value:function(e){return Vl(e)}}]),e}(),Cv=function(){function e(t,n,r){p(this,e),this.xu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Av(t)}return m(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Gu.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new Iv(this.M),i=y(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.li(a.metadata.name),s=y(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||kl()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=l(h().mark((function e(){var t,n,r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vd(this.localStore,new Iv(this.M),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=y(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Ud(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Av(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Pv=m((function e(t){p(this,e),this.key=t})),Nv=m((function e(t){p(this,e),this.key=t})),Dv=function(){function e(t,n){p(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=kl(),this.mutatedKeys=kl(),this.Lu=wc(t),this.Uu=new dv(this.Lu)}return m(e,[{key:"qu",get:function(){return this.Fu}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Ku:new pv,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=sc(this.query)&&i.size===this.query.limit?i.last():null,c=cc(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=bc(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),sc(this.query)||cc(this.query))for(;o.size>this.query.limit;){var l=sc(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Ku:r,ei:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Ku.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gu()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new vv(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new pv,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=kl(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new Nv(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new Pv(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.hi,this.Bu=kl();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return vv.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),Ov=m((function e(t,n,r){p(this,e),this.query=t,this.targetId=n,this.view=r})),Rv=m((function e(t){p(this,e),this.key=t,this.Xu=!1})),Mv=function(){function e(t,n,r,i,a,o){p(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.ta=new ol((function(e){return yc(e)}),mc),this.ea=new Map,this.na=new Set,this.sa=new ul(us.comparator),this.ia=new Map,this.ra=new Gd,this.oa={},this.ua=new Map,this.aa=Kh.gn(),this.onlineState="Unknown",this.ca=void 0}return m(e,[{key:"isPrimaryClient",get:function(){return!0===this.ca}}]),e}();function Lv(e,t){return Fv.apply(this,arguments)}function Fv(){return Fv=l(h().mark((function e(t,n){var r,i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Am(t),!(o=r.ta.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,Nd(r.localStore,pc(n));case 8:return u=e.sent,r.isPrimaryClient&&Cp(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Vv(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Fv.apply(this,arguments)}function Vv(e,t,n,r){return jv.apply(this,arguments)}function jv(){return jv=l(h().mark((function e(t,n,r,i){var a,o,u,s,c,f;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.ha=function(e,n,r){return function(){var e=l(h().mark((function e(t,n,r,i){var a,o,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ei,!e.t0){e.next=6;break}return e.next=5,Rd(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(am(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Rd(t.localStore,n,!0);case 3:return a=e.sent,o=new Dv(n,a.hi),u=o.Gu(a.documents),s=El.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),am(t,r,c.zu),f=new Ov(n,r,o),e.abrupt("return",(t.ta.set(n,f),t.ea.has(r)?t.ea.get(r).push(n):t.ea.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),jv.apply(this,arguments)}function Uv(e,t){return Bv.apply(this,arguments)}function Bv(){return Bv=l(h().mark((function e(t,n){var r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ku(t),i=r.ta.get(n),!((a=r.ea.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ea.set(i.targetId,a.filter((function(e){return!mc(e,n)}))),void r.ta.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Dd(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ap(r.remoteStore,i.targetId),rm(r,i.targetId)})).catch(Xh);case 9:e.next=14;break;case 11:return rm(r,i.targetId),e.next=14,Dd(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Bv.apply(this,arguments)}function zv(e,t,n){return qv.apply(this,arguments)}function qv(){return qv=l(h().mark((function e(t,n,r){var i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pm(t),e.prev=1,e.next=4,function(e,t){var n,r=ku(e),i=Vu.now(),a=t.reduce((function(e,t){return e.add(t.key)}),kl());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ai.qs(e,a).next((function(a){n=a;var o,u=[],s=y(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Kc(c,n.get(c.key));null!=l&&u.push(new Yc(c.key,l,Cs(l.value.mapValue),Uc.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.$s.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oa[e.currentUser.toKey()];r||(r=new ul(Mu)),r=r.insert(t,n),e.oa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,sm(i,a.changes);case 9:return e.next=11,Kp(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=hv(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),qv.apply(this,arguments)}function Gv(e,t){return Kv.apply(this,arguments)}function Kv(){return Kv=l(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ku(t),e.prev=1,e.next=4,Cd(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ia.get(t);n&&(bu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?bu(n.Xu):e.removedDocuments.size>0&&(bu(n.Xu),n.Xu=!1))})),e.next=8,sm(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Xh(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Kv.apply(this,arguments)}function Hv(e,t,n){var r=ku(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ta.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ku(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=y(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Ev(n)}(r.eventManager,t),i.length&&r.Zu.Ko(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Wv(e,t,n){return Qv.apply(this,arguments)}function Qv(){return Qv=l(h().mark((function e(t,n,r){var i,a,o,u,s,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=ku(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ia.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new ul(us.comparator)).insert(o,As.newNoDocument(o,ju.min())),s=kl().add(o),c=new _l(ju.min(),new Map,new ll(Mu),u,s),e.next=9,Gv(i,c);case 9:i.sa=i.sa.remove(o),i.ia.delete(n),um(i),e.next=16;break;case 14:return e.next=16,Dd(i.localStore,n,!1).then((function(){return rm(i,n,r)})).catch(Xh);case 16:case"end":return e.stop()}}),e)}))),Qv.apply(this,arguments)}function Yv(e,t){return Xv.apply(this,arguments)}function Xv(){return Xv=l(h().mark((function e(t,n){var r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ku(t),i=n.batch.batchId,e.prev=1,e.next=4,Sd(r.localStore,n);case 4:return a=e.sent,nm(r,i,null),tm(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,sm(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Xh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Xv.apply(this,arguments)}function $v(e,t,n){return Jv.apply(this,arguments)}function Jv(){return Jv=l(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ku(t),e.prev=1,e.next=4,function(e,t){var n=ku(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.$s.lookupMutationBatch(e,t).next((function(t){return bu(null!==t),r=t.keys(),n.$s.removeMutationBatch(e,t)})).next((function(){return n.$s.performConsistencyCheck(e)})).next((function(){return n.ai.qs(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,nm(i,n,r),tm(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,sm(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Xh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Jv.apply(this,arguments)}function Zv(e,t){return em.apply(this,arguments)}function em(){return em=l(h().mark((function e(t,n){var r,i,a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rp((r=ku(t)).remoteStore)||pu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=ku(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.$s.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ua.get(i)||[]).push(n),r.ua.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=hv(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),em.apply(this,arguments)}function tm(e,t){(e.ua.get(t)||[]).forEach((function(e){e.resolve()})),e.ua.delete(t)}function nm(e,t,n){var r=ku(e),i=r.oa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oa[r.currentUser.toKey()]=i}}function rm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=y(e.ea.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ta.delete(a),n&&e.Zu.la(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ea.delete(t),e.isPrimaryClient&&e.ra.Ri(t).forEach((function(t){e.ra.containsKey(t)||im(e,t)}))}function im(e,t){e.na.delete(t.path.canonicalString());var n=e.sa.get(t);null!==n&&(Ap(e.remoteStore,n),e.sa=e.sa.remove(t),e.ia.delete(n),um(e))}function am(e,t,n){var r,i=y(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Pv?(e.ra.addReference(a.key,t),om(e,a)):a instanceof Nv?(pu("SyncEngine","Document no longer in limbo: "+a.key),e.ra.removeReference(a.key,t),e.ra.containsKey(a.key)||im(e,a.key)):gu()}}catch(o){i.e(o)}finally{i.f()}}function om(e,t){var n=t.key,r=n.path.canonicalString();e.sa.get(n)||e.na.has(r)||(pu("SyncEngine","New document in limbo: "+n),e.na.add(r),um(e))}function um(e){for(;e.na.size>0&&e.sa.size<e.maxConcurrentLimboResolutions;){var t=e.na.values().next().value;e.na.delete(t);var n=new us(Gu.fromString(t)),r=e.aa.next();e.ia.set(r,new Rv(n)),e.sa=e.sa.insert(n,r),Cp(e.remoteStore,new eh(pc(uc(n.path)),r,2,Du.A))}}function sm(e,t,n){return cm.apply(this,arguments)}function cm(){return cm=l(h().mark((function e(t,n,r){var i,a,o,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ku(t),a=[],o=[],u=[],e.t0=i.ta.isEmpty(),e.t0){e.next=9;break}return i.ta.forEach((function(e,t){u.push(i.ha(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=kd.Js(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Ko(a),e.next=9,function(){var e=l(h().mark((function e(t,n){var r,i,a,o,u,s,c,l;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ku(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return jf.forEach(n,(function(t){return jf.forEach(t.zs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return jf.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Gf(e.t0)){e.next=10;break}throw e.t0;case 10:pu("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=y(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.si.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.si=r.si.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),cm.apply(this,arguments)}function lm(e,t){return fm.apply(this,arguments)}function fm(){return fm=l(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=ku(t)).currentUser.isEqual(n)){e.next=11;break}return pu("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ed(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ua.forEach((function(e){e.forEach((function(e){e.reject(new xu(wu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ua.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,sm(r,i.ci);case 11:case"end":return e.stop()}}),e)}))),fm.apply(this,arguments)}function hm(e,t){var n=ku(e),r=n.ia.get(t);if(r&&r.Xu)return kl().add(r.key);var i=kl(),a=n.ea.get(t);if(!a)return i;var o,u=y(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ta.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function dm(e,t){return pm.apply(this,arguments)}function pm(){return pm=l(h().mark((function e(t,n){var r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ku(t),e.next=3,Rd(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&am(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),pm.apply(this,arguments)}function vm(e,t){return mm.apply(this,arguments)}function mm(){return mm=l(h().mark((function e(t,n){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ku(t),e.abrupt("return",Ld(r.localStore,n).then((function(e){return sm(r,e)})));case 2:case"end":return e.stop()}}),e)}))),mm.apply(this,arguments)}function ym(e,t,n,r){return gm.apply(this,arguments)}function gm(){return gm=l(h().mark((function e(t,n,r,i){var a,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ku(t),e.next=3,function(e,t){var n=ku(e),r=ku(n.$s);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.ln(e,t).next((function(t){return t?n.ai.qs(e,t):jf.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Kp(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(nm(a,n,i||null),tm(a,n),function(e,t){ku(ku(e).$s).dn(t)}(a.localStore,n)):gu();case 11:return e.next=13,sm(a,o);case 13:e.next=16;break;case 15:pu("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),gm.apply(this,arguments)}function bm(e,t){return km.apply(this,arguments)}function km(){return km=l(h().mark((function e(t,n){var r,i,a,o,u,s,c,l;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Am(r=ku(t)),Pm(r),!0!==n||!0===r.ca){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,wm(r,i.toArray());case 5:return a=e.sent,r.ca=!0,e.next=9,uv(r.remoteStore,!0);case 9:o=y(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Cp(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ca){e.next=25;break}return c=[],l=Promise.resolve(),r.ea.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return rm(r,t),Dd(r.localStore,t,!0)})),Ap(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,wm(r,c);case 21:return function(e){var t=ku(e);t.ia.forEach((function(e,n){Ap(t.remoteStore,n)})),t.ra.bi(),t.ia=new Map,t.sa=new ul(us.comparator)}(r),r.ca=!1,e.next=25,uv(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),km.apply(this,arguments)}function wm(e,t,n){return xm.apply(this,arguments)}function xm(){return xm=l(h().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,p,v,m,g,b;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=ku(t),a=[],o=[],u=y(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ea.get(c))||0===f.length){e.next=34;break}return e.next=11,Nd(i.localStore,pc(f[0]));case 11:l=e.sent,d=y(f),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return v=p.value,m=i.ta.get(v),e.next=20,dm(i,m);case 20:(g=e.sent).snapshot&&o.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Md(i.localStore,c);case 36:return b=e.sent,e.next=39,Nd(i.localStore,b);case 39:return l=e.sent,e.next=42,Vv(i,_m(b),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Ko(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),xm.apply(this,arguments)}function _m(e){return oc(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Em(e){var t=ku(e);return ku(ku(t.localStore).persistence).Os()}function Tm(e,t,n,r){return Sm.apply(this,arguments)}function Sm(){return Sm=l(h().mark((function e(t,n,r,i){var a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=ku(t)).ca){e.next=3;break}return e.abrupt("return",void pu("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ea.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Ld(a.localStore,kc(o[0]));case 10:return u=e.sent,s=_l.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,sm(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Dd(a.localStore,n,!0);case 17:return rm(a,n,i),e.abrupt("break",20);case 19:gu();case 20:case"end":return e.stop()}}),e)}))),Sm.apply(this,arguments)}function Im(e,t,n){return Cm.apply(this,arguments)}function Cm(){return Cm=l(h().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Am(t)).ca){e.next=45;break}a=y(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ea.has(u)){e.next=10;break}return pu("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Md(i.localStore,u);case 12:return s=e.sent,e.next=15,Nd(i.localStore,s);case 15:return c=e.sent,e.next=18,Vv(i,_m(s),c.targetId,!1);case 18:Cp(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=y(r),e.prev=30,d=h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ea.has(t),!e.t0){e.next=5;break}return e.next=5,Dd(i.localStore,t,!1).then((function(){Ap(i.remoteStore,t),rm(i,t)})).catch(Xh);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Cm.apply(this,arguments)}function Am(e){var t=ku(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Wv.bind(null,t),t.Zu.Ko=xv.bind(null,t.eventManager),t.Zu.la=_v.bind(null,t.eventManager),t}function Pm(e){var t=ku(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Yv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$v.bind(null,t),t}function Nm(e,t,n){var r=ku(e);(function(){var e=l(h().mark((function e(t,n,r){var i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=ku(e),r=Vl(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(Av(i)),a=new Cv(i,t.localStore,n.M),e.next=15,n.fa();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fa();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,sm(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=ku(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(mu("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Dm=function(){function e(){p(this,e),this.synchronizeTabs=!1}return m(e,[{key:"initialize",value:function(){var e=l(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=mp(t.databaseInfo.databaseId),this.sharedClientState=this.da(t),this.persistence=this._a(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.wa(t),this.localStore=this.ma(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wa",value:function(e){return null}},{key:"ma",value:function(e){return _d(this.persistence,new wd,e.initialUser,this.M)}},{key:"_a",value:function(e){return new Xd(Jd.Wi,this.M)}},{key:"da",value:function(e){return new sp}},{key:"terminate",value:function(){var e=l(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Om=function(e){k(n,e);var t=T(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).ga=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return m(n,[{key:"initialize",value:function(){var e=l(h().mark((function e(t){var r=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yn(w(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ga.initialize(this,t);case 4:return e.next=6,Pm(this.ga.syncEngine);case 6:return e.next=8,Kp(this.ga.remoteStore);case 8:return e.next=10,this.persistence.Is((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return _d(this.persistence,new wd,e.initialUser,this.M)}},{key:"wa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new ed(t,e.asyncQueue)}},{key:"_a",value:function(e){var t=gd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Fh.withCacheSize(this.cacheSizeBytes):Fh.DEFAULT;return new vd(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,pp(),vp(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"da",value:function(e){return new sp}}]),n}(Dm),Rm=function(e){k(n,e);var t=T(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r,!1)).ga=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return m(n,[{key:"initialize",value:function(){var e=l(h().mark((function e(t){var r,i=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yn(w(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ga.syncEngine,e.t0=this.sharedClientState instanceof up,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:ym.bind(null,r),Mr:Tm.bind(null,r),Or:Im.bind(null,r),Os:Em.bind(null,r),Nr:vm.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Is(function(){var e=l(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bm(i.ga.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"da",value:function(e){var t=pp();if(!up.vt(t))throw new xu(wu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=gd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new up(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Om),Mm=function(){function e(){p(this,e)}return m(e,[{key:"initialize",value:function(){var e=l(h().mark((function e(t,n){var r=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Hv(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=lm.bind(null,this.syncEngine),e.next=12,uv(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new yv}},{key:"createDatastore",value:function(e){var t,n=mp(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new dp(t));return function(e,t,n,r){return new wp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Hv(o.syncEngine,e,0)},a=lp.vt()?new lp:new cp,new _p(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Mv(e,t,n,r,i,a);return o&&(u.ca=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=l(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ku(t),pu("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,Sp(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Lm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return l(h().mark((function r(){var i;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return l(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Fm=function(){function e(t){p(this,e),this.observer=t,this.muted=!1}return m(e,[{key:"next",value:function(e){this.observer.next&&this.ya(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"pa",value:function(){this.muted=!0}},{key:"ya",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Vm=function(){function e(t,n){var r=this;p(this,e),this.Ia=t,this.M=n,this.metadata=new _u,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return m(e,[{key:"close",value:function(){return this.Ia.cancel()}},{key:"getMetadata",value:function(){var e=l(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fa",value:function(){var e=l(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Ea());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ea",value:function(){var e=l(h().mark((function e(){var t,n,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Aa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ta.decode(t),r=Number(n),isNaN(r)&&this.Ra("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new Sv(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Aa",value:function(){var e=l(h().mark((function e(){var t,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Pa()<0)){e.next=7;break}return e.next=3,this.Va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Pa())<0&&this.Ra("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=l(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Ra("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ta.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ra",value:function(e){throw this.Ia.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Va",value:function(){var e=l(h().mark((function e(){var t,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ia.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),jm=function(){function e(t){p(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return m(e,[{key:"lookup",value:function(){var e=l(h().mark((function e(t){var n,r=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new xu(wu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=l(h().mark((function e(t,n){var r,i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ku(t),i=Kl(r.M)+"/documents",a={documents:n.map((function(e){return Bl(r.M,e)}))},e.next=5,r.co("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Yl(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());bu(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new tl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=l(h().mark((function e(){var t,n=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=us.fromPath(t);n.mutations.push(new nl(r,n.precondition(r)))})),e.next=7,function(){var e=l(h().mark((function e(t,n){var r,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ku(t),i=Kl(r.M)+"/documents",a={writes:n.map((function(e){return Xl(r.M,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gu();t=ju.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new xu(wu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Uc.updateTime(t):Uc.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ju.min()))throw new xu(wu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Uc.updateTime(t)}return Uc.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Um=function(){function e(t,n,r,i){p(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new yp(this.asyncQueue,"transaction_retry")}return m(e,[{key:"run",value:function(){this.va-=1,this.Sa()}},{key:"Sa",value:function(){var e=this;this.So.Io(l(h().mark((function t(){var n,r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new jm(e.datastore),(r=e.Da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ca(t)}))}))})).catch((function(t){e.Ca(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Da",value:function(e){try{var t=this.updateFunction(e);return!is(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ca",value:function(e){var t=this;this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget((function(){return t.Sa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"xa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!il(t)}return!1}}]),e}(),Bm=function(){function e(t,n,r,i){var a=this;p(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lu.UNAUTHENTICATED,this.clientId=Ru.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=l(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pu("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return pu("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return m(e,[{key:"getConfiguration",value:function(){var e=l(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new xu(wu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new _u;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(l(h().mark((function n(){var r;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=hv(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function zm(e,t){return qm.apply(this,arguments)}function qm(){return qm=l(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),pu("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=l(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ed(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),qm.apply(this,arguments)}function Gm(e,t){return Km.apply(this,arguments)}function Km(){return Km=l(h().mark((function e(t,n){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Hm(t);case 3:return r=e.sent,pu("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return av(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return av(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Km.apply(this,arguments)}function Hm(e){return Wm.apply(this,arguments)}function Wm(){return Wm=l(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return pu("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,zm(t,new Dm);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Wm.apply(this,arguments)}function Qm(e){return Ym.apply(this,arguments)}function Ym(){return Ym=l(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return pu("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Gm(t,new Mm);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Ym.apply(this,arguments)}function Xm(e){return Hm(e).then((function(e){return e.persistence}))}function $m(e){return Hm(e).then((function(e){return e.localStore}))}function Jm(e){return Qm(e).then((function(e){return e.remoteStore}))}function Zm(e){return Qm(e).then((function(e){return e.syncEngine}))}function ey(e){return ty.apply(this,arguments)}function ty(){return ty=l(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qm(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Lv.bind(null,n.syncEngine),r.onUnlisten=Uv.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),ty.apply(this,arguments)}function ny(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new _u;return e.asyncQueue.enqueueAndForget(l(h().mark((function i(){return h().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Fm({next:function(a){t.enqueueAndForget((function(){return kv(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new xu(wu.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new xu(wu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Tv(uc(n.path),a,{includeMetadataChanges:!0,Du:!0});return gv(e,o)},i.next=3,ey(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function ry(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new _u;return e.asyncQueue.enqueueAndForget(l(h().mark((function i(){return h().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Fm({next:function(n){t.enqueueAndForget((function(){return kv(e,o)})),n.fromCache&&"server"===r.source?i.reject(new xu(wu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Tv(n,a,{includeMetadataChanges:!0,Du:!0});return gv(e,o)},i.next=3,ey(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var iy=new Map;function ay(e,t,n){if(!n)throw new xu(wu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function oy(e,t,n,r){if(!0===t&&!0===r)throw new xu(wu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function uy(e){if(!us.isDocumentKey(e))throw new xu(wu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function sy(e){if(us.isDocumentKey(e))throw new xu(wu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function cy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":gu()}function ly(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new xu(wu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=cy(e);throw new xu(wu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function fy(e,t){if(t<=0)throw new xu(wu.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var hy=function(){function e(t){var n;if(p(this,e),void 0===t.host){if(void 0!==t.ssl)throw new xu(wu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xu(wu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,oy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return m(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),dy=function(){function e(t,n,r){p(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hy({}),this._settingsFrozen=!1,t instanceof rs?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new xu(wu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rs(e.options.projectId)}(t))}return m(e,[{key:"app",get:function(){if(!this._app)throw new xu(wu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new xu(wu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hy(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Tu;switch(e.type){case"gapi":var t=e.client;return bu(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Au(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new xu(wu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=iy.get(e);t&&(pu("ComponentProvider","Removing Datastore"),iy.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function py(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=ly(e,dy))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&mu("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=lu.MOCK_USER;else{o=O(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new xu(wu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new lu(s)}e._authCredentials=new Su(new Eu(o,u))}}var vy=function(){function e(t,n,r){p(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return m(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new yy(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),my=function(){function e(t,n,r){p(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return m(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),yy=function(e){k(n,e);var t=T(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,uc(i)))._path=i,a.type="collection",a}return m(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new vy(this.firestore,null,new us(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(my);function gy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=W(e),ay("collection","path",t),e instanceof dy){var a=Gu.fromString.apply(Gu,[t].concat(r));return sy(a),new yy(e,null,a)}if(!(e instanceof vy||e instanceof yy))throw new xu(wu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Gu.fromString.apply(Gu,[t].concat(r)));return sy(o),new yy(e.firestore,null,o)}function by(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=W(e),1===arguments.length&&(t=Ru.R()),ay("doc","path",t),e instanceof dy){var a=Gu.fromString.apply(Gu,[t].concat(r));return uy(a),new vy(e,null,new us(a))}if(!(e instanceof vy||e instanceof yy))throw new xu(wu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Gu.fromString.apply(Gu,[t].concat(r)));return uy(o),new vy(e.firestore,e instanceof yy?e.converter:null,new us(o))}function ky(e,t){return e=W(e),t=W(t),(e instanceof vy||e instanceof yy)&&(t instanceof vy||t instanceof yy)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function wy(e,t){return e=W(e),t=W(t),e instanceof my&&t instanceof my&&e.firestore===t.firestore&&mc(e._query,t._query)&&e.converter===t.converter}var xy=function(){function e(){var t=this;p(this,e),this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new yp(this,"async_queue_retry"),this.Ua=function(){var e=vp();e&&pu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=vp();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ua)}return m(e,[{key:"isShuttingDown",get:function(){return this.Ma}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.qa(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;var t=vp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}},{key:"enqueue",value:function(e){var t=this;if(this.qa(),this.Ma)return new Promise((function(){}));var n=new _u;return this.Ga((function(){return t.Ma&&t.Ba?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ka.push(e),t.Ka()}))}},{key:"Ka",value:function(){var e=l(h().mark((function e(){var t=this;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ka.length){e.next=14;break}return e.prev=1,e.next=4,this.ka[0]();case 4:this.ka.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Gf(e.t0)){e.next=12;break}throw e.t0;case 12:pu("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ka.length>0&&this.So.Io((function(){return t.Ka()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.Na.then((function(){return t.$a=!0,e().catch((function(e){t.Fa=e,t.$a=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw vu("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.$a=!1,e}))}));return this.Na=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.qa(),this.La.indexOf(e)>-1&&(t=0);var i=fv.createAndSchedule(this,e,t,n,(function(e){return r.Qa(e)}));return this.Oa.push(i),i}},{key:"qa",value:function(){this.Fa&&gu()}},{key:"verifyOperationInProgress",value:function(){}},{key:"ja",value:function(){var e=l(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Na,e.next=3,t;case 3:if(t!==this.Na){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t,n=y(this.Oa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"za",value:function(e){var t=this;return this.ja().then((function(){t.Oa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=y(t.Oa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.ja()}))}},{key:"Ha",value:function(e){this.La.push(e)}},{key:"Qa",value:function(e){var t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}]),e}();function _y(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=y(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Ey=function(){function e(){p(this,e),this._progressObserver={},this._taskCompletionResolver=new _u,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return m(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Ty=function(e){k(n,e);var t=T(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new xy,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return m(n,[{key:"_terminate",value:function(){return this._firestoreClient||Iy(this),this._firestoreClient.terminate()}}]),n}(dy);function Sy(e){return e._firestoreClient||Iy(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Iy(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ns(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Bm(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Cy(e,t,n){var r=new _u;return e.asyncQueue.enqueue(l(h().mark((function i(){return h().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,zm(e,n);case 3:return i.next=5,Gm(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===wu.FAILED_PRECONDITION||e.code===wu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Ay(e){return function(e){return e.asyncQueue.enqueue(l(h().mark((function t(){var n,r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xm(e);case 2:return n=t.sent,t.next=5,Jm(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=ku(e);return t.lu.delete(0),Ep(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Sy(e=ly(e,Ty)))}function Py(e){return function(e){return e.asyncQueue.enqueue(l(h().mark((function t(){var n,r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xm(e);case 2:return n=t.sent,t.next=5,Jm(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=l(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ku(t)).lu.add(0),e.next=4,Sp(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Sy(e=ly(e,Ty)))}function Ny(e,t){var n=Sy(e=ly(e,Ty)),r=new Ey;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Vm(e,t)}(function(e,t){if(e instanceof Uint8Array)return Lm(e,t);if(e instanceof ArrayBuffer)return Lm(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,mp(t));e.asyncQueue.enqueueAndForget(l(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Nm,t.next=3,Zm(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Dy(e,t){return function(e,t){return e.asyncQueue.enqueue(l(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=ku(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.ds.getNamedQuery(e,t)}))},n.next=3,$m(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Sy(e=ly(e,Ty)),t).then((function(t){return t?new my(e,null,t.query):null}))}function Oy(e){if(e._initialized||e._terminated)throw new xu(wu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ry=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new xu(wu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hu(n)}return m(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var My=function(){function e(t){p(this,e),this._byteString=t}return m(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Qu.fromBase64String(t))}catch(t){throw new xu(wu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Qu.fromUint8Array(t))}}]),e}(),Ly=m((function e(t){p(this,e),this._methodName=t})),Fy=function(){function e(t,n){if(p(this,e),!isFinite(t)||t<-90||t>90)throw new xu(wu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new xu(wu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return m(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Mu(this._lat,e._lat)||Mu(this._long,e._long)}}]),e}(),Vy=/^__.*__$/,jy=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Yc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qc(e,this.data,t,this.fieldTransforms)}}]),e}(),Uy=function(){function e(t,n,r){p(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return new Yc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function By(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gu()}}var zy=function(){function e(t,n,r,i,a,o){p(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return m(e,[{key:"path",get:function(){return this.settings.path}},{key:"Ya",get:function(){return this.settings.Ya}},{key:"Xa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Za",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.ec(e),r}},{key:"nc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Xa({path:n,tc:!1});return r.Ja(),r}},{key:"sc",value:function(e){return this.Xa({path:void 0,tc:!0})}},{key:"ic",value:function(e){return sg(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ja",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ec(this.path.get(e))}},{key:"ec",value:function(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(By(this.Ya)&&Vy.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}]),e}(),qy=function(){function e(t,n,r){p(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||mp(t)}return m(e,[{key:"uc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new zy({Ya:e,methodName:t,oc:n,path:Hu.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function Gy(e){var t=e._freezeSettings(),n=mp(e._databaseId);return new qy(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ky(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.uc(a.merge||a.mergeFields?2:0,t,n,i);ig("Data must be an object, but it was:",o,r);var u,s,c=ng(r,o);if(a.merge)u=new Wu(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=y(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=ag(t,d,n);if(!o.contains(p))throw new xu(wu.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));cg(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Wu(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new jy(new Is(c),u,s)}var Hy=function(e){k(n,e);var t=T(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Ya)throw 1===e.Ya?e.ic("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ic("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Ly);function Wy(e,t,n){return new zy({Ya:3,oc:t.settings.oc,methodName:e._methodName,tc:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var Qy=function(e){k(n,e);var t=T(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){return new Vc(e.path,new Pc)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Ly),Yy=function(e){k(n,e);var t=T(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).ac=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=Wy(this,e,!0),n=this.ac.map((function(e){return tg(e,t)})),r=new Nc(n);return new Vc(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Ly),Xy=function(e){k(n,e);var t=T(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).ac=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=Wy(this,e,!0),n=this.ac.map((function(e){return tg(e,t)})),r=new Oc(n);return new Vc(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Ly),$y=function(e){k(n,e);var t=T(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e)).cc=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=new Mc(e.M,Tc(e.M,this.cc));return new Vc(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Ly);function Jy(e,t,n,r){var i=e.uc(1,t,n);ig("Data must be an object, but it was:",i,r);var a=[],o=Is.empty();Bu(r,(function(e,r){var u=ug(t,e,n);r=W(r);var s=i.nc(u);if(r instanceof Hy)a.push(u);else{var c=tg(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Wu(a);return new Uy(o,u,i.fieldTransforms)}function Zy(e,t,n,r,i,a){var o=e.uc(1,t,n),u=[ag(t,r,n)],s=[i];if(a.length%2!=0)throw new xu(wu.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(ag(t,a[c])),s.push(a[c+1]);for(var l=[],f=Is.empty(),h=u.length-1;h>=0;--h)if(!cg(l,u[h])){var d=u[h],p=s[h];p=W(p);var v=o.nc(d);if(p instanceof Hy)l.push(d);else{var m=tg(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Wu(l);return new Uy(f,y,o.fieldTransforms)}function eg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return tg(n,e.uc(r?4:3,t))}function tg(e,t){if(rg(e=W(e)))return ig("Unsupported field value:",t,e),ng(e,t);if(e instanceof Ly)return function(e,t){if(!By(t.Ya))throw t.ic("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ic("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=y(e);try{for(a.s();!(n=a.n()).done;){var o=tg(n.value,t.sc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=W(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Tc(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Vu.fromDate(e);return{timestampValue:Ml(t.M,n)}}if(e instanceof Vu){var r=new Vu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ml(t.M,r)}}if(e instanceof Fy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof My)return{bytesValue:Ll(t.M,e._byteString)};if(e instanceof vy){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ic("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:jl(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ic("Unsupported field value: ".concat(cy(e)))}(e,t)}function ng(e,t){var n={};return zu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bu(e,(function(e,r){var i=tg(r,t.Za(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function rg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vu||e instanceof Fy||e instanceof My||e instanceof vy||e instanceof Ly)}function ig(e,t,n){if(!rg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=cy(n);throw"an object"===r?t.ic(e+" a custom object"):t.ic(e+" "+r)}}function ag(e,t,n){if((t=W(t))instanceof Ry)return t._internalPath;if("string"==typeof t)return ug(e,t);throw sg("Field path arguments must be of type string or ",e,!1,void 0,n)}var og=new RegExp("[~\\*/\\[\\]]");function ug(e,t,n){if(t.search(og)>=0)throw sg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return S(Ry,Z(t.split(".")))._internalPath}catch(r){throw sg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function sg(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new xu(wu.INVALID_ARGUMENT,u+e+s)}function cg(e,t){return e.some((function(e){return e.isEqual(t)}))}var lg=function(){function e(t,n,r,i,a){p(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return m(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new vy(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new fg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(hg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),fg=function(e){k(n,e);var t=T(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){return Yn(w(n.prototype),"data",this).call(this)}}]),n}(lg);function hg(e,t){return"string"==typeof t?ug(e,t):t instanceof Ry?t._internalPath:t._delegate._internalPath}var dg=function(){function e(t,n){p(this,e),this.hasPendingWrites=t,this.fromCache=n}return m(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),pg=function(e){k(n,e);var t=T(n);function n(e,r,i,a,o,u){var s;return p(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return m(n,[{key:"exists",value:function(){return Yn(w(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(hg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(lg),vg=function(e){k(n,e);var t=T(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Yn(w(n.prototype),"data",this).call(this,e)}}]),n}(pg),mg=function(){function e(t,n,r,i){p(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new dg(i.hasPendingWrites,i.fromCache),this.query=r}return m(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new vg(n._firestore,n._userDataWriter,r.key,r,new dg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xu(wu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new vg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new vg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new dg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:yg(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function yg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gu()}}function gg(e,t){return e instanceof pg&&t instanceof pg?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof mg&&t instanceof mg&&e._firestore===t._firestore&&wy(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function bg(e){if(cc(e)&&0===e.explicitOrderBy.length)throw new xu(wu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var kg=m((function e(){p(this,e)}));function wg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var xg=function(e){k(n,e);var t=T(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).hc=e,a.lc=r,a.fc=i,a.type="where",a}return m(n,[{key:"_apply",value:function(e){var t=Gy(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new xu(wu.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Og(o,a);var s,c=[],l=y(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Dg(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=Dg(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Og(o,a),u=eg(n,"where",o,"in"===a||"not-in"===a);var h=Ks.create(i,a,u);return function(e,t){if(t.S()){var n=fc(e);if(null!==n&&!n.isEqual(t.field))throw new xu(wu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=lc(e);null!==r&&Rg(e,t.field,r)}var i=function(e,t){var n,r=y(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new xu(wu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new xu(wu.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new my(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ac(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(kg);var _g=function(e){k(n,e);var t=T(n);function n(e,r){var i;return p(this,n),(i=t.call(this)).hc=e,i.dc=r,i.type="orderBy",i}return m(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new xu(wu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new xu(wu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new tc(t,n);return function(e,t){if(null===lc(e)){var n=fc(e);null!==n&&Rg(e,n,t.field)}}(e,r),r}(e._query,this.hc,this.dc);return new my(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ac(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(kg);var Eg=function(e){k(n,e);var t=T(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a._c=r,a.wc=i,a}return m(n,[{key:"_apply",value:function(e){return new my(e.firestore,e.converter,vc(e._query,this._c,this.wc))}}]),n}(kg);var Tg=function(e){k(n,e);var t=T(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return m(n,[{key:"_apply",value:function(e){var t=Ng(e,this.type,this.mc,this.gc);return new my(e.firestore,e.converter,function(e,t){return new ac(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(kg);function Sg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Tg("startAt",t,!0)}function Ig(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Tg("startAfter",t,!1)}var Cg=function(e){k(n,e);var t=T(n);function n(e,r,i){var a;return p(this,n),(a=t.call(this)).type=e,a.mc=r,a.gc=i,a}return m(n,[{key:"_apply",value:function(e){var t=Ng(e,this.type,this.mc,this.gc);return new my(e.firestore,e.converter,function(e,t){return new ac(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(kg);function Ag(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cg("endBefore",t,!1)}function Pg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cg("endAt",t,!0)}function Ng(e,t,n,r){if(n[0]=W(n[0]),n[0]instanceof lg)return function(e,t,n,r,i){if(!r)throw new xu(wu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=y(dc(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(ys(t,r.key));else{var c=r.data.field(s.field);if(Zu(c))throw new xu(wu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new xu(wu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new ec(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Gy(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new xu(wu.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new xu(wu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!hc(e)&&-1!==c.indexOf("/"))throw new xu(wu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Gu.fromString(c));if(!us.isDocumentKey(l))throw new xu(wu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new us(l);u.push(ys(t,f))}else{var h=eg(n,r,c);u.push(h)}}return new ec(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Dg(e,t,n){if("string"==typeof(n=W(n))){if(""===n)throw new xu(wu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hc(t)&&-1!==n.indexOf("/"))throw new xu(wu.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Gu.fromString(n));if(!us.isDocumentKey(r))throw new xu(wu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ys(e,new us(r))}if(n instanceof vy)return ys(e,n._key);throw new xu(wu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(cy(n),"."))}function Og(e,t){if(!Array.isArray(e)||0===e.length)throw new xu(wu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new xu(wu.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Rg(e,t,n){if(!n.isEqual(t))throw new xu(wu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Mg=function(){function e(){p(this,e)}return m(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $u(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ju(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gu()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Bu(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Fy($u(e.latitude),$u(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=es(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ts(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Xu(e);return new Vu(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Gu.fromString(e);bu(lf(n));var r=new rs(n.get(1),n.get(3)),i=new us(n.popFirst(5));return r.isEqual(t)||vu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Lg(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Fg=function(e){k(n,e);var t=T(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new My(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new vy(this.firestore,null,t)}}]),n}(Mg),Vg=function(){function e(t,n){p(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Gy(t)}return m(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=jg(e,this._firestore),i=Lg(r.converter,t,n),a=Ky(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Uc.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=jg(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=W(t))||t instanceof Ry?Zy(this._dataReader,"WriteBatch.update",i._key,t,n,o):Jy(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Uc.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=jg(e,this._firestore);return this._mutations=this._mutations.concat(new tl(t._key,Uc.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new xu(wu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function jg(e,t){if((e=W(e)).firestore!==t)throw new xu(wu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Ug=function(e){k(n,e);var t=T(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new My(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new vy(this.firestore,null,t)}}]),n}(Mg);function Bg(e){e=ly(e,vy);var t=ly(e.firestore,Ty),n=Sy(t),r=new Ug(t);return function(e,t){var n=new _u;return e.asyncQueue.enqueueAndForget(l(h().mark((function r(){return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=l(h().mark((function e(t,n,r){var i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=ku(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ai.Bs(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new xu(wu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=hv(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,$m(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new pg(t,r,e._key,n,new dg(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function zg(e){e=ly(e,my);var t=ly(e.firestore,Ty),n=Sy(t),r=new Ug(t);return function(e,t){var n=new _u;return e.asyncQueue.enqueueAndForget(l(h().mark((function r(){return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=l(h().mark((function e(t,n,r){var i,a,o,u,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rd(t,n,!0);case 3:i=e.sent,a=new Dv(n,i.hi),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=hv(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,$m(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new mg(t,r,e,n)}))}function qg(e,t,n){e=ly(e,vy);var r=ly(e.firestore,Ty),i=Lg(e.converter,t,n);return Wg(r,[Ky(Gy(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Uc.none())])}function Gg(e,t,n){e=ly(e,vy);for(var r=ly(e.firestore,Ty),i=Gy(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Wg(r,[("string"==typeof(t=W(t))||t instanceof Ry?Zy(i,"updateDoc",e._key,t,n,o):Jy(i,"updateDoc",e._key,t)).toMutation(e._key,Uc.exists(!0))])}function Kg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=W(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||_y(n[s])||(u=n[s],s++);var c,f,d,p={includeMetadataChanges:u.includeMetadataChanges};if(_y(n[s])){var v=n[s];n[s]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[s+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[s+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof vy)f=ly(e.firestore,Ty),d=uc(e._key.path),c={next:function(t){n[s]&&n[s](Qg(f,e,t))},error:n[s+1],complete:n[s+2]};else{var m=ly(e,my);f=ly(m.firestore,Ty),d=m._query;var y=new Ug(f);c={next:function(e){n[s]&&n[s](new mg(f,y,m,e))},error:n[s+1],complete:n[s+2]},bg(e._query)}return function(e,t,n,r){var i=new Fm(r),a=new Tv(t,i,n);return e.asyncQueue.enqueueAndForget(l(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=gv,t.next=3,ey(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.pa(),e.asyncQueue.enqueueAndForget(l(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=kv,t.next=3,ey(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Sy(f),d,p,c)}function Hg(e,t){return function(e,t){var n=new Fm(t);return e.asyncQueue.enqueueAndForget(l(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ku(e).Tu.add(t),t.next()},t.next=3,ey(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.pa(),e.asyncQueue.enqueueAndForget(l(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ku(e).Tu.delete(t)},t.next=3,ey(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Sy(e=ly(e,Ty)),_y(t)?t:{next:t})}function Wg(e,t){return function(e,t){var n=new _u;return e.asyncQueue.enqueueAndForget(l(h().mark((function r(){return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=zv,r.next=3,Zm(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Sy(e),t)}function Qg(e,t,n){var r=n.docs.get(t._key),i=new Ug(e);return new pg(e,i,t._key,r,new dg(n.hasPendingWrites,n.fromCache),t.converter)}var Yg=function(e){k(n,e);var t=T(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r))._firestore=e,i}return m(n,[{key:"get",value:function(e){var t=this,r=jg(e,this._firestore),i=new Ug(this._firestore);return Yn(w(n.prototype),"get",this).call(this,e).then((function(e){return new pg(t._firestore,i,r._key,e._document,new dg(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){p(this,e),this._firestore=t,this._transaction=n,this._dataReader=Gy(t)}return m(e,[{key:"get",value:function(e){var t=this,n=jg(e,this._firestore),r=new Fg(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return gu();var i=e[0];if(i.isFoundDocument())return new lg(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new lg(t._firestore,r,n._key,null,n.converter);throw gu()}))}},{key:"set",value:function(e,t,n){var r=jg(e,this._firestore),i=Lg(r.converter,t,n),a=Ky(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=jg(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=W(t))||t instanceof Ry?Zy(this._dataReader,"Transaction.update",i._key,t,n,o):Jy(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=jg(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Xg(e,t){return function(e,t){var n=new _u;return e.asyncQueue.enqueueAndForget(l(h().mark((function r(){var i;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Qm(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new Um(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(Sy(e=ly(e,Ty)),(function(n){return t(new Yg(e,n))}))}function $g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Yy("arrayUnion",t)}function Jg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Xy("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){fu=e}(Ne),Ee(new ee("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Ty(i,new Iu(e.getProvider("auth-internal")),new Nu(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Fe(cu,"3.4.7",e),Fe(cu,"3.4.7","esm2017")}();function Zg(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new xu("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function eb(){if("undefined"===typeof Uint8Array)throw new xu("unimplemented","Uint8Arrays are not available in this environment.")}function tb(){if("undefined"==typeof atob)throw new xu("unimplemented","Blobs are unavailable in Firestore in this environment.")}var nb=function(){function e(t){p(this,e),this._delegate=t}return m(e,[{key:"toBase64",value:function(){return tb(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return eb(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return tb(),new e(My.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return eb(),new e(My.fromUint8Array(t))}}]),e}();function rb(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=y(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var ib=function(){function e(){p(this,e)}return m(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Oy(e=ly(e,Ty));var n=Sy(e),r=e._freezeSettings(),i=new Mm;return Cy(n,i,new Om(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Oy(e=ly(e,Ty));var t=Sy(e),n=e._freezeSettings(),r=new Mm;return Cy(t,r,new Rm(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new xu(wu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new _u;return e._queue.enqueueAndForgetEvenWhileRestricted(l(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=l(h().mark((function e(t){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bf.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Bf.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(gd(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),ab=function(){function e(t,n,r){var i=this;p(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof rs||(this._appCompat=t)}return m(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||mu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};py(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Ay(this._delegate)}},{key:"disableNetwork",value:function(){return Py(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&oy("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new _u;return e.asyncQueue.enqueueAndForget(l(h().mark((function n(){return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Zv,n.next=3,Zm(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Sy(e=ly(e,Ty)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Hg(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new xu("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new bb(this,gy(this._delegate,e))}catch(t){throw fb(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new lb(this,by(this._delegate,e))}catch(t){throw fb(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new mb(this,function(e,t){if(e=ly(e,dy),ay("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new xu(wu.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new my(e,null,function(e){return new ac(Gu.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw fb(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Xg(this._delegate,(function(n){return e(new ub(t,n))}))}},{key:"batch",value:function(){var e=this;return Sy(this._delegate),new sb(new Vg(this._delegate,(function(t){return Wg(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Ny(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Dy(this._delegate,e).then((function(e){return e?new mb(t,e):null}))}}]),e}(),ob=function(e){k(n,e);var t=T(n);function n(e){var r;return p(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new nb(new My(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return lb.forKey(t,this.firestore,null)}}]),n}(Mg);var ub=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new ob(t)}return m(e,[{key:"get",value:function(e){var t=this,n=kb(e);return this._delegate.get(n).then((function(e){return new pb(t._firestore,new pg(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=kb(e);return n?(Zg("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=kb(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=kb(e);return this._delegate.delete(t),this}}]),e}(),sb=function(){function e(t){p(this,e),this._delegate=t}return m(e,[{key:"set",value:function(e,t,n){var r=kb(e);return n?(Zg("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=kb(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=kb(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),cb=function(){function e(t,n,r){p(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return m(e,[{key:"fromFirestore",value:function(e,t){var n=new vg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vb(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new ob(t),n),i.set(n,a)),a}}]),e}();cb.INSTANCES=new WeakMap;var lb=function(){function e(t,n){p(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ob(t)}return m(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new bb(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new bb(this.firestore,gy(this._delegate,e))}catch(t){throw fb(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=W(e))instanceof vy&&ky(this._delegate,e)}},{key:"set",value:function(e,t){t=Zg("DocumentReference.set",t);try{return t?qg(this._delegate,e,t):qg(this._delegate,e)}catch(n){throw fb(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Gg(this._delegate,e):Gg.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw fb(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Wg(ly(e.firestore,Ty),[new tl(e._key,Uc.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=hb(n),a=db(n,(function(t){return new pb(e.firestore,new pg(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Kg(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Bg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ly(e,vy);var t=ly(e.firestore,Ty);return ny(Sy(t),e._key,{source:"server"}).then((function(n){return Qg(t,e,n)}))}(this._delegate):function(e){e=ly(e,vy);var t=ly(e.firestore,Ty);return ny(Sy(t),e._key).then((function(n){return Qg(t,e,n)}))}(this._delegate),t.then((function(e){return new pb(n.firestore,new pg(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(cb.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new xu("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new vy(n._delegate,r,new us(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new vy(n._delegate,r,t))}}]),e}();function fb(e,t,n){return e.message=e.message.replace(t,n),e}function hb(e){var t,n=y(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!rb(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function db(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=rb(e[0])?e[0]:rb(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var pb=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"ref",get:function(){return new lb(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return gg(this._delegate,e._delegate)}}]),e}(),vb=function(e){k(n,e);var t=T(n);function n(){return p(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||gu()}(void 0!==t),t}}]),n}(pb),mb=function(){function e(t,n){p(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ob(t)}return m(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,wg(this._delegate,function(e,t,n){var r=t,i=hg("where",e);return new xg(i,r,n)}(t,n,r)))}catch(i){throw fb(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,wg(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=hg("orderBy",e);return new _g(n,t)}(t,n)))}catch(r){throw fb(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,wg(this._delegate,function(e){return fy("limit",e),new Eg("limit",e,"F")}(t)))}catch(n){throw fb(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,wg(this._delegate,function(e){return fy("limitToLast",e),new Eg("limitToLast",e,"L")}(t)))}catch(n){throw fb(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,wg(this._delegate,Sg.apply(void 0,arguments)))}catch(t){throw fb(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,wg(this._delegate,Ig.apply(void 0,arguments)))}catch(t){throw fb(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,wg(this._delegate,Ag.apply(void 0,arguments)))}catch(t){throw fb(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,wg(this._delegate,Pg.apply(void 0,arguments)))}catch(t){throw fb(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return wy(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?zg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ly(e,my);var t=ly(e.firestore,Ty),n=Sy(t),r=new Ug(t);return ry(n,e._query,{source:"server"}).then((function(n){return new mg(t,r,e,n)}))}(this._delegate):function(e){e=ly(e,my);var t=ly(e.firestore,Ty),n=Sy(t),r=new Ug(t);return bg(e._query),ry(n,e._query).then((function(n){return new mg(t,r,e,n)}))}(this._delegate),t.then((function(e){return new gb(n.firestore,new mg(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=hb(n),a=db(n,(function(t){return new gb(e.firestore,new mg(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Kg(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(cb.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),yb=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new vb(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),gb=function(){function e(t,n){p(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"query",get:function(){return new mb(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new vb(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new yb(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new vb(n._firestore,r))}))}},{key:"isEqual",value:function(e){return gg(this._delegate,e._delegate)}}]),e}(),bb=function(e){k(n,e);var t=T(n);function n(e,r){var i;return p(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return m(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new lb(this.firestore,e):null}},{key:"doc",value:function(e){try{return new lb(this.firestore,void 0===e?by(this._delegate):by(this._delegate,e))}catch(t){throw fb(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=ly(e.firestore,Ty),r=by(e),i=Lg(e.converter,t);return Wg(n,[Ky(Gy(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Uc.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new lb(t.firestore,e)}))}},{key:"isEqual",value:function(e){return ky(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(cb.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(mb);function kb(e){return ly(e,vy)}var wb,xb=function(){function e(){p(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=S(Ry,n)}return m(e,[{key:"isEqual",value:function(e){return(e=W(e))instanceof Ry&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Hu.keyField().canonicalString())}}]),e}(),_b=function(){function e(t){p(this,e),this._delegate=t}return m(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Qy("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Hy("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=$g.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Jg.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new $y("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Eb={Firestore:ab,GeoPoint:Fy,Timestamp:Vu,Blob:nb,Transaction:ub,WriteBatch:sb,DocumentReference:lb,DocumentSnapshot:pb,Query:mb,QueryDocumentSnapshot:vb,QuerySnapshot:gb,CollectionReference:bb,FieldPath:xb,FieldValue:_b,setLogLevel:function(e){!function(e){hu.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new ee("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Eb)))})(wb=ut,(function(e,t){return new ab(e,t,new ib)})),wb.registerVersion("@firebase/firestore-compat","0.1.16");ut.initializeApp({apiKey:"AIzaSyCiv1fGJhWMx_5nZi2OruyOjDyHW7NH4xY",authDomain:"photo-gallery-979ea.firebaseapp.com",projectId:"photo-gallery-979ea",storageBucket:"photo-gallery-979ea.appspot.com",messagingSenderId:"798589147493",appId:"1:798589147493:web:dbc3c663aaf857e28ea98c"});var Tb=ut.storage(),Sb=ut.firestore(),Ib=ut.firestore.FieldValue.serverTimestamp,Cb=function(e){var n=o((0,t.useState)(0),2),r=n[0],i=n[1],a=o((0,t.useState)(null),2),u=a[0],s=a[1],c=o((0,t.useState)(null),2),f=c[0],d=c[1];return(0,t.useEffect)((function(){var t=Tb.ref(e.name),n=Sb.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;i(t)}),(function(e){s(e)}),l(h().mark((function e(){var r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:r=e.sent,i=Ib(),n.add({url:r,createdAt:i}),d(r);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:r,url:f,error:u}},Ab=function(e,t){return Ab=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ab(e,t)};function Pb(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ab(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Nb=function(){return Nb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Nb.apply(this,arguments)};function Db(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function Ob(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function Rb(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var Mb=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},Lb={measureLayout:Mb(["layout","layoutId","drag","_layoutResetTransform"]),animation:Mb(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag"]),exit:Mb(["exit"]),drag:Mb(["drag","dragControls"]),focus:Mb(["whileFocus"]),hover:Mb(["whileHover","onHoverStart","onHoverEnd"]),tap:Mb(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Mb(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),layoutAnimation:Mb(["layout","layoutId"])};var Fb=(0,t.createContext)({strict:!1}),Vb=Object.keys(Lb),jb=Vb.length;var Ub=(0,t.createContext)({transformPagePoint:function(e){return e},isStatic:!1}),Bb=(0,t.createContext)({});var zb=(0,t.createContext)(null);function qb(e){var n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}function Gb(){var e=(0,t.useContext)(zb);if(null===e)return[!0,null];var n=e.isPresent,r=e.onExitComplete,i=e.register,a=Qb();(0,t.useEffect)((function(){return i(a)}),[]);return!n&&r?[!1,function(){return null===r||void 0===r?void 0:r(a)}]:[!0]}function Kb(e){return null===e||e.isPresent}var Hb=0,Wb=function(){return Hb++},Qb=function(){return qb(Wb)},Yb=(0,t.createContext)(null),Xb="undefined"!==typeof window,$b=Xb?t.useLayoutEffect:t.useEffect;function Jb(e,n,r,i){var a=(0,t.useContext)(Ub),o=(0,t.useContext)(Fb),u=(0,t.useContext)(Bb).visualElement,s=(0,t.useContext)(zb),c=function(e){var n=e.layoutId,r=(0,t.useContext)(Yb);return r&&void 0!==n?r+"-"+n:n}(r),l=(0,t.useRef)(void 0);i||(i=o.renderer),!l.current&&i&&(l.current=i(e,{visualState:n,parent:u,props:Nb(Nb({},r),{layoutId:c}),presenceId:null===s||void 0===s?void 0:s.id,blockInitialAnimation:!1===(null===s||void 0===s?void 0:s.initial)}));var f=l.current;return $b((function(){f&&(f.setProps(Nb(Nb(Nb({},a),r),{layoutId:c})),f.isPresent=Kb(s),f.isPresenceRoot=!u||u.presenceId!==(null===s||void 0===s?void 0:s.id),f.syncRender())})),(0,t.useEffect)((function(){var e;f&&(null===(e=f.animationState)||void 0===e||e.animateChanges())})),$b((function(){return function(){return null===f||void 0===f?void 0:f.notifyUnmount()}}),[]),f}function Zb(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function ek(e){return Array.isArray(e)}function tk(e){return"string"===typeof e||ek(e)}function nk(e,t,n,r,i){var a;return void 0===r&&(r={}),void 0===i&&(i={}),"string"===typeof t&&(t=null===(a=e.variants)||void 0===a?void 0:a[t]),"function"===typeof t?t(null!==n&&void 0!==n?n:e.custom,r,i):t}function rk(e,t,n){var r=e.getProps();return nk(r,t,null!==n&&void 0!==n?n:r.custom,function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.getVelocity()})),t}(e))}function ik(e){var t;return"function"===typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||tk(e.initial)||tk(e.animate)||tk(e.whileHover)||tk(e.whileDrag)||tk(e.whileTap)||tk(e.whileFocus)||tk(e.exit)}function ak(e){return Boolean(ik(e)||e.variants)}function ok(e,n){var r=function(e,t){if(ik(e)){var n=e.initial,r=e.animate;return{initial:!1===n||tk(n)?n:void 0,animate:tk(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(Bb)),i=r.initial,a=r.animate;return(0,t.useMemo)((function(){return{initial:i,animate:a}}),n?[uk(i),uk(a)]:[])}function uk(e){return Array.isArray(e)?e.join(" "):e}function sk(e){var n=e.preloadedFeatures,r=e.createVisualElement,i=e.useRender,a=e.useVisualState,o=e.Component;return n&&function(e){for(var t in e){var n=e[t];null!==n&&(Lb[t].Component=n)}}(n),(0,t.forwardRef)((function(e,n){var u=(0,t.useContext)(Ub).isStatic,s=null,c=ok(e,u),l=a(e,u);return!u&&Xb&&(c.visualElement=Jb(o,l,e,r),s=function(e,n,r){var i=[];if((0,t.useContext)(Fb),!n)return null;for(var a=0;a<jb;a++){var o=Vb[a],u=Lb[o],s=u.isEnabled,c=u.Component;s(e)&&c&&i.push(t.createElement(c,Nb({key:o},e,{visualElement:n})))}return i}(e,c.visualElement)),t.createElement(t.Fragment,null,t.createElement(Bb.Provider,{value:c},i(o,e,function(e,n,r){return(0,t.useCallback)((function(t){var i;t&&(null===(i=e.mount)||void 0===i||i.call(e,t)),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):Zb(r)&&(r.current=t))}),[n])}(l,c.visualElement,n),l,u)),s)}))}function ck(e){function t(t,n){return void 0===n&&(n={}),sk(e(t,n))}var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var lk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function fk(e){return"string"===typeof e&&!e.includes("-")&&!!(lk.indexOf(e)>-1||/[A-Z]/.test(e))}var hk={};var dk=["","X","Y","Z"],pk=["transformPerspective","x","y","z"];function vk(e,t){return pk.indexOf(e)-pk.indexOf(t)}["translate","scale","rotate","skew"].forEach((function(e){return dk.forEach((function(t){return pk.push(e+t)}))}));var mk=new Set(pk);function yk(e){return mk.has(e)}var gk=new Set(["originX","originY","originZ"]);function bk(e){return gk.has(e)}function kk(e,t){var n=t.layout,r=t.layoutId;return yk(e)||bk(e)||(n||void 0!==r)&&(!!hk[e]||"opacity"===e)}var wk=function(e){return null!==e&&"object"===typeof e&&e.getVelocity},xk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function _k(e){return e.startsWith("--")}var Ek=function(e,t){return t&&"number"===typeof e?t.transform(e):e},Tk=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},Sk=function(e){return e%1?Number(e.toFixed(5)):e},Ik=/(-)?([\d]*\.?[\d])+/g,Ck=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,Ak=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function Pk(e){return"string"===typeof e}var Nk=function(e){return{test:function(t){return Pk(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return""+t+e}}},Dk=Nk("deg"),Ok=Nk("%"),Rk=Nk("px"),Mk=Nk("vh"),Lk=Nk("vw"),Fk=Nb(Nb({},Ok),{parse:function(e){return Ok.parse(e)/100},transform:function(e){return Ok.transform(100*e)}}),Vk={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},jk=Nb(Nb({},Vk),{transform:Tk(0,1)}),Uk=Nb(Nb({},Vk),{default:1}),Bk=Nb(Nb({},Vk),{transform:Math.round}),zk={borderWidth:Rk,borderTopWidth:Rk,borderRightWidth:Rk,borderBottomWidth:Rk,borderLeftWidth:Rk,borderRadius:Rk,radius:Rk,borderTopLeftRadius:Rk,borderTopRightRadius:Rk,borderBottomRightRadius:Rk,borderBottomLeftRadius:Rk,width:Rk,maxWidth:Rk,height:Rk,maxHeight:Rk,size:Rk,top:Rk,right:Rk,bottom:Rk,left:Rk,padding:Rk,paddingTop:Rk,paddingRight:Rk,paddingBottom:Rk,paddingLeft:Rk,margin:Rk,marginTop:Rk,marginRight:Rk,marginBottom:Rk,marginLeft:Rk,rotate:Dk,rotateX:Dk,rotateY:Dk,rotateZ:Dk,scale:Uk,scaleX:Uk,scaleY:Uk,scaleZ:Uk,skew:Dk,skewX:Dk,skewY:Dk,distance:Rk,translateX:Rk,translateY:Rk,translateZ:Rk,x:Rk,y:Rk,z:Rk,perspective:Rk,transformPerspective:Rk,opacity:jk,originX:Fk,originY:Fk,originZ:Rk,zIndex:Bk,fillOpacity:jk,strokeOpacity:jk,numOctaves:Bk};function qk(e,t,n,r,i,a,o,u){var s,c=e.style,l=e.vars,f=e.transform,h=e.transformKeys,d=e.transformOrigin;h.length=0;var p=!1,v=!1,m=!0;for(var y in t){var g=t[y];if(_k(y))l[y]=g;else{var b=zk[y],k=Ek(g,b);if(yk(y)){if(p=!0,f[y]=k,h.push(y),!m)continue;g!==(null!==(s=b.default)&&void 0!==s?s:0)&&(m=!1)}else if(bk(y))d[y]=k,v=!0;else if((null===n||void 0===n?void 0:n.isHydrated)&&(null===r||void 0===r?void 0:r.isHydrated)&&hk[y]){var w=hk[y].process(g,r,n),x=hk[y].applyTo;if(x)for(var _=x.length,E=0;E<_;E++)c[x[E]]=w;else c[y]=w}else c[y]=k}}r&&n&&o&&u?(c.transform=o(r.deltaFinal,r.treeScale,p?f:void 0),a&&(c.transform=a(f,c.transform)),c.transformOrigin=u(r)):(p&&(c.transform=function(e,t,n,r){var i=e.transform,a=e.transformKeys,o=t.enableHardwareAcceleration,u=void 0===o||o,s=t.allowTransformNone,c=void 0===s||s,l="";a.sort(vk);for(var f=!1,h=a.length,d=0;d<h;d++){var p=a[d];l+=(xk[p]||p)+"("+i[p]+") ","z"===p&&(f=!0)}return!f&&u?l+="translateZ(0)":l=l.trim(),r?l=r(i,n?"":l):c&&n&&(l="none"),l}(e,i,m,a)),v&&(c.transformOrigin=function(e){var t=e.originX,n=void 0===t?"50%":t,r=e.originY,i=void 0===r?"50%":r,a=e.originZ;return n+" "+i+" "+(void 0===a?0:a)}(d)))}var Gk=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function Kk(e,t,n){for(var r in t)wk(t[r])||kk(r,n)||(e[r]=t[r])}function Hk(e,n,r){var i={};return Kk(i,e.style||{},e),Object.assign(i,function(e,n,r){var i=e.transformTemplate;return(0,t.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};qk(e,n,void 0,void 0,{enableHardwareAcceleration:!r},i);var t=e.style;return Nb(Nb({},e.vars),t)}),[n])}(e,n,r)),e.transformValues&&(i=e.transformValues(i)),i}function Wk(e,t,n){var r={},i=Hk(e,t,n);return Boolean(e.drag)&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),r.style=i,r}var Qk=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","_layoutResetTransform","onLayoutAnimationComplete","onViewportBoxUpdate","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover"]);function Yk(e){return Qk.has(e)}var Xk=function(e){return!Yk(e)};try{var $k=n(213).Z;Xk=function(e){return e.startsWith("on")?!Yk(e):$k(e)}}catch(dm){}function Jk(e,t,n){return"string"===typeof e?e:Rk.transform(t+n*e)}var Zk=function(e,t){return Rk.transform(e*t)},ew={offset:"stroke-dashoffset",array:"stroke-dasharray"},tw={offset:"strokeDashoffset",array:"strokeDasharray"};function nw(e,t,n,r,i,a,o,u){var s=t.attrX,c=t.attrY,l=t.originX,f=t.originY,h=t.pathLength,d=t.pathSpacing,p=void 0===d?1:d,v=t.pathOffset,m=void 0===v?0:v;qk(e,Db(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r,i,a,o,u),e.attrs=e.style,e.style={};var y=e.attrs,g=e.style,b=e.dimensions,k=e.totalPathLength;y.transform&&(b&&(g.transform=y.transform),delete y.transform),b&&(void 0!==l||void 0!==f||g.transform)&&(g.transformOrigin=function(e,t,n){return Jk(t,e.x,e.width)+" "+Jk(n,e.y,e.height)}(b,void 0!==l?l:.5,void 0!==f?f:.5)),void 0!==s&&(y.x=s),void 0!==c&&(y.y=c),void 0!==k&&void 0!==h&&function(e,t,n,r,i,a){void 0===r&&(r=1),void 0===i&&(i=0),void 0===a&&(a=!0);var o=a?ew:tw;e[o.offset]=Zk(-i,t);var u=Zk(n,t),s=Zk(r,t);e[o.array]=u+" "+s}(y,k,h,p,m,!1)}var rw=function(){return Nb(Nb({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{attrs:{}})};function iw(e,n){var r=(0,t.useMemo)((function(){var t=rw();return nw(t,n,void 0,void 0,{enableHardwareAcceleration:!1},e.transformTemplate),Nb(Nb({},t.attrs),{style:Nb({},t.style)})}),[n]);if(e.style){var i={};Kk(i,e.style,e),r.style=Nb(Nb({},i),r.style)}return r}function aw(e){void 0===e&&(e=!1);return function(n,r,i,a,o){var u=a.latestValues,s=(fk(n)?iw:Wk)(r,u,o),c=function(e,t,n){var r={};for(var i in e)(Xk(i)||!0===n&&Yk(i)||!t&&!Yk(i))&&(r[i]=e[i]);return r}(r,"string"===typeof n,e),l=Nb(Nb(Nb({},c),s),{ref:i});return(0,t.createElement)(n,l)}}var ow=/([a-z])([A-Z])/g,uw=function(e){return e.replace(ow,"$1-$2").toLowerCase()};function sw(e,t){var n=t.style,r=t.vars;for(var i in Object.assign(e.style,n),r)e.style.setProperty(i,r[i])}var cw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform"]);function lw(e,t){for(var n in sw(e,t),t.attrs)e.setAttribute(cw.has(n)?n:uw(n),t.attrs[n])}function fw(e){var t=e.style,n={};for(var r in t)(wk(t[r])||kk(r,e))&&(n[r]=t[r]);return n}function hw(e){var t=fw(e);for(var n in e){if(wk(e[n]))t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]}return t}function dw(e){return"object"===typeof e&&"function"===typeof e.start}var pw=function(e){return Array.isArray(e)},vw=function(e){return pw(e)?e[e.length-1]||0:e};function mw(e){var t=wk(e)?e.get():e;return function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)}(t)?t.toValue():t}function yw(e,t,n,r){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,u={latestValues:bw(t,n,r,i),renderState:a()};return o&&(u.mount=function(e){return o(t,e,u)}),u}var gw=function(e){return function(n,r){var i=(0,t.useContext)(Bb),a=(0,t.useContext)(zb);return r?yw(e,n,i,a):qb((function(){return yw(e,n,i,a)}))}};function bw(e,t,n,r){var i={},a=!1===(null===n||void 0===n?void 0:n.initial),o=r(e);for(var u in o)i[u]=mw(o[u]);var s=e.initial,c=e.animate,l=ik(e),f=ak(e);t&&f&&!l&&!1!==e.inherit&&(null!==s&&void 0!==s||(s=t.initial),null!==c&&void 0!==c||(c=t.animate));var h=a||!1===s?c:s;h&&"boolean"!==typeof h&&!dw(h)&&(Array.isArray(h)?h:[h]).forEach((function(t){var n=nk(e,t);if(n){var r=n.transitionEnd;n.transition;var a=Db(n,["transitionEnd","transition"]);for(var o in a)i[o]=a[o];for(var o in r)i[o]=r[o]}}));return i}var kw={useVisualState:gw({scrapeMotionValuesFromProps:hw,createRenderState:rw,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(a){r.dimensions={x:0,y:0,width:0,height:0}}"path"===t.tagName&&(r.totalPathLength=t.getTotalLength()),nw(r,i,void 0,void 0,{enableHardwareAcceleration:!1},e.transformTemplate),lw(t,r)}})};var ww,xw={useVisualState:gw({scrapeMotionValuesFromProps:fw,createRenderState:Gk})};function _w(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function Ew(e,n,r,i){(0,t.useEffect)((function(){var t=e.current;if(r&&t)return _w(t,n,r,i)}),[e,n,r,i])}function Tw(e){return"undefined"!==typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function Sw(e){return!!e.touches}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.Exit="exit"}(ww||(ww={}));var Iw={pageX:0,pageY:0};function Cw(e,t){void 0===t&&(t="page");var n=e.touches[0]||e.changedTouches[0]||Iw;return{x:n[t+"X"],y:n[t+"Y"]}}function Aw(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function Pw(e,t){return void 0===t&&(t="page"),{point:Sw(e)?Cw(e,t):Aw(e,t)}}var Nw=function(e,t){void 0===t&&(t=!1);var n,r=function(t){return e(t,Pw(t))};return t?(n=r,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&n(e)}):r},Dw={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Ow={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Rw(e){return Xb&&null===window.onpointerdown?e:Xb&&null===window.ontouchstart?Ow[e]:Xb&&null===window.onmousedown?Dw[e]:e}function Mw(e,t,n,r){return _w(e,Rw(t),Nw(n,"pointerdown"===t),r)}function Lw(e,t,n,r){return Ew(e,Rw(t),n&&Nw(n,"pointerdown"===t),r)}function Fw(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var Vw=Fw("dragHorizontal"),jw=Fw("dragVertical");function Uw(e){var t=!1;if("y"===e)t=jw();else if("x"===e)t=Vw();else{var n=Vw(),r=jw();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function Bw(){var e=Uw(!0);return!e||(e(),!1)}function zw(e,t,n){return function(r,i){var a;Tw(r)&&!Bw()&&(null===n||void 0===n||n(r,i),null===(a=e.animationState)||void 0===a||a.setActive(ww.Hover,t))}}var qw=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))};function Gw(e){return(0,t.useEffect)((function(){return function(){return e()}}),[])}var Kw=function(e,t){return function(n){return t(e(n))}},Hw=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(Kw)};var Ww=function(e){return function(t){return e(t),null}},Qw={tap:Ww((function(e){var n=e.onTap,r=e.onTapStart,i=e.onTapCancel,a=e.whileTap,o=e.visualElement,u=n||r||i||a,s=(0,t.useRef)(!1),c=(0,t.useRef)(null);function l(){var e;null===(e=c.current)||void 0===e||e.call(c),c.current=null}function f(){var e;return l(),s.current=!1,null===(e=o.animationState)||void 0===e||e.setActive(ww.Tap,!1),!Bw()}function h(e,t){f()&&(qw(o.getInstance(),e.target)?null===n||void 0===n||n(e,t):null===i||void 0===i||i(e,t))}function d(e,t){f()&&(null===i||void 0===i||i(e,t))}Lw(o,"pointerdown",u?function(e,t){var n;l(),s.current||(s.current=!0,c.current=Hw(Mw(window,"pointerup",h),Mw(window,"pointercancel",d)),null===r||void 0===r||r(e,t),null===(n=o.animationState)||void 0===n||n.setActive(ww.Tap,!0))}:void 0),Gw(l)})),focus:Ww((function(e){var t=e.whileFocus,n=e.visualElement;Ew(n,"focus",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(ww.Focus,!0)}:void 0),Ew(n,"blur",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(ww.Focus,!1)}:void 0)})),hover:Ww((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;Lw(i,"pointerenter",t||r?zw(i,!0,t):void 0),Lw(i,"pointerleave",n||r?zw(i,!1,n):void 0)}))};function Yw(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var Xw=function(e,t,n){return Math.min(Math.max(n,e),t)},$w=.001;function Jw(e){var t,n,r=e.duration,i=void 0===r?800:r,a=e.bounce,o=void 0===a?.25:a,u=e.velocity,s=void 0===u?0:u,c=e.mass,l=void 0===c?1:c,f=1-o;f=Xw(.05,1,f),i=Xw(.01,10,i/1e3),f<1?(t=function(e){var t=e*f,n=t*i,r=t-s,a=Zw(e,f),o=Math.exp(-n);return $w-r/a*o},n=function(e){var n=e*f*i,r=n*s+s,a=Math.pow(f,2)*Math.pow(e,2)*i,o=Math.exp(-n),u=Zw(Math.pow(e,2),f);return(-t(e)+$w>0?-1:1)*((r-a)*o)/u}):(t=function(e){return Math.exp(-e*i)*((e-s)*i+1)-.001},n=function(e){return Math.exp(-e*i)*(i*i*(s-e))});var h=function(e,t,n){for(var r=n,i=1;i<12;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i*=1e3,isNaN(h))return{stiffness:100,damping:10,duration:i};var d=Math.pow(h,2)*l;return{stiffness:d,damping:2*f*Math.sqrt(l*d),duration:i}}function Zw(e,t){return e*Math.sqrt(1-t*t)}var ex=["duration","bounce"],tx=["stiffness","damping","mass"];function nx(e,t){return t.some((function(t){return void 0!==e[t]}))}function rx(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.restSpeed,o=void 0===a?2:a,u=e.restDelta,s=Db(e,["from","to","restSpeed","restDelta"]),c={done:!1,value:n},l=function(e){var t=Nb({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!nx(e,tx)&&nx(e,ex)){var n=Jw(e);(t=Nb(Nb(Nb({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(s),f=l.stiffness,h=l.damping,d=l.mass,p=l.velocity,v=l.duration,m=l.isResolvedFromDuration,y=ix,g=ix;function b(){var e=p?-p/1e3:0,t=i-n,r=h/(2*Math.sqrt(f*d)),a=Math.sqrt(f/d)/1e3;if(null!==u&&void 0!==u||(u=Math.abs(i-n)<=1?.01:.4),r<1){var o=Zw(a,r);y=function(n){var u=Math.exp(-r*a*n);return i-u*((e+r*a*t)/o*Math.sin(o*n)+t*Math.cos(o*n))},g=function(n){var i=Math.exp(-r*a*n);return r*a*i*(Math.sin(o*n)*(e+r*a*t)/o+t*Math.cos(o*n))-i*(Math.cos(o*n)*(e+r*a*t)-o*t*Math.sin(o*n))}}else if(1===r)y=function(n){return i-Math.exp(-a*n)*(t+(e+a*t)*n)};else{var s=a*Math.sqrt(r*r-1);y=function(n){var o=Math.exp(-r*a*n),u=Math.min(s*n,300);return i-o*((e+r*a*t)*Math.sinh(u)+s*t*Math.cosh(u))/s}}}return b(),{next:function(e){var t=y(e);if(m)c.done=e>=v;else{var n=1e3*g(e),r=Math.abs(n)<=o,a=Math.abs(i-t)<=u;c.done=r&&a}return c.value=c.done?i:t,c},flipTarget:function(){var e;p=-p,n=(e=[i,n])[0],i=e[1],b()}}}rx.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var ix=function(e){return 0},ax=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},ox=function(e,t,n){return-n*e+n*t+e},ux=function(e,t){return function(n){return Boolean(Pk(n)&&Ak.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},sx=function(e,t,n){return function(r){var i;if(!Pk(r))return r;var a=r.match(Ik),o=a[0],u=a[1],s=a[2],c=a[3];return(i={})[e]=parseFloat(o),i[t]=parseFloat(u),i[n]=parseFloat(s),i.alpha=void 0!==c?parseFloat(c):1,i}},cx=Tk(0,255),lx=Nb(Nb({},Vk),{transform:function(e){return Math.round(cx(e))}}),fx={test:ux("rgb","red"),parse:sx("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return"rgba("+lx.transform(t)+", "+lx.transform(n)+", "+lx.transform(r)+", "+Sk(jk.transform(a))+")"}};var hx={test:ux("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:fx.transform},dx={test:ux("hsl","hue"),parse:sx("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return"hsla("+Math.round(t)+", "+Ok.transform(Sk(n))+", "+Ok.transform(Sk(r))+", "+Sk(jk.transform(a))+")"}},px=function(e,t,n){var r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},vx=[hx,fx,dx],mx=function(e){return vx.find((function(t){return t.test(e)}))},yx=function(e){return"'"+e+"' is not an animatable color. Use the equivalent color code instead."},gx=function(e,t){var n=mx(e),r=mx(t);yx(e),yx(t),n.transform,r.transform;var i=n.parse(e),a=r.parse(t),o=Nb({},i),u=n===dx?ox:px;return function(e){for(var t in o)"alpha"!==t&&(o[t]=u(i[t],a[t],e));return o.alpha=ox(i.alpha,a.alpha,e),n.transform(o)}},bx={test:function(e){return fx.test(e)||hx.test(e)||dx.test(e)},parse:function(e){return fx.test(e)?fx.parse(e):dx.test(e)?dx.parse(e):hx.parse(e)},transform:function(e){return Pk(e)?e:e.hasOwnProperty("red")?fx.transform(e):dx.transform(e)}},kx="${c}",wx="${n}";function xx(e){var t=[],n=0,r=e.match(Ck);r&&(n=r.length,e=e.replace(Ck,kx),t.push.apply(t,r.map(bx.parse)));var i=e.match(Ik);return i&&(e=e.replace(Ik,wx),t.push.apply(t,i.map(Vk.parse))),{values:t,numColors:n,tokenised:e}}function _x(e){return xx(e).values}function Ex(e){var t=xx(e),n=t.values,r=t.numColors,i=t.tokenised,a=n.length;return function(e){for(var t=i,n=0;n<a;n++)t=t.replace(n<r?kx:wx,n<r?bx.transform(e[n]):Sk(e[n]));return t}}var Tx=function(e){return"number"===typeof e?0:e};var Sx={test:function(e){var t,n,r,i;return isNaN(e)&&Pk(e)&&(null!==(n=null===(t=e.match(Ik))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(i=null===(r=e.match(Ck))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:_x,createTransformer:Ex,getAnimatableNone:function(e){var t=_x(e);return Ex(e)(t.map(Tx))}},Ix=function(e){return"number"===typeof e};function Cx(e,t){return Ix(e)?function(n){return ox(e,t,n)}:bx.test(e)?gx(e,t):Dx(e,t)}var Ax=function(e,t){var n=Rb([],e),r=n.length,i=e.map((function(e,n){return Cx(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},Px=function(e,t){var n=Nb(Nb({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Cx(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function Nx(e){for(var t=Sx.parse(e),n=t.length,r=0,i=0,a=0,o=0;o<n;o++)r||"number"===typeof t[o]?r++:void 0!==t[o].hue?a++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:a}}var Dx=function(e,t){var n=Sx.createTransformer(t),r=Nx(e),i=Nx(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&(r.numNumbers,i.numNumbers),Hw(Ax(r.parsed,i.parsed),n)},Ox=function(e,t){return function(n){return ox(e,t,n)}};function Rx(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?Ox:"string"===typeof e?bx.test(e)?gx:Dx:Array.isArray(e)?Ax:"object"===typeof e?Px:void 0}(e[0]),a=e.length-1,o=0;o<a;o++){var u=i(e[o],e[o+1]);if(t){var s=Array.isArray(t)?t[o]:t;u=Hw(s,u)}r.push(u)}return r}function Mx(e,t,n){var r=void 0===n?{}:n,i=r.clamp,a=void 0===i||i,o=r.ease,u=r.mixer,s=e.length;t.length,!o||!Array.isArray(o)||o.length,e[0]>e[s-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var c=Rx(t,o,u),l=2===s?function(e,t){var n=e[0],r=e[1],i=t[0];return function(e){return i(ax(n,r,e))}}(e,c):function(e,t){var n=e.length,r=n-1;return function(i){var a=0,o=!1;if(i<=e[0]?o=!0:i>=e[r]&&(a=r-1,o=!0),!o){for(var u=1;u<n&&!(e[u]>i||u===r);u++);a=u-1}var s=ax(e[a],e[a+1],i);return t[a](s)}}(e,c);return a?function(t){return l(Xw(e[0],e[s-1],t))}:l}var Lx,Fx=function(e){return function(t){return 1-e(1-t)}},Vx=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},jx=function(e){return function(t){return t*t*((e+1)*t-e)}},Ux=function(e){return e},Bx=(Lx=2,function(e){return Math.pow(e,Lx)}),zx=Fx(Bx),qx=Vx(Bx),Gx=function(e){return 1-Math.sin(Math.acos(e))},Kx=Fx(Gx),Hx=Vx(Kx),Wx=jx(1.525),Qx=Fx(Wx),Yx=Vx(Wx),Xx=function(e){var t=jx(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}(1.525),$x=function(e){if(1===e||0===e)return e;var t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},Jx=Fx($x);function Zx(e,t){return e.map((function(){return t||qx})).splice(0,e.length-1)}function e_(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.ease,o=e.offset,u=e.duration,s=void 0===u?300:u,c={done:!1,value:n},l=Array.isArray(i)?i:[n,i],f=function(e,t){return e.map((function(e){return e*t}))}(o&&o.length===l.length?o:function(e){var t=e.length;return e.map((function(e,n){return 0!==n?n/(t-1):0}))}(l),s);function h(){return Mx(f,l,{ease:Array.isArray(a)?a:Zx(l,a)})}var d=h();return{next:function(e){return c.value=d(e),c.done=e>=s,c},flipTarget:function(){l.reverse(),d=h()}}}var t_={keyframes:e_,spring:rx,decay:function(e){var t=e.velocity,n=void 0===t?0:t,r=e.from,i=void 0===r?0:r,a=e.power,o=void 0===a?.8:a,u=e.timeConstant,s=void 0===u?350:u,c=e.restDelta,l=void 0===c?.5:c,f=e.modifyTarget,h={done:!1,value:i},d=o*n,p=i+d,v=void 0===f?p:f(p);return v!==p&&(d=v-i),{next:function(e){var t=-d*Math.exp(-e/s);return h.done=!(t>l||t<-l),h.value=h.done?v:v+t,h},flipTarget:function(){}}}};var n_=1/60*1e3,r_="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},i_="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(r_())}),n_)};var a_=!0,o_=!1,u_=!1,s_={delta:0,timestamp:0},c_=["read","update","preRender","render","postRender"],l_=c_.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=new WeakSet,o={schedule:function(e,o,u){void 0===o&&(o=!1),void 0===u&&(u=!1);var s=u&&i,c=s?t:n;return o&&a.add(e),-1===c.indexOf(e)&&(c.push(e),s&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),a.delete(e)},process:function(u){var s;if(i=!0,t=(s=[n,t])[0],(n=s[1]).length=0,r=t.length)for(var c=0;c<r;c++){var l=t[c];l(u),a.has(l)&&(o.schedule(l),e())}i=!1}};return o}((function(){return o_=!0})),e}),{}),f_=c_.reduce((function(e,t){var n=l_[t];return e[t]=function(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),o_||m_(),n.schedule(e,t,r)},e}),{}),h_=c_.reduce((function(e,t){return e[t]=l_[t].cancel,e}),{}),d_=c_.reduce((function(e,t){return e[t]=function(){return l_[t].process(s_)},e}),{}),p_=function(e){return l_[e].process(s_)},v_=function e(t){o_=!1,s_.delta=a_?n_:Math.max(Math.min(t-s_.timestamp,40),1),s_.timestamp=t,u_=!0,c_.forEach(p_),u_=!1,o_&&(a_=!1,i_(e))},m_=function(){o_=!0,a_=!0,u_||i_(v_)},y_=function(){return s_},g_=f_;function b_(e,t,n){return void 0===n&&(n=0),e-t-n}var k_=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return g_.update(t,!0)},stop:function(){return h_.update(t)}}};function w_(e){var t,n,r,i,a,o=e.from,u=e.autoplay,s=void 0===u||u,c=e.driver,l=void 0===c?k_:c,f=e.elapsed,h=void 0===f?0:f,d=e.repeat,p=void 0===d?0:d,v=e.repeatType,m=void 0===v?"loop":v,y=e.repeatDelay,g=void 0===y?0:y,b=e.onPlay,k=e.onStop,w=e.onComplete,x=e.onRepeat,_=e.onUpdate,E=Db(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),T=E.to,S=0,I=E.duration,C=!1,A=!0,P=function(e){if(Array.isArray(e.to))return e_;if(t_[e.type])return t_[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?e_:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?rx:e_}(E);(null===(n=(t=P).needsInterpolation)||void 0===n?void 0:n.call(t,o,T))&&(a=Mx([0,100],[o,T],{clamp:!1}),o=0,T=100);var N=P(Nb(Nb({},E),{from:o,to:T}));function D(){S++,"reverse"===m?h=function(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=!0),r?b_(t+-e,t,n):t-(e-t)+n}(h,I,g,A=S%2===0):(h=b_(h,I,g),"mirror"===m&&N.flipTarget()),C=!1,x&&x()}function O(e){if(A||(e=-e),h+=e,!C){var t=N.next(Math.max(0,h));i=t.value,a&&(i=a(i)),C=A?t.done:h<=0}null===_||void 0===_||_(i),C&&(0===S&&(null!==I&&void 0!==I||(I=h)),S<p?function(e,t,n,r){return r?e>=t+n:e<=-n}(h,I,g,A)&&D():(r.stop(),w&&w()))}return s&&(null===b||void 0===b||b(),(r=l(O)).start()),{stop:function(){null===k||void 0===k||k(),r.stop()}}}function x_(e,t){return t?e*(1e3/t):0}var __=function(e){return 1e3*e},E_=function(e,t){return 1-3*t+3*e},T_=function(e,t){return 3*t-6*e},S_=function(e){return 3*e},I_=function(e,t,n){return((E_(t,n)*e+T_(t,n))*e+S_(t))*e},C_=function(e,t,n){return 3*E_(t,n)*e*e+2*T_(t,n)*e+S_(t)};var A_=.1;function P_(e,t,n,r){if(e===t&&n===r)return Ux;for(var i=new Float32Array(11),a=0;a<11;++a)i[a]=I_(a*A_,e,n);function o(t){for(var r=0,a=1;10!==a&&i[a]<=t;++a)r+=A_;--a;var o=r+(t-i[a])/(i[a+1]-i[a])*A_,u=C_(o,e,n);return u>=.001?function(e,t,n,r){for(var i=0;i<8;++i){var a=C_(t,n,r);if(0===a)return t;t-=(I_(t,n,r)-e)/a}return t}(t,o,e,n):0===u?o:function(e,t,n,r,i){var a,o,u=0;do{(a=I_(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>1e-7&&++u<10);return o}(t,r,r+A_,e,n)}return function(e){return 0===e||1===e?e:I_(o(e),t,r)}}var N_={linear:Ux,easeIn:Bx,easeInOut:qx,easeOut:zx,circIn:Gx,circInOut:Hx,circOut:Kx,backIn:Wx,backInOut:Yx,backOut:Qx,anticipate:Xx,bounceIn:Jx,bounceInOut:function(e){return e<.5?.5*(1-$x(1-2*e)):.5*$x(2*e-1)+.5},bounceOut:$x},D_=function(e){if(Array.isArray(e)){e.length;var t=Ob(e,4);return P_(t[0],t[1],t[2],t[3])}return"string"===typeof e?N_[e]:e},O_=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Sx.test(t)||t.startsWith("url(")))},R_=function(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}},M_=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}},L_=function(){return{type:"keyframes",ease:"linear",duration:.3}},F_=function(e){return{type:"keyframes",duration:.8,values:e}},V_={x:R_,y:R_,z:R_,rotate:R_,rotateX:R_,rotateY:R_,rotateZ:R_,scaleX:M_,scaleY:M_,scale:M_,opacity:L_,backgroundColor:L_,color:L_,default:M_},j_=new Set(["brightness","contrast","saturate","opacity"]);function U_(e){var t=e.slice(0,-1).split("("),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=(r.match(Ik)||[])[0];if(!i)return e;var a=r.replace(i,""),o=j_.has(n)?1:0;return i!==r&&(o*=100),n+"("+o+a+")"}var B_=/([a-z-]*)\(.*?\)/g,z_=Nb(Nb({},Sx),{getAnimatableNone:function(e){var t=e.match(B_);return t?t.map(U_).join(" "):e}}),q_=Nb(Nb({},zk),{color:bx,backgroundColor:bx,outlineColor:bx,fill:bx,stroke:bx,borderColor:bx,borderTopColor:bx,borderRightColor:bx,borderBottomColor:bx,borderLeftColor:bx,filter:z_,WebkitFilter:z_}),G_=function(e){return q_[e]};function K_(e,t){var n,r=G_(e);return r!==z_&&(r=Sx),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}function H_(e){var t=e.ease,n=e.times,r=e.yoyo,i=e.flip,a=e.loop,o=Db(e,["ease","times","yoyo","flip","loop"]),u=Nb({},o);return n&&(u.offset=n),o.duration&&(u.duration=__(o.duration)),o.repeatDelay&&(u.repeatDelay=__(o.repeatDelay)),t&&(u.ease=function(e){return Array.isArray(e)&&"number"!==typeof e[0]}(t)?t.map(D_):D_(t)),"tween"===o.type&&(u.type="keyframes"),(r||a||i)&&(!0,r?u.repeatType="reverse":a?u.repeatType="loop":i&&(u.repeatType="mirror"),u.repeat=a||r||i||o.repeat),"spring"!==o.type&&(u.type="keyframes"),u}function W_(e,t,n){var r;return Array.isArray(t.to)&&(null!==(r=e.duration)&&void 0!==r||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=Rb([],Ob(e.to)),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=Db(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=Nb(Nb({},e),function(e,t){var n;return n=pw(t)?F_:V_[e]||V_.default,Nb({to:t},n(t))}(n,t.to))),Nb(Nb({},t),H_(e))}function Q_(e,t,n,r,i){var a,o=$_(r,e),u=null!==(a=o.from)&&void 0!==a?a:t.get(),s=O_(e,n);"none"===u&&s&&"string"===typeof n?u=K_(e,n):Y_(u)&&"string"===typeof n?u=X_(n):!Array.isArray(n)&&Y_(n)&&"string"===typeof u&&(n=X_(u));var c=O_(e,u);return c&&s&&!1!==o.type?function(){var r={from:u,to:n,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===o.type||"decay"===o.type?function(e){var t,n=e.from,r=void 0===n?0:n,i=e.velocity,a=void 0===i?0:i,o=e.min,u=e.max,s=e.power,c=void 0===s?.8:s,l=e.timeConstant,f=void 0===l?750:l,h=e.bounceStiffness,d=void 0===h?500:h,p=e.bounceDamping,v=void 0===p?10:p,m=e.restDelta,y=void 0===m?1:m,g=e.modifyTarget,b=e.driver,k=e.onUpdate,w=e.onComplete;function x(e){return void 0!==o&&e<o||void 0!==u&&e>u}function _(e){return void 0===o?u:void 0===u||Math.abs(o-e)<Math.abs(u-e)?o:u}function E(e){null===t||void 0===t||t.stop(),t=w_(Nb(Nb({},e),{driver:b,onUpdate:function(t){var n;null===k||void 0===k||k(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:w}))}function T(e){E(Nb({type:"spring",stiffness:d,damping:v,restDelta:y},e))}if(x(r))T({from:r,velocity:a,to:_(r)});else{var S=c*a+r;"undefined"!==typeof g&&(S=g(S));var I,C,A=_(S),P=A===o?-1:1;E({type:"decay",from:r,velocity:a,timeConstant:f,power:c,restDelta:y,modifyTarget:g,onUpdate:x(S)?function(e){I=C,C=e,a=x_(e-I,y_().delta),(1===P&&e>A||-1===P&&e<A)&&T({from:e,to:A,velocity:a})}:void 0})}return{stop:function(){return null===t||void 0===t?void 0:t.stop()}}}(Nb(Nb({},r),o)):w_(Nb(Nb({},W_(o,r,e)),{onUpdate:function(e){var t;r.onUpdate(e),null===(t=o.onUpdate)||void 0===t||t.call(o,e)},onComplete:function(){var e;r.onComplete(),null===(e=o.onComplete)||void 0===e||e.call(o)}}))}:function(){var e;return t.set(n),i(),null===(e=null===o||void 0===o?void 0:o.onComplete)||void 0===e||e.call(o),{stop:function(){}}}}function Y_(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function X_(e){return"number"===typeof e?0:K_("",e)}function $_(e,t){return e[t]||e.default||e}function J_(e,t,n,r){return void 0===r&&(r={}),t.start((function(i){var a,o,u=Q_(e,t,n,r,i),s=function(e,t){var n;return null!==(n=($_(e,t)||{}).delay)&&void 0!==n?n:0}(r,e),c=function(){return o=u()};return s?a=setTimeout(c,__(s)):c(),function(){clearTimeout(a),null===o||void 0===o||o.stop()}}))}var Z_=function(e){return/^\-?\d*\.?\d+$/.test(e)};function eE(e,t){-1===e.indexOf(t)&&e.push(t)}function tE(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var nE=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return eE(this.subscriptions,e),function(){return tE(t.subscriptions,e)}},e.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),rE=function(){function e(e){var t,n=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new nE,this.velocityUpdateSubscribers=new nE,this.renderSubscribers=new nE,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),n.prev=n.current,n.current=e;var r=y_(),i=r.delta,a=r.timestamp;n.lastUpdated!==a&&(n.timeDelta=i,n.lastUpdated=a,g_.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),t&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return g_.postRender(n.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t)))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?x_(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function iE(e){return new rE(e)}var aE=function(e){return function(t){return t.test(e)}},oE=[Vk,Rk,Ok,Dk,Lk,Mk,{test:function(e){return"auto"===e},parse:function(e){return e}}],uE=function(e){return oE.find(aE(e))},sE=Rb(Rb([],Ob(oE)),[bx,Sx]),cE=function(e){return sE.find(aE(e))};function lE(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,iE(n))}function fE(e,t){var n=rk(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,a=void 0===i?{}:i;r.transition;var o=Db(r,["transitionEnd","transition"]);for(var u in o=Nb(Nb({},o),a)){lE(e,u,vw(o[u]))}}function hE(e,t){if(t)return(t[e]||t.default||t).from}function dE(e,t,n){var r;void 0===n&&(n={});var i=rk(e,t,n.custom),a=(i||{}).transition,o=void 0===a?e.getDefaultTransition()||{}:a;n.transitionOverride&&(o=n.transitionOverride);var u=i?function(){return pE(e,i,n)}:function(){return Promise.resolve()},s=(null===(r=e.variantChildren)||void 0===r?void 0:r.size)?function(r){void 0===r&&(r=0);var i=o.delayChildren,a=void 0===i?0:i,u=o.staggerChildren,s=o.staggerDirection;return function(e,t,n,r,i,a){void 0===n&&(n=0);void 0===r&&(r=0);void 0===i&&(i=1);var o=[],u=(e.variantChildren.size-1)*r,s=1===i?function(e){return void 0===e&&(e=0),e*r}:function(e){return void 0===e&&(e=0),u-e*r};return Array.from(e.variantChildren).sort(vE).forEach((function(e,r){o.push(dE(e,t,Nb(Nb({},a),{delay:n+s(r)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(o)}(e,t,a+r,u,s,n)}:function(){return Promise.resolve()},c=o.when;if(c){var l=Ob("beforeChildren"===c?[u,s]:[s,u],2),f=l[0],h=l[1];return f().then(h)}return Promise.all([u(),s(n.delay)])}function pE(e,t,n){var r,i=void 0===n?{}:n,a=i.delay,o=void 0===a?0:a,u=i.transitionOverride,s=i.type,c=e.makeTargetAnimatable(t),l=c.transition,f=void 0===l?e.getDefaultTransition():l,h=c.transitionEnd,d=Db(c,["transition","transitionEnd"]);u&&(f=u);var p=[],v=s&&(null===(r=e.animationState)||void 0===r?void 0:r.getState()[s]);for(var m in d){var y=e.getValue(m),g=d[m];if(!(!y||void 0===g||v&&mE(v,m))){var b=J_(m,y,g,Nb({delay:o},f));p.push(b)}}return Promise.all(p).then((function(){h&&fE(e,h)}))}function vE(e,t){return e.sortNodePosition(t)}function mE(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}var yE=[ww.Animate,ww.Hover,ww.Tap,ww.Drag,ww.Focus,ww.Exit],gE=Rb([],Ob(yE)).reverse(),bE=yE.length;function kE(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t,n){var r;if(void 0===n&&(n={}),e.notifyAnimationStart(),Array.isArray(t)){var i=t.map((function(t){return dE(e,t,n)}));r=Promise.all(i)}else if("string"===typeof t)r=dE(e,t,n);else{var a="function"===typeof t?rk(e,t,n.custom):t;r=pE(e,a,n)}return r.then((function(){return e.notifyAnimationComplete(t)}))}(e,n,r)})))}}function wE(e){var t=kE(e),n=function(){var e;return(e={})[ww.Animate]=xE(!0),e[ww.Hover]=xE(),e[ww.Tap]=xE(),e[ww.Drag]=xE(),e[ww.Focus]=xE(),e[ww.Exit]=xE(),e}(),r={},i=!0,a=function(t,n){var r=rk(e,n);if(r){r.transition;var i=r.transitionEnd,a=Db(r,["transition","transitionEnd"]);t=Nb(Nb(Nb({},t),a),i)}return t};function o(o,u){for(var s,c=e.getProps(),l=e.getVariantContext(!0)||{},f=[],h=new Set,d={},p=1/0,v=function(t){var r=gE[t],v=n[r],m=null!==(s=c[r])&&void 0!==s?s:l[r],y=tk(m),g=r===u?v.isActive:null;!1===g&&(p=t);var b=m===l[r]&&m!==c[r]&&y;if(b&&i&&e.manuallyAnimateOnMount&&(b=!1),v.protectedKeys=Nb({},d),!v.isActive&&null===g||!m&&!v.prevProp||dw(m)||"boolean"===typeof m)return"continue";var k=function(e,t){if("string"===typeof t)return t!==e;if(ek(t))return!Yw(t,e);return!1}(v.prevProp,m)||r===u&&v.isActive&&!b&&y||t>p&&y,w=Array.isArray(m)?m:[m],x=w.reduce(a,{});!1===g&&(x={});var _=v.prevResolvedValues,E=void 0===_?{}:_,T=Nb(Nb({},E),x),S=function(e){k=!0,h.delete(e),v.needsAnimating[e]=!0};for(var I in T){var C=x[I],A=E[I];d.hasOwnProperty(I)||(C!==A?pw(C)&&pw(A)?Yw(C,A)?v.protectedKeys[I]=!0:S(I):void 0!==C?S(I):h.add(I):void 0!==C&&h.has(I)?S(I):v.protectedKeys[I]=!0)}v.prevProp=m,v.prevResolvedValues=x,v.isActive&&(d=Nb(Nb({},d),x)),i&&e.blockInitialAnimation&&(k=!1),k&&!b&&f.push.apply(f,Rb([],Ob(w.map((function(e){return{animation:e,options:Nb({type:r},o)}})))))},m=0;m<bE;m++)v(m);if(r=Nb({},d),h.size){var y={};h.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(y[t]=n)})),f.push({animation:y})}var g=Boolean(f.length);return i&&!1===c.initial&&!e.manuallyAnimateOnMount&&(g=!1),i=!1,g?t(f):Promise.resolve()}return{isAnimated:function(e){return void 0!==r[e]},animateChanges:o,setActive:function(t,r,i){var a;return n[t].isActive===r?Promise.resolve():(null===(a=e.variantChildren)||void 0===a||a.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r,o(i,t))},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function xE(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var _E={animation:Ww((function(e){var n=e.visualElement,r=e.animate;n.animationState||(n.animationState=wE(n)),dw(r)&&(0,t.useEffect)((function(){return r.subscribe(n)}),[r])})),exit:Ww((function(e){var n=e.custom,r=e.visualElement,i=Ob(Gb(),2),a=i[0],o=i[1],u=(0,t.useContext)(zb);(0,t.useEffect)((function(){var e,t,i=null===(e=r.animationState)||void 0===e?void 0:e.setActive(ww.Exit,!a,{custom:null!==(t=null===u||void 0===u?void 0:u.custom)&&void 0!==t?t:n});!a&&(null===i||void 0===i||i.then(o))}),[a])}))},EE=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},TE=function(e){return EE(e)&&e.hasOwnProperty("z")},SE=function(e,t){return Math.abs(e-t)};function IE(e,t){if(Ix(e)&&Ix(t))return SE(e,t);if(EE(e)&&EE(t)){var n=SE(e.x,t.x),r=SE(e.y,t.y),i=TE(e)&&TE(t)?SE(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}var CE=function(){function e(e,t,n){var r=this,i=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=NE(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=IE(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=y_().timestamp;r.history.push(Nb(Nb({},i),{timestamp:a}));var o=r.handlers,u=o.onStart,s=o.onMove;t||(u&&u(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),s&&s(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=AE(t,r.transformPagePoint),Tw(e)&&0===e.buttons?r.handlePointerUp(e,t):g_.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,i=n.onEnd,a=n.onSessionEnd,o=NE(AE(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,o),a&&a(e,o)},!(Sw(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=i;var a=AE(Pw(e),this.transformPagePoint),o=a.point,u=y_().timestamp;this.history=[Nb(Nb({},o),{timestamp:u})];var s=t.onSessionStart;s&&s(e,NE(a,this.history)),this.removeListeners=Hw(Mw(window,"pointermove",this.handlePointerMove),Mw(window,"pointerup",this.handlePointerUp),Mw(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),h_.update(this.updatePoint)},e}();function AE(e,t){return t?{point:t(e.point)}:e}function PE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function NE(e,t){var n=e.point;return{point:n,delta:PE(n,OE(t)),offset:PE(n,DE(t)),velocity:RE(t,.1)}}function DE(e){return e[0]}function OE(e){return e[e.length-1]}function RE(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=OE(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>__(t)));)n--;if(!r)return{x:0,y:0};var a=(i.timestamp-r.timestamp)/1e3;if(0===a)return{x:0,y:0};var o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ME(e){return e}function LE(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}var FE={translate:0,scale:1,origin:0,originPoint:0};function VE(){return{x:Nb({},FE),y:Nb({},FE)}}function jE(e){return[e("x"),e("y")]}function UE(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?ox(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?ox(i,e,n.max):Math.min(e,i)),e}function BE(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function zE(e,t){var n,r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=(n=Ob([i,r],2))[0],i=n[1]),{min:e.min+r,max:e.min+i}}function qE(e,t,n){return{min:GE(e,t),max:GE(e,n)}}function GE(e,t){var n;return"number"===typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function KE(e,t){return LE(function(e,t){var n=e.top,r=e.left,i=e.bottom,a=e.right;void 0===t&&(t=ME);var o=t({x:r,y:n}),u=t({x:a,y:i});return{top:o.y,left:o.x,bottom:u.y,right:u.x}}(e.getBoundingClientRect(),t))}function HE(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=.01),IE(e,t)<n}function WE(e){return e.max-e.min}function QE(e,t){var n=.5,r=WE(e),i=WE(t);return i>r?n=ax(t.min,t.max-r,e.min):r>i&&(n=ax(e.min,e.max-i,t.min)),function(e){return Xw(0,1,e)}(n)}function YE(e,t,n,r){void 0===r&&(r=.5),e.origin=r,e.originPoint=ox(t.min,t.max,e.origin),e.scale=WE(n)/WE(t),HE(e.scale,1,1e-4)&&(e.scale=1),e.translate=ox(n.min,n.max,e.origin)-e.originPoint,HE(e.translate)&&(e.translate=0)}function XE(e,t,n,r){YE(e.x,t.x,n.x,$E(r.originX)),YE(e.y,t.y,n.y,$E(r.originY))}function $E(e){return"number"===typeof e?e:.5}function JE(e,t,n){e.min=n.min+t.min,e.max=e.min+WE(t)}var ZE=function(e,t){return e.depth-t.depth};function eT(e){return e.projection.isEnabled||e.shouldResetTransform()}function tT(e,t){void 0===t&&(t=[]);var n=e.parent;return n&&tT(n,t),eT(e)&&t.push(e),t}function nT(e){if(!e.shouldResetTransform()){var t,n=e.getLayoutState();e.notifyBeforeLayoutMeasure(n.layout),n.isHydrated=!0,n.layout=e.measureViewportBox(),n.layoutCorrected=(t=n.layout,{x:Nb({},t.x),y:Nb({},t.y)}),e.notifyLayoutMeasure(n.layout,e.prevViewportBox||n.layout),g_.update((function(){return e.rebaseProjectionTarget()}))}}function rT(e,t){return{min:t.min-e.min,max:t.max-e.min}}function iT(e,t){return{x:rT(e.x,t.x),y:rT(e.y,t.y)}}function aT(e,t){var n=e.getLayoutId(),r=t.getLayoutId();return n!==r||void 0===r&&e!==t}function oT(e){var t=e.getProps(),n=t.drag,r=t._dragX;return n&&!r}function uT(e,t){e.min=t.min,e.max=t.max}function sT(e,t,n){return n+t*(e-n)}function cT(e,t,n,r,i){return void 0!==i&&(e=sT(e,i,r)),sT(e,n,r)+t}function lT(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),e.min=cT(e.min,t,n,r,i),e.max=cT(e.max,t,n,r,i)}function fT(e,t){var n=t.x,r=t.y;lT(e.x,n.translate,n.scale,n.originPoint),lT(e.y,r.translate,r.scale,r.originPoint)}function hT(e,t,n,r){var i=Ob(r,3),a=i[0],o=i[1],u=i[2];e.min=t.min,e.max=t.max;var s=void 0!==n[u]?n[u]:.5,c=ox(t.min,t.max,s);lT(e,n[a],n[o],c,n.scale)}var dT=["x","scaleX","originX"],pT=["y","scaleY","originY"];function vT(e,t,n){hT(e.x,t.x,n,dT),hT(e.y,t.y,n,pT)}function mT(e,t,n,r,i){return e=sT(e-=t,1/n,r),void 0!==i&&(e=sT(e,1/i,r)),e}function yT(e,t,n){var r=Ob(n,3),i=r[0],a=r[1],o=r[2];!function(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5);var a=ox(e.min,e.max,r)-t;e.min=mT(e.min,t,n,a,i),e.max=mT(e.max,t,n,a,i)}(e,t[i],t[a],t[o],t.scale)}function gT(e,t){yT(e.x,t,dT),yT(e.y,t,pT)}var bT=new Set;function kT(e,t,n){e[n]||(e[n]=[]),e[n].push(t)}function wT(e){return bT.add(e),function(){return bT.delete(e)}}function xT(){if(bT.size){var e=0,t=[[]],n=[],r=function(n){return kT(t,n,e)},i=function(t){kT(n,t,e),e++};bT.forEach((function(t){t(r,i),e=0})),bT.clear();for(var a=n.length,o=0;o<=a;o++)t[o]&&t[o].forEach(ET),n[o]&&n[o].forEach(ET)}}var _T,ET=function(e){return e()},TT=new WeakMap,ST=function(){function e(e){var t=e.visualElement;this.isDragging=!1,this.currentDirection=null,this.constraints=!1,this.elastic={x:{min:0,max:1},y:{min:0,max:1}},this.props={},this.hasMutatedConstraints=!1,this.cursorProgress={x:.5,y:.5},this.originPoint={},this.openGlobalLock=null,this.panSession=null,this.visualElement=t,this.visualElement.enableLayoutProjection(),TT.set(t,this)}return e.prototype.start=function(e,t){var n=this,r=void 0===t?{}:t,i=r.snapToCursor,a=void 0!==i&&i,o=r.cursorProgress,u=this.props.transformPagePoint;this.panSession=new CE(e,{onSessionStart:function(e){var t;n.stopMotion();var r=function(e){return Pw(e,"client")}(e).point;null===(t=n.cancelLayout)||void 0===t||t.call(n),n.cancelLayout=wT((function(e,t){var i=tT(n.visualElement),u=function(e){var t=[];return e.children.forEach((function e(n){eT(n)&&t.push(n),n.children.forEach(e)})),t.sort(ZE)}(n.visualElement),s=Rb(Rb([],Ob(i)),Ob(u)),c=!1;n.isLayoutDrag()&&n.visualElement.lockProjectionTarget(),t((function(){s.forEach((function(e){return e.resetTransform()}))})),e((function(){nT(n.visualElement),u.forEach(nT)})),t((function(){s.forEach((function(e){return e.restoreTransform()})),a&&(c=n.snapToCursor(r))})),e((function(){Boolean(n.getAxisMotionValue("x")&&!n.isExternalDrag())||n.visualElement.rebaseProjectionTarget(!0,n.visualElement.measureViewportBox(!1)),n.visualElement.scheduleUpdateLayoutProjection();var e=n.visualElement.projection;jE((function(t){if(!c){var i=e.target[t],a=i.min,u=i.max;n.cursorProgress[t]=o?o[t]:ax(a,u,r[t])}var s=n.getAxisMotionValue(t);s&&(n.originPoint[t]=s.get())}))})),t((function(){d_.update(),d_.preRender(),d_.render(),d_.postRender()})),e((function(){return n.resolveDragConstraints()}))}))},onStart:function(e,t){var r,i,a,o=n.props,u=o.drag,s=o.dragPropagation;(!u||s||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=Uw(u),n.openGlobalLock))&&(xT(),n.isDragging=!0,n.currentDirection=null,null===(i=(r=n.props).onDragStart)||void 0===i||i.call(r,e,t),null===(a=n.visualElement.animationState)||void 0===a||a.setActive(ww.Drag,!0))},onMove:function(e,t){var r,i,a,o,u=n.props,s=u.dragPropagation,c=u.dragDirectionLock;if(s||n.openGlobalLock){var l=t.offset;if(c&&null===n.currentDirection)return n.currentDirection=function(e,t){void 0===t&&(t=10);var n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(l),void(null!==n.currentDirection&&(null===(i=(r=n.props).onDirectionLock)||void 0===i||i.call(r,n.currentDirection)));n.updateAxis("x",t.point,l),n.updateAxis("y",t.point,l),null===(o=(a=n.props).onDrag)||void 0===o||o.call(a,e,t),_T=e}},onSessionEnd:function(e,t){return n.stop(e,t)}},{transformPagePoint:u})},e.prototype.resolveDragConstraints=function(){var e=this,t=this.props,n=t.dragConstraints,r=t.dragElastic,i=this.visualElement.getLayoutState().layoutCorrected;this.constraints=!!n&&(Zb(n)?this.resolveRefConstraints(i,n):function(e,t){var n=t.top,r=t.left,i=t.bottom,a=t.right;return{x:BE(e.x,r,a),y:BE(e.y,n,i)}}(i,n)),this.elastic=function(e){return!1===e?e=0:!0===e&&(e=.35),{x:qE(e,"left","right"),y:qE(e,"top","bottom")}}(r),this.constraints&&!this.hasMutatedConstraints&&jE((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i[t],e.constraints[t]))}))},e.prototype.resolveRefConstraints=function(e,t){var n=this.props,r=n.onMeasureDragConstraints,i=n.transformPagePoint,a=t.current;this.constraintsBox=KE(a,i);var o=function(e,t){return{x:zE(e.x,t.x),y:zE(e.y,t.y)}}(e,this.constraintsBox);if(r){var u=r(function(e){var t=e.x,n=e.y;return{top:n.min,bottom:n.max,left:t.min,right:t.max}}(o));this.hasMutatedConstraints=!!u,u&&(o=LE(u))}return o},e.prototype.cancelDrag=function(){var e,t;this.visualElement.unlockProjectionTarget(),null===(e=this.cancelLayout)||void 0===e||e.call(this),this.isDragging=!1,this.panSession&&this.panSession.end(),this.panSession=null,!this.props.dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(ww.Drag,!1)},e.prototype.stop=function(e,t){var n,r,i;null===(n=this.panSession)||void 0===n||n.end(),this.panSession=null;var a=this.isDragging;if(this.cancelDrag(),a){var o=t.velocity;this.animateDragEnd(o),null===(i=(r=this.props).onDragEnd)||void 0===i||i.call(r,e,t)}},e.prototype.snapToCursor=function(e){var t=this;return jE((function(n){if(IT(n,t.props.drag,t.currentDirection)){var r=t.getAxisMotionValue(n);if(!r)return t.cursorProgress[n]=.5,!0;var i=t.visualElement.getLayoutState().layout,a=i[n].max-i[n].min,o=i[n].min+a/2,u=e[n]-o;t.originPoint[n]=e[n],r.set(u)}})).includes(!0)},e.prototype.updateAxis=function(e,t,n){if(IT(e,this.props.drag,this.currentDirection))return this.getAxisMotionValue(e)?this.updateAxisMotionValue(e,n):this.updateVisualElementAxis(e,t)},e.prototype.updateAxisMotionValue=function(e,t){var n=this.getAxisMotionValue(e);if(t&&n){var r=this.originPoint[e]+t[e],i=this.constraints?UE(r,this.constraints[e],this.elastic[e]):r;n.set(i)}},e.prototype.updateVisualElementAxis=function(e,t){var n,r=this.visualElement.getLayoutState().layout[e],i=r.max-r.min,a=this.cursorProgress[e],o=function(e,t,n,r,i){var a=e-t*n;return r?UE(a,r,i):a}(t[e],i,a,null===(n=this.constraints)||void 0===n?void 0:n[e],this.elastic[e]);this.visualElement.setProjectionTargetAxis(e,o,o+i)},e.prototype.setProps=function(e){var t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,a=e.dragPropagation,o=void 0!==a&&a,u=e.dragConstraints,s=void 0!==u&&u,c=e.dragElastic,l=void 0===c?.35:c,f=e.dragMomentum,h=void 0===f||f,d=Db(e,["drag","dragDirectionLock","dragPropagation","dragConstraints","dragElastic","dragMomentum"]);this.props=Nb({drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:s,dragElastic:l,dragMomentum:h},d)},e.prototype.getAxisMotionValue=function(e){var t=this.props,n=t.layout,r=t.layoutId,i="_drag"+e.toUpperCase();return this.props[i]?this.props[i]:n||void 0!==r?void 0:this.visualElement.getValue(e,0)},e.prototype.isLayoutDrag=function(){return!this.getAxisMotionValue("x")},e.prototype.isExternalDrag=function(){var e=this.props,t=e._dragX,n=e._dragY;return t||n},e.prototype.animateDragEnd=function(e){var t=this,n=this.props,r=n.drag,i=n.dragMomentum,a=n.dragElastic,o=n.dragTransition,u=function(e,t){void 0===t&&(t=!0);var n,r=e.getProjectionParent();return!!r&&(t?gT(n=iT(r.projection.target,e.projection.target),r.getLatestValues()):n=iT(r.getLayoutState().layout,e.getLayoutState().layout),jE((function(t){return e.setProjectionTargetAxis(t,n[t].min,n[t].max,!0)})),!0)}(this.visualElement,this.isLayoutDrag()&&!this.isExternalDrag()),s=this.constraints||{};if(u&&Object.keys(s).length&&this.isLayoutDrag()){var c=this.visualElement.getProjectionParent();if(c){var l=iT(c.projection.targetFinal,s);jE((function(e){var t=l[e],n=t.min,r=t.max;s[e]={min:isNaN(n)?void 0:n,max:isNaN(r)?void 0:r}}))}}var f=jE((function(n){var c;if(IT(n,r,t.currentDirection)){var l=null!==(c=null===s||void 0===s?void 0:s[n])&&void 0!==c?c:{},f=a?200:1e6,h=a?40:1e7,d=Nb(Nb({type:"inertia",velocity:i?e[n]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},o),l);return t.getAxisMotionValue(n)?t.startAxisValueAnimation(n,d):t.visualElement.startLayoutAnimation(n,d,u)}}));return Promise.all(f).then((function(){var e,n;null===(n=(e=t.props).onDragTransitionEnd)||void 0===n||n.call(e)}))},e.prototype.stopMotion=function(){var e=this;jE((function(t){var n=e.getAxisMotionValue(t);n?n.stop():e.visualElement.stopLayoutAnimation()}))},e.prototype.startAxisValueAnimation=function(e,t){var n=this.getAxisMotionValue(e);if(n){var r=n.get();return n.set(r),n.set(r),J_(e,n,0,t)}},e.prototype.scalePoint=function(){var e=this,t=this.props,n=t.drag;if(Zb(t.dragConstraints)&&this.constraintsBox){this.stopMotion();var r={x:0,y:0};jE((function(t){r[t]=QE(e.visualElement.projection.target[t],e.constraintsBox[t])})),this.updateConstraints((function(){jE((function(t){if(IT(t,n,null)){var i=function(e,t,n){var r=e.max-e.min,i=ox(t.min,t.max-r,n);return{min:i,max:i+r}}(e.visualElement.projection.target[t],e.constraintsBox[t],r[t]),a=i.min,o=i.max;e.visualElement.setProjectionTargetAxis(t,a,o)}}))})),setTimeout(xT,1)}},e.prototype.updateConstraints=function(e){var t=this;this.cancelLayout=wT((function(n,r){var i=tT(t.visualElement);r((function(){return i.forEach((function(e){return e.resetTransform()}))})),n((function(){return nT(t.visualElement)})),r((function(){return i.forEach((function(e){return e.restoreTransform()}))})),n((function(){t.resolveDragConstraints()})),e&&r(e)}))},e.prototype.mount=function(e){var t=this,n=Mw(e.getInstance(),"pointerdown",(function(e){var n=t.props,r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=_w(window,"resize",(function(){t.scalePoint()})),i=e.onLayoutUpdate((function(){t.isDragging&&t.resolveDragConstraints()})),a=e.prevDragCursor;return a&&this.start(_T,{cursorProgress:a}),function(){null===n||void 0===n||n(),null===r||void 0===r||r(),null===i||void 0===i||i(),t.cancelDrag()}},e}();function IT(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var CT,AT,PT={pan:Ww((function(e){var n=e.onPan,r=e.onPanStart,i=e.onPanEnd,a=e.onPanSessionStart,o=e.visualElement,u=n||r||i||a,s=(0,t.useRef)(null),c=(0,t.useContext)(Ub).transformPagePoint,l={onSessionStart:a,onStart:r,onMove:n,onEnd:function(e,t){s.current=null,i&&i(e,t)}};(0,t.useEffect)((function(){null!==s.current&&s.current.updateHandlers(l)})),Lw(o,"pointerdown",u&&function(e){s.current=new CE(e,l,{transformPagePoint:c})}),Gw((function(){return s.current&&s.current.end()}))})),drag:Ww((function(e){var n=e.dragControls,r=e.visualElement,i=(0,t.useContext)(Ub).transformPagePoint,a=qb((function(){return new ST({visualElement:r})}));a.setProps(Nb(Nb({},e),{transformPagePoint:i})),(0,t.useEffect)((function(){return n&&n.subscribe(a)}),[a]),(0,t.useEffect)((function(){return a.mount(r)}),[])}))};function NT(e){return"string"===typeof e&&e.startsWith("var(--")}!function(e){e[e.Entering=0]="Entering",e[e.Present=1]="Present",e[e.Exiting=2]="Exiting"}(CT||(CT={})),function(e){e[e.Hide=0]="Hide",e[e.Show=1]="Show"}(AT||(AT={}));var DT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function OT(e,t,n){void 0===n&&(n=1);var r=Ob(function(e){var t=DT.exec(e);if(!t)return[,];var n=Ob(t,3);return[n[1],n[2]]}(e),2),i=r[0],a=r[1];if(i){var o=window.getComputedStyle(t).getPropertyValue(i);return o?o.trim():NT(a)?OT(a,t,n+1):a}}function RT(e,t){return e/(t.max-t.min)*100}var MT="_$css";var LT={process:function(e,t,n){var r=n.target;if("string"===typeof e){if(!Rk.test(e))return e;e=parseFloat(e)}return RT(e,r.x)+"% "+RT(e,r.y)+"%"}},FT={borderRadius:Nb(Nb({},LT),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:LT,borderTopRightRadius:LT,borderBottomLeftRadius:LT,borderBottomRightRadius:LT,boxShadow:{process:function(e,t){var n=t.delta,r=t.treeScale,i=e,a=e.includes("var("),o=[];a&&(e=e.replace(DT,(function(e){return o.push(e),MT})));var u=Sx.parse(e);if(u.length>5)return i;var s=Sx.createTransformer(e),c="number"!==typeof u[0]?1:0,l=n.x.scale*r.x,f=n.y.scale*r.y;u[0+c]/=l,u[1+c]/=f;var h=ox(l,f,.5);"number"===typeof u[2+c]&&(u[2+c]/=h),"number"===typeof u[3+c]&&(u[3+c]/=h);var d=s(u);if(a){var p=0;d=d.replace(MT,(function(){var e=o[p];return p++,e}))}return d}}},VT=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.frameTarget={x:{min:0,max:1},y:{min:0,max:1}},t.currentAnimationTarget={x:{min:0,max:1},y:{min:0,max:1}},t.isAnimating={x:!1,y:!1},t.stopAxisAnimation={x:void 0,y:void 0},t.isAnimatingTree=!1,t.animate=function(e,n,r){void 0===r&&(r={});var i=r.originBox,a=r.targetBox,o=r.visibilityAction,u=r.shouldStackAnimate,s=r.onComplete,c=r.prevParent,l=Db(r,["originBox","targetBox","visibilityAction","shouldStackAnimate","onComplete","prevParent"]),f=t.props,h=f.visualElement,d=f.layout;if(!1===u)return t.isAnimatingTree=!1,t.safeToRemove();if(!t.isAnimatingTree||!0===u){u&&(t.isAnimatingTree=!0),n=i||n,e=a||e;var p=!1,v=h.getProjectionParent();if(v){var m=v.prevViewportBox,y=v.getLayoutState().layout;c&&(a&&(y=c.getLayoutState().layout),i&&!aT(c,v)&&c.prevViewportBox&&(m=c.prevViewportBox)),m&&GT(c,i,a)&&(p=!0,n=iT(m,n),e=iT(y,e))}var g=jT(n,e),b=jE((function(r){var i,a;if("position"===d){var u=e[r].max-e[r].min;n[r].max=n[r].min+u}if(!h.projection.isTargetLocked)return void 0===o?g?t.animateAxis(r,e[r],n[r],Nb(Nb({},l),{isRelative:p})):(null===(a=(i=t.stopAxisAnimation)[r])||void 0===a||a.call(i),h.setProjectionTargetAxis(r,e[r].min,e[r].max,p)):void h.setVisibility(o===AT.Show)}));return h.syncRender(),Promise.all(b).then((function(){t.isAnimatingTree=!1,s&&s(),h.notifyLayoutAnimationComplete()}))}},t}return Pb(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.visualElement;t.animateMotionValue=J_,t.enableLayoutProjection(),this.unsubLayoutReady=t.onLayoutUpdate(this.animate),t.layoutSafeToRemove=function(){return e.safeToRemove()},function(e){for(var t in e)hk[t]=e[t]}(FT)},t.prototype.componentWillUnmount=function(){var e=this;this.unsubLayoutReady(),jE((function(t){var n,r;return null===(r=(n=e.stopAxisAnimation)[t])||void 0===r?void 0:r.call(n)}))},t.prototype.animateAxis=function(e,t,n,r){var i,a,o=this,u=void 0===r?{}:r,s=u.transition,c=u.isRelative;if(!this.isAnimating[e]||!zT(t,this.currentAnimationTarget[e])){null===(a=(i=this.stopAxisAnimation)[e])||void 0===a||a.call(i),this.isAnimating[e]=!0;var l=this.props.visualElement,f=this.frameTarget[e],h=l.getProjectionAnimationProgress()[e];h.clearListeners(),h.set(0),h.set(0);var d=function(){var r=h.get()/1e3;!function(e,t,n,r){e.min=ox(t.min,n.min,r),e.max=ox(t.max,n.max,r)}(f,n,t,r),l.setProjectionTargetAxis(e,f.min,f.max,c)};d();var p=h.onChange(d);this.stopAxisAnimation[e]=function(){o.isAnimating[e]=!1,h.stop(),p()},this.currentAnimationTarget[e]=t;var v=s||l.getDefaultTransition()||qT;return J_("x"===e?"layoutX":"layoutY",h,1e3,v&&$_(v,"layout")).then(this.stopAxisAnimation[e])}},t.prototype.safeToRemove=function(){var e,t;null===(t=(e=this.props).safeToRemove)||void 0===t||t.call(e)},t.prototype.render=function(){return null},t}(t.Component);function jT(e,t){return!BT(e)&&!BT(t)&&(!zT(e.x,t.x)||!zT(e.y,t.y))}var UT={min:0,max:0};function BT(e){return zT(e.x,UT)&&zT(e.y,UT)}function zT(e,t){return e.min===t.min&&e.max===t.max}var qT={duration:.45,ease:[.4,0,.1,1]};function GT(e,t,n){return e||!e&&!(t||n)}var KT={layoutReady:function(e){return e.notifyLayoutReady()}};function HT(){var e=new Set;return{add:function(t){return e.add(t)},flush:function(t){var n=void 0===t?KT:t,r=n.layoutReady,i=n.parent;wT((function(t,n){var a=Array.from(e).sort(ZE),o=i?tT(i):[];n((function(){Rb(Rb([],Ob(o)),Ob(a)).forEach((function(e){return e.resetTransform()}))})),t((function(){a.forEach(nT)})),n((function(){o.forEach((function(e){return e.restoreTransform()})),a.forEach(r)})),t((function(){a.forEach((function(e){e.isPresent&&(e.presence=CT.Present)}))})),n((function(){d_.preRender(),d_.render()})),t((function(){g_.postRender((function(){return a.forEach(WT)})),e.clear()}))})),xT()}}}function WT(e){e.prevViewportBox=e.projection.target}var QT=(0,t.createContext)(HT()),YT=(0,t.createContext)(HT());function XT(e){return!!e.forceUpdate}var $T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pb(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.syncLayout,n=e.framerSyncLayout,r=e.visualElement;XT(t)&&t.register(r),XT(n)&&n.register(r),r.onUnmount((function(){XT(t)&&t.remove(r),XT(n)&&n.remove(r)}))},t.prototype.getSnapshotBeforeUpdate=function(){var e=this.props,t=e.syncLayout,n=e.visualElement;return XT(t)?t.syncUpdate():(!function(e){e.shouldResetTransform()||(e.prevViewportBox=e.measureViewportBox(!1),e.rebaseProjectionTarget(!1,e.prevViewportBox))}(n),t.add(n)),null},t.prototype.componentDidUpdate=function(){var e=this.props.syncLayout;XT(e)||e.flush()},t.prototype.render=function(){return null},t}(t.Component);var JT={measureLayout:function(e){var n=(0,t.useContext)(QT),r=(0,t.useContext)(YT);return t.createElement($T,Nb({},e,{syncLayout:n,framerSyncLayout:r}))},layoutAnimation:function(e){var n=Ob(Gb(),2)[1];return t.createElement(VT,Nb({},e,{safeToRemove:n}))}};function ZT(){return{isHydrated:!1,layout:{x:{min:0,max:1},y:{min:0,max:1}},layoutCorrected:{x:{min:0,max:1},y:{min:0,max:1}},treeScale:{x:1,y:1},delta:VE(),deltaFinal:VE(),deltaTransform:""}}var eS=ZT();function tS(e,t,n){var r=e.x,i=e.y,a="translate3d("+r.translate/t.x+"px, "+i.translate/t.y+"px, 0) ";if(n){var o=n.rotate,u=n.rotateX,s=n.rotateY;o&&(a+="rotate("+o+") "),u&&(a+="rotateX("+u+") "),s&&(a+="rotateY("+s+") ")}return a+="scale("+r.scale+", "+i.scale+")",n||a!==rS?a:""}function nS(e){var t=e.deltaFinal;return 100*t.x.origin+"% "+100*t.y.origin+"% 0"}var rS=tS(eS.delta,eS.treeScale,{x:1,y:1}),iS=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"];function aS(e,t,n,r){var i,a,o=e.delta,u=e.layout,s=e.layoutCorrected,c=e.treeScale,l=t.target;a=u,uT((i=s).x,a.x),uT(i.y,a.y),function(e,t,n){var r=n.length;if(r){var i,a;t.x=t.y=1;for(var o=0;o<r;o++)a=(i=n[o]).getLayoutState().delta,t.x*=a.x.scale,t.y*=a.y.scale,fT(e,a),oT(i)&&vT(e,e,i.getLatestValues())}}(s,c,n),XE(o,s,l,r)}var oS=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){eE(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){tE(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(ZE),this.isDirty=!1,this.children.forEach(e)},e}();var uS=function(e){var t=e.treeType,n=void 0===t?"":t,r=e.build,i=e.getBaseTarget,a=e.makeTargetAnimatable,o=e.measureViewportBox,u=e.render,s=e.readValueFromInstance,c=e.resetTransform,l=e.restoreTransform,f=e.removeValueFromRenderState,h=e.sortNodePosition,d=e.scrapeMotionValuesFromProps;return function(e,t){var p=e.parent,v=e.props,m=e.presenceId,y=e.blockInitialAnimation,g=e.visualState;void 0===t&&(t={});var b,k,w,x,_,E,T=g.latestValues,S=g.renderState,I=function(){var e=iS.map((function(){return new nE})),t={},n={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){return iS.forEach((function(r){var i;null===(i=t[r])||void 0===i||i.call(t);var a="on"+r,o=e[a];o&&(t[r]=n[a](o))}))}};return e.forEach((function(e,t){n["on"+iS[t]]=function(t){return e.add(t)},n["notify"+iS[t]]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.notify.apply(e,Rb([],Ob(t)))}})),n}(),C={isEnabled:!1,isHydrated:!1,isTargetLocked:!1,target:{x:{min:0,max:1},y:{min:0,max:1}},targetFinal:{x:{min:0,max:1},y:{min:0,max:1}}},A=C,P=T,N=ZT(),D=!1,O=new Map,R=new Map,M={},L=Nb({},T);function F(){b&&(H.isProjectionReady()&&(vT(A.targetFinal,A.target,P),XE(N.deltaFinal,N.layoutCorrected,A.targetFinal,T)),V(),u(b,S))}function V(){var e=T;if(x&&x.isActive()){var n=x.getCrossfadeState(H);n&&(e=n)}r(H,S,e,A,N,t,v)}function j(){I.notifyUpdate(T)}function U(){H.layoutTree.forEach(cS)}var B=d(v);for(var z in B){var q=B[z];void 0!==T[z]&&wk(q)&&q.set(T[z],!1)}var G=ik(v),K=ak(v),H=Nb(Nb({treeType:n,current:null,depth:p?p.depth+1:0,parent:p,children:new Set,path:p?Rb(Rb([],Ob(p.path)),[p]):[],layoutTree:p?p.layoutTree:new oS,presenceId:m,projection:C,variantChildren:K?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null===p||void 0===p?void 0:p.isMounted()),blockInitialAnimation:y,isMounted:function(){return Boolean(b)},mount:function(e){b=H.current=e,H.pointTo(H),K&&p&&!G&&(E=null===p||void 0===p?void 0:p.addVariantChild(H)),null===p||void 0===p||p.children.add(H)},unmount:function(){h_.update(j),h_.render(F),h_.preRender(H.updateLayoutProjection),R.forEach((function(e){return e()})),H.stopLayoutAnimation(),H.layoutTree.remove(H),null===E||void 0===E||E(),null===p||void 0===p||p.children.delete(H),null===w||void 0===w||w(),I.clearAllListeners()},addVariantChild:function(e){var t,n=H.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return h&&n===e.treeType?h(H.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return K?H:null===p||void 0===p?void 0:p.getClosestVariantNode()},scheduleUpdateLayoutProjection:p?p.scheduleUpdateLayoutProjection:function(){return g_.preRender(H.updateTreeLayoutProjection,!1,!0)},getLayoutId:function(){return v.layoutId},getInstance:function(){return b},getStaticValue:function(e){return T[e]},setStaticValue:function(e,t){return T[e]=t},getLatestValues:function(){return T},setVisibility:function(e){H.isVisible!==e&&(H.isVisible=e,H.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),a(H,e,v,t)},addValue:function(e,t){H.hasValue(e)&&H.removeValue(e),O.set(e,t),T[e]=t.get(),function(e,t){var n=t.onChange((function(t){T[e]=t,v.onUpdate&&g_.update(j,!1,!0)})),r=t.onRenderRequest(H.scheduleRender);R.set(e,(function(){n(),r()}))}(e,t)},removeValue:function(e){var t;O.delete(e),null===(t=R.get(e))||void 0===t||t(),R.delete(e),delete T[e],f(e,S)},hasValue:function(e){return O.has(e)},getValue:function(e,t){var n=O.get(e);return void 0===n&&void 0!==t&&(n=iE(t),H.addValue(e,n)),n},forEachValue:function(e){return O.forEach(e)},readValue:function(e){var n;return null!==(n=T[e])&&void 0!==n?n:s(b,e,t)},setBaseTarget:function(e,t){L[e]=t},getBaseTarget:function(e){if(i){var t=i(v,e);if(void 0!==t&&!wk(t))return t}return L[e]}},I),{build:function(){return V(),S},scheduleRender:function(){g_.render(F,!1,!0)},syncRender:F,setProps:function(e){v=e,I.updatePropListeners(e),M=function(e,t,n){var r;for(var i in t){var a=t[i],o=n[i];if(wk(a))e.addValue(i,a);else if(wk(o))e.addValue(i,iE(a));else if(o!==a)if(e.hasValue(i)){var u=e.getValue(i);!u.hasAnimated&&u.set(a)}else e.addValue(i,iE(null!==(r=e.getStaticValue(i))&&void 0!==r?r:a))}for(var i in n)void 0===t[i]&&e.removeValue(i);return t}(H,d(v),M)},getProps:function(){return v},getVariant:function(e){var t;return null===(t=v.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return v.transition},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null===p||void 0===p?void 0:p.getVariantContext();if(!G){var t=(null===p||void 0===p?void 0:p.getVariantContext())||{};return void 0!==v.initial&&(t.initial=v.initial),t}for(var n={},r=0;r<hS;r++){var i=fS[r],a=v[i];(tk(a)||!1===a)&&(n[i]=a)}return n},enableLayoutProjection:function(){C.isEnabled=!0,H.layoutTree.add(H)},lockProjectionTarget:function(){C.isTargetLocked=!0},unlockProjectionTarget:function(){H.stopLayoutAnimation(),C.isTargetLocked=!1},getLayoutState:function(){return N},setCrossfader:function(e){x=e},isProjectionReady:function(){return C.isEnabled&&C.isHydrated&&N.isHydrated},startLayoutAnimation:function(e,t,n){void 0===n&&(n=!1);var r=H.getProjectionAnimationProgress()[e],i=n?C.relativeTarget[e]:C.target[e],a=i.min,o=i.max-a;return r.clearListeners(),r.set(a),r.set(a),r.onChange((function(t){H.setProjectionTargetAxis(e,t,t+o,n)})),H.animateMotionValue(e,r,0,t)},stopLayoutAnimation:function(){jE((function(e){return H.getProjectionAnimationProgress()[e].stop()}))},measureViewportBox:function(e){void 0===e&&(e=!0);var n=o(b,t);return e||gT(n,T),n},getProjectionAnimationProgress:function(){return _||(_={x:iE(0),y:iE(0)}),_},setProjectionTargetAxis:function(e,t,n,r){var i;void 0===r&&(r=!1),r?(C.relativeTarget||(C.relativeTarget={x:{min:0,max:1},y:{min:0,max:1}}),i=C.relativeTarget[e]):(C.relativeTarget=void 0,i=C.target[e]),C.isHydrated=!0,i.min=t,i.max=n,D=!0,I.notifySetAxisTarget()},rebaseProjectionTarget:function(e,t){void 0===t&&(t=N.layout);var n=H.getProjectionAnimationProgress(),r=n.x,i=n.y,a=!C.relativeTarget&&!C.isTargetLocked&&!r.isAnimating()&&!i.isAnimating();(e||a)&&jE((function(e){var n=t[e],r=n.min,i=n.max;H.setProjectionTargetAxis(e,r,i)}))},notifyLayoutReady:function(e){!function(e){var t=e.getProjectionParent();if(t){var n=iT(t.getLayoutState().layout,e.getLayoutState().layout);jE((function(t){e.setProjectionTargetAxis(t,n[t].min,n[t].max,!0)}))}else e.rebaseProjectionTarget()}(H),H.notifyLayoutUpdate(N.layout,H.prevViewportBox||N.layout,e)},resetTransform:function(){return c(H,b,v)},restoreTransform:function(){return l(b,S)},updateLayoutProjection:function(){if(H.isProjectionReady()){var e=N.delta,t=N.treeScale,n=t.x,r=t.y,i=N.deltaTransform;aS(N,A,H.path,T),D&&H.notifyViewportBoxUpdate(A.target,e),D=!1;var a=tS(e,t);a===i&&n===t.x&&r===t.y||H.scheduleRender(),N.deltaTransform=a}},updateTreeLayoutProjection:function(){H.layoutTree.forEach(sS),g_.preRender(U,!1,!0)},getProjectionParent:function(){if(void 0===k){for(var e=!1,t=H.path.length-1;t>=0;t--){var n=H.path[t];if(n.projection.isEnabled){e=n;break}}k=e}return k},resolveRelativeTargetBox:function(){var e=H.getProjectionParent();if(C.relativeTarget&&e&&(function(e,t){JE(e.target.x,e.relativeTarget.x,t.target.x),JE(e.target.y,e.relativeTarget.y,t.target.y)}(C,e.projection),oT(e))){var t=C.target;vT(t,t,e.getLatestValues())}},shouldResetTransform:function(){return Boolean(v._layoutResetTransform)},pointTo:function(e){A=e.projection,P=e.getLatestValues(),null===w||void 0===w||w(),w=Hw(e.onSetAxisTarget(H.scheduleUpdateLayoutProjection),e.onLayoutAnimationComplete((function(){var e;H.isPresent?H.presence=CT.Present:null===(e=H.layoutSafeToRemove)||void 0===e||e.call(H)})))},isPresent:!0,presence:CT.Entering});return H}};function sS(e){e.resolveRelativeTargetBox()}function cS(e){e.updateLayoutProjection()}var lS,fS=Rb(["initial"],Ob(yE)),hS=fS.length,dS=new Set(["width","height","top","left","right","bottom","x","y"]),pS=function(e){return dS.has(e)},vS=function(e,t){e.set(t,!1),e.set(t)},mS=function(e){return e===Vk||e===Rk};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(lS||(lS={}));var yS=function(e,t){return parseFloat(e.split(", ")[t])},gS=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return yS(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?yS(o[1],e):0}},bS=new Set(["x","y","z"]),kS=pk.filter((function(e){return!bS.has(e)}));var wS={width:function(e){var t=e.x;return t.max-t.min},height:function(e){var t=e.y;return t.max-t.min},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:gS(4,13),y:gS(5,14)},xS=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),t=Nb({},t),r=Nb({},r);var i=Object.keys(t).filter(pS),a=[],o=!1,u=[];if(i.forEach((function(i){var s=e.getValue(i);if(e.hasValue(i)){var c,l=n[i],f=t[i],h=uE(l);if(pw(f))for(var d=f.length,p=null===f[0]?1:0;p<d;p++)c?uE(f[p]):(c=uE(f[p]))===h||mS(h)&&mS(c);else c=uE(f);if(h!==c)if(mS(h)&&mS(c)){var v=s.get();"string"===typeof v&&s.set(parseFloat(v)),"string"===typeof f?t[i]=parseFloat(f):Array.isArray(f)&&c===Rk&&(t[i]=f.map(parseFloat))}else(null===h||void 0===h?void 0:h.transform)&&(null===c||void 0===c?void 0:c.transform)&&(0===l||0===f)?0===l?s.set(c.transform(l)):t[i]=h.transform(f):(o||(a=function(e){var t=[];return kS.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}(e),o=!0),u.push(i),r[i]=void 0!==r[i]?r[i]:t[i],vS(s,f))}})),u.length){var s=function(e,t,n){var r=t.measureViewportBox(),i=t.getInstance(),a=getComputedStyle(i),o=a.display,u={top:a.top,left:a.left,bottom:a.bottom,right:a.right,transform:a.transform};"none"===o&&t.setStaticValue("display",e.display||"block"),t.syncRender();var s=t.measureViewportBox();return n.forEach((function(n){var i=t.getValue(n);vS(i,wS[n](r,u)),e[n]=wS[n](s,a)})),e}(t,e,u);return a.length&&a.forEach((function(t){var n=Ob(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.syncRender(),{target:s,transitionEnd:r}}return{target:t,transitionEnd:r}};function _S(e,t,n,r){return function(e){return Object.keys(e).some(pS)}(t)?xS(e,t,n,r):{target:t,transitionEnd:r}}var ES=function(e,t,n,r){var i=function(e,t,n){var r,i=Db(t,[]),a=e.getInstance();if(!(a instanceof HTMLElement))return{target:i,transitionEnd:n};for(var o in n&&(n=Nb({},n)),e.forEachValue((function(e){var t=e.get();if(NT(t)){var n=OT(t,a);n&&e.set(n)}})),i){var u=i[o];if(NT(u)){var s=OT(u,a);s&&(i[o]=s,n&&(null!==(r=n[o])&&void 0!==r||(n[o]=u)))}}return{target:i,transitionEnd:n}}(e,t,r);return _S(e,t=i.target,n,r=i.transitionEnd)};var TS={treeType:"dom",readValueFromInstance:function(e,t){if(yk(t)){var n=G_(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r));return(_k(t)?i.getPropertyValue(t):i[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return KE(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var i=n.transformValues;void 0===r&&(r=!0);var a=t.transition,o=t.transitionEnd,u=Db(t,["transition","transitionEnd"]),s=function(e,t,n){var r,i,a={};for(var o in e)a[o]=null!==(r=hE(o,t))&&void 0!==r?r:null===(i=n.getValue(o))||void 0===i?void 0:i.get();return a}(u,a||{},e);if(i&&(o&&(o=i(o)),u&&(u=i(u)),s&&(s=i(s))),r){!function(e,t,n){var r,i,a,o,u=Object.keys(t).filter((function(t){return!e.hasValue(t)})),s=u.length;if(s)for(var c=0;c<s;c++){var l=u[c],f=t[l],h=null;Array.isArray(f)&&(h=f[0]),null===h&&(h=null!==(i=null!==(r=n[l])&&void 0!==r?r:e.readValue(l))&&void 0!==i?i:t[l]),void 0!==h&&null!==h&&("string"===typeof h&&Z_(h)?h=parseFloat(h):!cE(h)&&Sx.test(f)&&(h=K_(l,f)),e.addValue(l,iE(h)),null!==(a=(o=n)[l])&&void 0!==a||(o[l]=h),e.setBaseTarget(l,h))}}(e,u,s);var c=ES(e,u,s,o);o=c.transitionEnd,u=c.target}return Nb({transition:a,transitionEnd:o},u)},scrapeMotionValuesFromProps:fw,build:function(e,t,n,r,i,a,o){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden");var u=r.isEnabled&&i.isHydrated;qk(t,n,r,i,a,o.transformTemplate,u?tS:void 0,u?nS:void 0)},render:sw},SS=uS(TS),IS=uS(Nb(Nb({},TS),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return yk(t)?(null===(n=G_(t))||void 0===n?void 0:n.default)||0:(t=cw.has(t)?t:uw(t),e.getAttribute(t))},scrapeMotionValuesFromProps:hw,build:function(e,t,n,r,i,a,o){var u=r.isEnabled&&i.isHydrated;nw(t,n,r,i,a,o.transformTemplate,u?tS:void 0,u?nS:void 0)},render:lw})),CS=function(e,t){return fk(e)?IS(t,{enableHardwareAcceleration:!1}):SS(t,{enableHardwareAcceleration:!0})},AS=Nb(Nb(Nb(Nb({},_E),Qw),PT),JT),PS=ck((function(e,t){return function(e,t,n,r){var i=t.forwardMotionProps,a=void 0!==i&&i,o=fk(e)?kw:xw;return Nb(Nb({},o),{preloadedFeatures:n,useRender:aw(a),createVisualElement:r,Component:e})}(e,t,AS,CS)}));var NS=function(e){var n=e.file,r=e.setFile,i=Cb(n),a=i.url,o=i.progress;return(0,t.useEffect)((function(){a&&r(null)}),[a,r]),(0,u.jsx)(PS.div,{className:"progress-bar",initial:{width:0},animate:{width:o+"%"}})},DS=function(){var e=o((0,t.useState)(null),2),n=e[0],r=e[1],i=o((0,t.useState)(null),2),a=i[0],s=i[1],c=["image/png","image/jpeg"];return(0,u.jsxs)("form",{children:[(0,u.jsxs)("label",{children:[(0,u.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&c.includes(t.type)?(r(t),s("")):(r(null),s("Please select an image file (png or jpeg)")),console.log(e.target.files)}}),(0,u.jsx)("span",{children:"+"})]}),(0,u.jsxs)("div",{className:"output",children:[a&&(0,u.jsx)("div",{className:"error",children:a}),n&&(0,u.jsx)("div",{children:n.name}),n&&(0,u.jsx)(NS,{file:n,setFile:r})]})]})};function OS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OS(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var MS=function(e){var n=o((0,t.useState)([]),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){var t=Sb.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(RS(RS({},e.data()),{},{id:e.id}))})),i(t)}));return function(){return t()}}),[e]),{docs:r}},LS=function(e){var t=e.setSelectedImage,n=MS("images").docs;return(0,u.jsx)("div",{className:"img-grid",children:n&&n.map((function(e){return(0,u.jsx)(PS.div,{className:"img-wrap",layout:!0,whileHover:{opacity:1},onClick:function(){return t(e.url)},children:(0,u.jsx)(PS.img,{src:e.url,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}})},e.id)}))})},FS=function(e){var t=e.selectedImage,n=e.setSelectedImage;return(0,u.jsx)(PS.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&n(null)},initial:{opacity:0},animate:{opacity:1},children:(0,u.jsx)(PS.img,{src:t,alt:"enlarged pic",initial:{y:"-100vh"},animate:{y:0}})})};function VS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VS(Object(n),!0).forEach((function(t){zS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function US(e){return US="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},US(e)}function BS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||KS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GS(e){return function(e){if(Array.isArray(e))return HS(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||KS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KS(e,t){if(e){if("string"===typeof e)return HS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HS(e,t):void 0}}function HS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var WS=function(){},QS={},YS={},XS=null,$S={mark:WS,measure:WS};try{"undefined"!==typeof window&&(QS=window),"undefined"!==typeof document&&(YS=document),"undefined"!==typeof MutationObserver&&(XS=MutationObserver),"undefined"!==typeof performance&&($S=performance)}catch(nP){}var JS=(QS.navigator||{}).userAgent,ZS=void 0===JS?"":JS,eI=QS,tI=YS,nI=XS,rI=$S,iI=(eI.document,!!tI.documentElement&&!!tI.head&&"function"===typeof tI.addEventListener&&"function"===typeof tI.createElement),aI=~ZS.indexOf("MSIE")||~ZS.indexOf("Trident/"),oI="svg-inline--fa",uI="data-fa-i2svg",sI="data-fa-pseudo-element",cI="data-prefix",lI="data-icon",fI="fontawesome-i2svg",hI=["HTML","HEAD","STYLE","SCRIPT"],dI=function(){try{return!0}catch(nP){return!1}}(),pI={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},vI={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},mI={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},yI={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},gI=/fa[srltdbk\-\ ]/,bI="fa-layers-text",kI=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,wI={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},xI=[1,2,3,4,5,6,7,8,9,10],_I=xI.concat([11,12,13,14,15,16,17,18,19,20]),EI=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],TI="duotone-group",SI="swap-opacity",II="primary",CI="secondary",AI=[].concat(GS(Object.keys(vI)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",TI,SI,II,CI]).concat(xI.map((function(e){return"".concat(e,"x")}))).concat(_I.map((function(e){return"w-".concat(e)}))),PI=eI.FontAwesomeConfig||{};if(tI&&"function"===typeof tI.querySelector){[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=qS(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=tI.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(PI[r]=i)}))}var NI=jS(jS({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:oI,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),PI);NI.autoReplaceSvg||(NI.observeMutations=!1);var DI={};Object.keys(NI).forEach((function(e){Object.defineProperty(DI,e,{enumerable:!0,set:function(t){NI[e]=t,OI.forEach((function(e){return e(DI)}))},get:function(){return NI[e]}})})),eI.FontAwesomeConfig=DI;var OI=[];var RI=16,MI={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function LI(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function FI(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function VI(e){return e.classList?FI(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function jI(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function UI(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function BI(e){return e.size!==MI.size||e.x!==MI.x||e.y!==MI.y||e.rotate!==MI.rotate||e.flipX||e.flipY}function zI(){var e="fa",t=oI,n=DI.familyPrefix,r=DI.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(u,".".concat(r))}return i}var qI=!1;function GI(){DI.autoAddCss&&!qI&&(!function(e){if(e&&iI){var t=tI.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=tI.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}tI.head.insertBefore(t,r)}}(zI()),qI=!0)}var KI={mixout:function(){return{dom:{css:zI,insertCss:GI}}},hooks:function(){return{beforeDOMElementCreation:function(){GI()},beforeI2svg:function(){GI()}}}},HI=eI||{};HI.___FONT_AWESOME___||(HI.___FONT_AWESOME___={}),HI.___FONT_AWESOME___.styles||(HI.___FONT_AWESOME___.styles={}),HI.___FONT_AWESOME___.hooks||(HI.___FONT_AWESOME___.hooks={}),HI.___FONT_AWESOME___.shims||(HI.___FONT_AWESOME___.shims=[]);var WI=HI.___FONT_AWESOME___,QI=[],YI=!1;function XI(e){iI&&(YI?setTimeout(e,0):QI.push(e))}function $I(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?jI(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(jI(e[n]),'" ')}),"").trim()}(r),">").concat(a.map($I).join(""),"</").concat(t,">")}function JI(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}iI&&((YI=(tI.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(tI.readyState))||tI.addEventListener("DOMContentLoaded",(function e(){tI.removeEventListener("DOMContentLoaded",e),YI=1,QI.map((function(e){return e()}))})));var ZI=function(e,t,n,r){var i,a,o,u=Object.keys(e),s=u.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[u[0]]):(i=0,o=n);i<s;i++)o=c(o,e[a=u[i]],a,e);return o};function eC(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function tC(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function nC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=tC(t);"function"!==typeof WI.hooks.addPack||i?WI.styles[e]=jS(jS({},WI.styles[e]||{}),a):WI.hooks.addPack(e,tC(t)),"fas"===e&&nC("fa",t)}var rC=WI.styles,iC=WI.shims,aC=Object.values(mI),oC=null,uC={},sC={},cC={},lC={},fC={},hC=Object.keys(pI);function dC(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~AI.indexOf(n))?null:a}var pC=function(){var e=function(e){return ZI(rC,(function(t,n,r){return t[r]=ZI(n,e,{}),t}),{})};uC=e((function(e,t,n){if(t[3]&&(e[t[3]]=n),t[2]){var r=t[2].filter((function(e){return"number"===typeof e}));r.forEach((function(t){e[t.toString(16)]=n}))}return e})),sC=e((function(e,t,n){if(e[n]=n,t[2]){var r=t[2].filter((function(e){return"string"===typeof e}));r.forEach((function(t){e[t]=n}))}return e})),fC=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in rC||DI.autoFetchSvg,n=ZI(iC,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});cC=n.names,lC=n.unicodes,oC=bC(DI.styleDefault)};function vC(e,t){return(uC[e]||{})[t]}function mC(e,t){return(fC[e]||{})[t]}function yC(e){return cC[e]||{prefix:null,iconName:null}}function gC(){return oC}!function(e){OI.push(e)}((function(e){oC=bC(e.styleDefault)})),pC();function bC(e){var t=vI[e]||vI[pI[e]],n=e in WI.styles?e:null;return t||n||null}function kC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.skipLookups,r=void 0!==n&&n,i=null,a=e.reduce((function(e,t){var n=dC(DI.familyPrefix,t);if(rC[t]?(t=aC.includes(t)?yI[t]:t,i=t,e.prefix=t):hC.indexOf(t)>-1?(i=t,e.prefix=bC(t)):n?e.iconName=n:t!==DI.replacementClass&&e.rest.push(t),!r&&e.prefix&&e.iconName){var a="fa"===i?yC(e.iconName):{},o=mC(e.prefix,e.iconName);a.prefix&&(i=null),e.iconName=a.iconName||o||e.iconName,e.prefix=a.prefix||e.prefix,"far"!==e.prefix||rC.far||!rC.fas||DI.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return"fa"!==a.prefix&&"fa"!==i||(a.prefix=gC()||"fas"),a}var wC=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=jS(jS({},e.definitions[t]||{}),i[t]),nC(t,i[t]);var n=mI[t];n&&nC(n,i[t]),pC()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,u=o[2];e[i]||(e[i]={}),u.length>0&&u.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&BS(t.prototype,n),r&&BS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),xC=[],_C={},EC={},TC=Object.keys(EC);function SC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=_C[e]||[];return a.forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function IC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=_C[e]||[];i.forEach((function(e){e.apply(null,n)}))}function CC(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return EC[e]?EC[e].apply(null,t):void 0}function AC(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||gC();if(t)return t=mC(n,t)||t,JI(PC.definitions,n,t)||JI(WI.styles,n,t)}var PC=new wC,NC={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return iI?(IC("beforeI2svg",e),CC("pseudoElements2svg",e),CC("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===DI.autoReplaceSvg&&(DI.autoReplaceSvg=!0),DI.observeMutations=!0,XI((function(){RC({autoReplaceSvgRoot:t}),IC("watch",e)}))}},DC={icon:function(e){if(null===e)return null;if("object"===US(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:mC(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=bC(e[0]);return{prefix:n,iconName:mC(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(DI.familyPrefix,"-"))>-1||e.match(gI))){var r=kC(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||gC(),iconName:mC(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=gC();return{prefix:i,iconName:mC(i,e)||e}}}},OC={noAuto:function(){DI.autoReplaceSvg=!1,DI.observeMutations=!1,IC("noAuto")},config:DI,dom:NC,parse:DC,library:PC,findIconDefinition:AC,toHtml:$I},RC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,n=void 0===t?tI:t;(Object.keys(WI.styles).length>0||DI.autoFetchSvg)&&iI&&DI.autoReplaceSvg&&OC.dom.i2svg({node:n})};function MC(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return $I(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(iI){var t=tI.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function LC(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,u=e.symbol,s=e.title,c=e.maskId,l=e.titleId,f=e.extra,h=e.watchable,d=void 0!==h&&h,p=r.found?r:n,v=p.width,m=p.height,y="fak"===i,g=[DI.replacementClass,a?"".concat(DI.familyPrefix,"-").concat(a):""].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),b={children:[],attributes:jS(jS({},f.attributes),{},{"data-prefix":i,"data-icon":a,class:g,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(m)})},k=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(v/m*16*.0625,"em")}:{};d&&(b.attributes[uI]=""),s&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(l||LI())},children:[s]}),delete b.attributes.title);var w=jS(jS({},b),{},{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:u,styles:jS(jS({},k),f.styles)}),x=r.found&&n.found?CC("generateAbstractMask",w)||{children:[],attributes:{}}:CC("generateAbstractIcon",w)||{children:[],attributes:{}},_=x.children,E=x.attributes;return w.children=_,w.attributes=E,u?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(DI.familyPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:jS(jS({},i),{},{id:o}),children:r}]}]}(w):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(BI(o)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=UI(jS(jS({},a),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(w)}function FC(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,u=e.watchable,s=void 0!==u&&u,c=jS(jS(jS({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});s&&(c[uI]="");var l=jS({},o.styles);BI(i)&&(l.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,a=void 0===i?16:i,o=e.startCentered,u=void 0!==o&&o,s="";return s+=u&&aI?"translate(".concat(t.x/RI-r/2,"em, ").concat(t.y/RI-a/2,"em) "):u?"translate(calc(-50% + ".concat(t.x/RI,"em), calc(-50% + ").concat(t.y/RI,"em)) "):"translate(".concat(t.x/RI,"em, ").concat(t.y/RI,"em) "),s+="scale(".concat(t.size/RI*(t.flipX?-1:1),", ").concat(t.size/RI*(t.flipY?-1:1),") "),s+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var f=UI(l);f.length>0&&(c.style=f);var h=[];return h.push({tag:"span",attributes:c,children:[t]}),a&&h.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),h}function VC(e){var t=e.content,n=e.title,r=e.extra,i=jS(jS(jS({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=UI(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var jC=WI.styles;function UC(e){var t=e[0],n=e[1],r=qS(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(DI.familyPrefix,"-").concat(TI)},children:[{tag:"path",attributes:{class:"".concat(DI.familyPrefix,"-").concat(CI),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(DI.familyPrefix,"-").concat(II),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var BC={found:!1,width:512,height:512};function zC(e,t){var n=t;return"fa"===t&&null!==DI.styleDefault&&(t=gC()),new Promise((function(r,i){CC("missingIconAbstract");if("fa"===n){var a=yC(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&jC[t]&&jC[t][e])return r(UC(jC[t][e]));!function(e,t){dI||DI.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(jS(jS({},BC),{},{icon:DI.showMissingIcons&&e&&CC("missingIconAbstract")||{}}))}))}var qC=function(){},GC=DI.measurePerformance&&rI&&rI.mark&&rI.measure?rI:{mark:qC,measure:qC},KC='FA "6.1.1"',HC=function(e){GC.mark("".concat(KC," ").concat(e," ends")),GC.measure("".concat(KC," ").concat(e),"".concat(KC," ").concat(e," begins"),"".concat(KC," ").concat(e," ends"))},WC=function(e){return GC.mark("".concat(KC," ").concat(e," begins")),function(){return HC(e)}},QC=function(){};function YC(e){return"string"===typeof(e.getAttribute?e.getAttribute(uI):null)}function XC(e){return tI.createElementNS("http://www.w3.org/2000/svg",e)}function $C(e){return tI.createElement(e)}function JC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,r=void 0===n?"svg"===e.tag?XC:$C:n;if("string"===typeof e)return tI.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach((function(t){i.setAttribute(t,e.attributes[t])}));var a=e.children||[];return a.forEach((function(e){i.appendChild(JC(e,{ceFn:r}))})),i}var ZC={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(JC(e),t)})),null===t.getAttribute(uI)&&DI.keepOriginalSource){var n=tI.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~VI(t).indexOf(DI.replacementClass))return ZC.replace(e);var r=new RegExp("".concat(DI.familyPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===DI.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return $I(e)})).join("\n");t.setAttribute(uI,""),t.innerHTML=a}};function eA(e){e()}function tA(e,t){var n="function"===typeof t?t:QC;if(0===e.length)n();else{var r=eA;"async"===DI.mutateApproach&&(r=eI.requestAnimationFrame||eA),r((function(){var t=!0===DI.autoReplaceSvg?ZC.replace:ZC[DI.autoReplaceSvg]||ZC.replace,r=WC("mutate");e.map(t),r(),n()}))}}var nA=!1;function rA(){nA=!0}function iA(){nA=!1}var aA=null;function oA(e){if(nI&&DI.observeMutations){var t=e.treeCallback,n=void 0===t?QC:t,r=e.nodeCallback,i=void 0===r?QC:r,a=e.pseudoElementsCallback,o=void 0===a?QC:a,u=e.observeMutationsRoot,s=void 0===u?tI:u;aA=new nI((function(e){if(!nA){var t=gC();FI(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!YC(e.addedNodes[0])&&(DI.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&DI.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&YC(e.target)&&~EI.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(cI):null,n=e.getAttribute?e.getAttribute(lI):null;return t&&n}(e.target)){var r=kC(VI(e.target)),a=r.prefix,u=r.iconName;e.target.setAttribute(cI,a||t),u&&e.target.setAttribute(lI,u)}else(s=e.target)&&s.classList&&s.classList.contains&&s.classList.contains(DI.replacementClass)&&i(e.target);var s}))}})),iI&&aA.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function uA(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}function sA(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=kC(VI(e));return i.prefix||(i.prefix=gC()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=function(e,t){return(sC[e]||{})[t]}(i.prefix,e.innerText)||vC(i.prefix,eC(e.innerText))),i}function cA(e){var t=FI(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return DI.autoA11y&&(n?t["aria-labelledby"]="".concat(DI.replacementClass,"-title-").concat(r||LI()):(t["aria-hidden"]="true",t.focusable="false")),t}function lA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=sA(e),r=n.iconName,i=n.prefix,a=n.rest,o=cA(e),u=SC("parseNodeAttributes",{},e),s=t.styleParser?uA(e):[];return jS({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:MI,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:s,attributes:o}},u)}var fA=WI.styles;function hA(e){var t="nest"===DI.autoReplaceSvg?lA(e,{styleParser:!1}):lA(e);return~t.extra.classes.indexOf(bI)?CC("generateLayersText",e,t):CC("generateSvgReplacementMutation",e,t)}function dA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!iI)return Promise.resolve();var n=tI.documentElement.classList,r=function(e){return n.add("".concat(fI,"-").concat(e))},i=function(e){return n.remove("".concat(fI,"-").concat(e))},a=DI.autoFetchSvg?Object.keys(pI):Object.keys(fA),o=[".".concat(bI,":not([").concat(uI,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(uI,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var u=[];try{u=FI(e.querySelectorAll(o))}catch(nP){}if(!(u.length>0))return Promise.resolve();r("pending"),i("complete");var s=WC("onTree"),c=u.reduce((function(e,t){try{var n=hA(t);n&&e.push(n)}catch(nP){dI||"MissingIcon"===nP.name&&console.error(nP)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){tA(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),s(),e()}))})).catch((function(e){s(),n(e)}))}))}function pA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;hA(e).then((function(e){e&&tA([e],t)}))}var vA=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?MI:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,u=void 0===o?null:o,s=t.maskId,c=void 0===s?null:s,l=t.title,f=void 0===l?null:l,h=t.titleId,d=void 0===h?null:h,p=t.classes,v=void 0===p?[]:p,m=t.attributes,y=void 0===m?{}:m,g=t.styles,b=void 0===g?{}:g;if(e){var k=e.prefix,w=e.iconName,x=e.icon;return MC(jS({type:"icon"},e),(function(){return IC("beforeDOMElementCreation",{iconDefinition:e,params:t}),DI.autoA11y&&(f?y["aria-labelledby"]="".concat(DI.replacementClass,"-title-").concat(d||LI()):(y["aria-hidden"]="true",y.focusable="false")),LC({icons:{main:UC(x),mask:u?UC(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:k,iconName:w,transform:jS(jS({},MI),r),symbol:a,title:f,maskId:c,titleId:d,extra:{attributes:y,styles:b,classes:v}})}))}},mA={mixout:function(){return{icon:(e=vA,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:AC(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:AC(i||{})),e(r,jS(jS({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=dA,e.nodeCallback=pA,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?tI:t,r=e.callback;return dA(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,u=t.symbol,s=t.mask,c=t.maskId,l=t.extra;return new Promise((function(t,f){Promise.all([zC(n,a),s.iconName?zC(s.iconName,s.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(s){var f=qS(s,2),h=f[0],d=f[1];t([e,LC({icons:{main:h,mask:d},prefix:a,iconName:n,transform:o,symbol:u,maskId:c,title:r,titleId:i,extra:l,watchable:!0})])})).catch(f)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=UI(e.styles);return o.length>0&&(r.style=o),BI(a)&&(t=CC("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},yA={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return MC({type:"layer"},(function(){IC("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(DI.familyPrefix,"-layers")].concat(GS(r)).join(" ")},children:n}]}))}}}},gA={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,u=void 0===o?{}:o,s=t.styles,c=void 0===s?{}:s;return MC({type:"counter",content:e},(function(){return IC("beforeDOMElementCreation",{content:e,params:t}),VC({content:e.toString(),title:r,extra:{attributes:u,styles:c,classes:["".concat(DI.familyPrefix,"-layers-counter")].concat(GS(a))}})}))}}}},bA={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?MI:n,i=t.title,a=void 0===i?null:i,o=t.classes,u=void 0===o?[]:o,s=t.attributes,c=void 0===s?{}:s,l=t.styles,f=void 0===l?{}:l;return MC({type:"text",content:e},(function(){return IC("beforeDOMElementCreation",{content:e,params:t}),FC({content:e,transform:jS(jS({},MI),r),title:a,extra:{attributes:c,styles:f,classes:["".concat(DI.familyPrefix,"-layers-text")].concat(GS(u))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(aI){var u=parseInt(getComputedStyle(e).fontSize,10),s=e.getBoundingClientRect();a=s.width/u,o=s.height/u}return DI.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,FC({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},kA=new RegExp('"',"ug"),wA=[1105920,1112319];function xA(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=FI(e.children).filter((function(e){return e.getAttribute(sI)===t}))[0],o=eI.getComputedStyle(e,t),u=o.getPropertyValue("font-family").match(kI),s=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(a&&!u)return e.removeChild(a),r();if(u&&"none"!==c&&""!==c){var l=o.getPropertyValue("content"),f=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(u[2])?vI[u[2].toLowerCase()]:wI[s],h=function(e){var t=e.replace(kA,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=wA[0]&&n<=wA[1],i=2===t.length&&t[0]===t[1];return{value:eC(i?t[0]:t),isSecondary:r||i}}(l),d=h.value,p=h.isSecondary,v=u[0].startsWith("FontAwesome"),m=vC(f,d),y=m;if(v){var g=function(e){var t=lC[e],n=vC("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(d);g.iconName&&g.prefix&&(m=g.iconName,f=g.prefix)}if(!m||p||a&&a.getAttribute(cI)===f&&a.getAttribute(lI)===y)r();else{e.setAttribute(n,y),a&&e.removeChild(a);var b={iconName:null,title:null,titleId:null,prefix:null,transform:MI,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},k=b.extra;k.attributes[sI]=t,zC(m,f).then((function(i){var a=LC(jS(jS({},b),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:f,iconName:y,extra:k,watchable:!0})),o=tI.createElement("svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return $I(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function _A(e){return Promise.all([xA(e,"::before"),xA(e,"::after")])}function EA(e){return e.parentNode!==document.head&&!~hI.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(sI)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function TA(e){if(iI)return new Promise((function(t,n){var r=FI(e.querySelectorAll("*")).filter(EA).map(_A),i=WC("searchPseudoElements");rA(),Promise.all(r).then((function(){i(),iA(),t()})).catch((function(){i(),iA(),n()}))}))}var SA=!1,IA=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},CA={mixout:function(){return{parse:{transform:function(e){return IA(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=IA(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),u="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),s="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(o," ").concat(u," ").concat(s)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:jS({},c.outer),children:[{tag:"g",attributes:jS({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:jS(jS({},t.icon.attributes),c.path)}]}]}}}},AA={x:0,y:0,width:"100%",height:"100%"};function PA(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var NA={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?kC(n.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=gC()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,u=e.transform,s=i.width,c=i.icon,l=a.width,f=a.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(u)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:u,containerWidth:l,iconWidth:s}),d={tag:"rect",attributes:jS(jS({},AA),{},{fill:"white"})},p=c.children?{children:c.children.map(PA)}:{},v={tag:"g",attributes:jS({},h.inner),children:[PA(jS({tag:c.tag,attributes:jS(jS({},c.attributes),h.path)},p))]},m={tag:"g",attributes:jS({},h.outer),children:[v]},y="mask-".concat(o||LI()),g="clip-".concat(o||LI()),b={tag:"mask",attributes:jS(jS({},AA),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(t=f,"g"===t.tag?t.children:[t])},b]};return n.push(k,{tag:"rect",attributes:jS({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(y,")")},AA)}),{children:n,attributes:r}}}},DA={provides:function(e){var t=!1;eI.matchMedia&&(t=eI.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:jS(jS({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=jS(jS({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:jS(jS({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:jS(jS({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:jS(jS({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:jS(jS({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:jS(jS({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:jS(jS({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:jS(jS({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;xC=e,_C={},Object.keys(EC).forEach((function(e){-1===TC.indexOf(e)&&delete EC[e]})),xC.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===US(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){_C[e]||(_C[e]=[]),_C[e].push(r[e])}))}e.provides&&e.provides(EC)}))}([KI,mA,yA,gA,bA,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=TA,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?tI:t;DI.searchPseudoElements&&TA(n)}}},{mixout:function(){return{dom:{unwatch:function(){rA(),SA=!0}}}},hooks:function(){return{bootstrap:function(){oA(SC("mutationObserverCallbacks",{}))},noAuto:function(){aA&&aA.disconnect()},watch:function(e){var t=e.observeMutationsRoot;SA?iA():oA(SC("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},CA,NA,DA,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:OC});var OA=OC.parse,RA=OC.icon,MA=n(7),LA=n.n(MA);function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FA(Object(n),!0).forEach((function(t){UA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jA(e){return jA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jA(e)}function UA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zA(e){return function(e){if(Array.isArray(e))return qA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return qA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GA(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var KA=["style"];function HA(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=GA(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var WA=!1;try{WA=!0}catch(nP){}function QA(e){return e&&"object"===jA(e)&&e.prefix&&e.iconName&&e.icon?e:OA.icon?OA.icon(e):null===e?null:e&&"object"===jA(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function YA(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?UA({},e,t):{}}var XA=["forwardedRef"];function $A(e){var t=e.forwardedRef,n=BA(e,XA),r=n.icon,i=n.mask,a=n.symbol,o=n.className,u=n.title,s=n.titleId,c=n.maskId,l=QA(r),f=YA("classes",[].concat(zA(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,u=e.flash,s=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,h=e.fixedWidth,d=e.inverse,p=e.border,v=e.listItem,m=e.flip,y=e.size,g=e.rotation,b=e.pull,k=(UA(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":u,"fa-spin":s,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":h,"fa-inverse":d,"fa-border":p,"fa-li":v,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(y),"undefined"!==typeof y&&null!==y),UA(t,"fa-rotate-".concat(g),"undefined"!==typeof g&&null!==g&&0!==g),UA(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),UA(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(k).map((function(e){return k[e]?e:null})).filter((function(e){return e}))}(n)),zA(o.split(" ")))),h=YA("transform","string"===typeof n.transform?OA.transform(n.transform):n.transform),d=YA("mask",QA(i)),p=RA(l,VA(VA(VA(VA({},f),h),d),{},{symbol:a,title:u,titleId:s,maskId:c}));if(!p)return function(){var e;!WA&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",l),null;var v=p.abstract,m={ref:t};return Object.keys(n).forEach((function(e){$A.defaultProps.hasOwnProperty(e)||(m[e]=n[e])})),JA(v[0],m)}$A.displayName="FontAwesomeIcon",$A.propTypes={beat:LA().bool,border:LA().bool,bounce:LA().bool,className:LA().string,fade:LA().bool,flash:LA().bool,mask:LA().oneOfType([LA().object,LA().array,LA().string]),maskId:LA().string,fixedWidth:LA().bool,inverse:LA().bool,flip:LA().oneOf(["horizontal","vertical","both"]),icon:LA().oneOfType([LA().object,LA().array,LA().string]),listItem:LA().bool,pull:LA().oneOf(["right","left"]),pulse:LA().bool,rotation:LA().oneOf([0,90,180,270]),shake:LA().bool,size:LA().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:LA().bool,spinPulse:LA().bool,spinReverse:LA().bool,symbol:LA().oneOfType([LA().bool,LA().string]),title:LA().string,titleId:LA().string,transform:LA().oneOfType([LA().string,LA().object]),swapOpacity:LA().bool},$A.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var JA=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=HA(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[GA(t)]=r}return e}),{attrs:{}}),o=r.style,u=void 0===o?{}:o,s=BA(r,KA);return a.attrs.style=VA(VA({},a.attrs.style),u),t.apply(void 0,[n.tag,VA(VA({},a.attrs),s)].concat(zA(i)))}.bind(null,t.createElement),ZA={prefix:"fas",iconName:"user",icon:[448,512,[62144,128100],"f007","M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"]},eP=function(){return(0,u.jsxs)("div",{className:"navbar",children:[(0,u.jsx)($A,{icon:ZA,className:"user-icon"}),(0,u.jsx)("h1",{children:"Photo Gallery"})]})};var tP=function(){var e=o((0,t.useState)(null),2),n=e[0],r=e[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(eP,{}),(0,u.jsxs)("div",{className:"App",children:[(0,u.jsx)(s,{}),(0,u.jsx)(DS,{}),(0,u.jsx)(LS,{setSelectedImage:r}),n&&(0,u.jsx)(FS,{selectedImage:n,setSelectedImage:r})]})]})};r.render((0,u.jsx)(t.StrictMode,{children:(0,u.jsx)(tP,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.f8754ca3.js.map